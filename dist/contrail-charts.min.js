!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require(void 0),require(void 0),require(void 0),require(void 0)):"function"==typeof define&&define.amd?define(["d3v4","lodash","backbone","jquery"],t):"object"==typeof exports?exports.cc=t(require(void 0),require(void 0),require(void 0),require(void 0)):e.cc=t(e.d3,e._,e.Backbone,e.jQuery)}(this,function(e,t,r,n){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=160)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(162),c=_interopRequireDefault(s),f=r(3),d=_interopRequireDefault(f),p=r(39),h=_interopRequireDefault(p),g=r(4),y=_interopRequireDefault(g),_=r(34),v=_interopRequireDefault(_),b=function(e){function ChartView(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ChartView);var t=_possibleConstructorReturn(this,(ChartView.__proto__||Object.getPrototypeOf(ChartView)).call(this,e));t._id=e.id||a.default.get(e,"config.id"),t.d3.attr("id",t.id),t._container=e.container;var r=t.constructor.Model||h.default;return t.model&&t.model instanceof r||(e.model instanceof r?t.model=e.model:t.model=new r(void 0,e.model),e.config.frozen||t.listenTo(t.model,"change",t._onDataModelChange||t.render)),t.setConfig(e.config),t._onResize=t._onResize.bind(t),e.config.frozen||window.addEventListener("resize",t._onResize),a.default.each(t.constructor.Actions,function(e){return y.default.set(e,t)}),y.default.set(v.default,t),t}return _inherits(ChartView,e),n(ChartView,[{key:"setData",value:function(e){this.model.data=e}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.constructor.Config||d.default;e instanceof t?this.config=e:this.config?this.config.set(e):(e=a.default.cloneDeep(e),e.id=this.id,this.config=new t(e),this.config.get("frozen")||this.listenTo(this.config,"change",this.render))}},{key:"render",value:function(e){var t=this;if(this.isTagNameSvg(this.tagName)){if(this._initSvg(),this.svg.select("#"+this.id).empty()){this.el.setAttribute("data-order",this.zIndex);var r=a.default.find(this.svg.node().children,function(e){return e.getAttribute("data-order")>t.zIndex})||null;this.svg.node().insertBefore(this.el,r)}this.d3.attr("transform","translate("+this.config.margin.left+","+this.config.margin.top+")")}else e&&(this.el.innerHTML=e),this._insertSorted(this.el)}},{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._visible=!0,t.container&&(this._container=t.container),this.config.set(t,{silent:!0}),this.setData(e),this.d3.classed("hide",!1)}},{key:"hide",value:function(){this.d3.classed("hide",!0),this._visible=!1}},{key:"setFrozen",value:function(e){var t=this;this.config.get("frozen")!==e&&(this.config.set("frozen",e,{silent:!0}),e?(this.stopListening(this.config),this.stopListening(this.model),a.default.each(this.constructor.Actions,function(e){return y.default.unset(e,t)})):(this.listenTo(this.config,"change",this.render),this.listenTo(this.model,"change",this._onDataModelChange||this.render),a.default.each(this.constructor.Actions,function(e){return y.default.set(e,t)})))}},{key:"setHalt",value:function(e){this.config.get("halted")!==e&&(this.config.set("halted",e,{silent:!0}),e?this.stopListening(this.model):this.listenTo(this.model,"change",this._onDataModelChange||this.render))}},{key:"remove",value:function(){var e=this;this.config&&this.stopListening(this.config),this.config.clear({silent:!0}),this.model&&this.stopListening(this.model),window.removeEventListener("resize",this._onResize),a.default.each(this.constructor.Actions,function(t){return y.default.unset(t,e)}),i(ChartView.prototype.__proto__||Object.getPrototypeOf(ChartView.prototype),"remove",this).call(this)}},{key:"_initSvg",value:function(){var e=this.config.get("isSharedContainer");if(this.svg.empty()){var t=document.createElement("div"),r=document.createElementNS("http://www.w3.org/2000/svg","svg");t.appendChild(r),r.classList.add(this.selectorClass("svg")),e?r.classList.add(this.selectorClass("sharedSvg")):t.setAttribute("id",this.id+"-svg-wrapper"),t.classList.add(this.selectorClass("svgWrapper")),this._insertSorted(t)}var n=this.svg.node().parentNode.dataset.order;if(this.config.get("isPrimary")&&n!==this.config.get("order")){var i=this.svg.node().parentNode;i.remove(),this._insertSorted(i)}this.svg.classed(this.selectorClass("sharedSvg"),e).attr("width",this.width).attr("height",this.height)}},{key:"_insertSorted",value:function(e){e.parentElement!==this._container&&(this.config.get("isSharedContainer")&&!this.config.get("isPrimary")||(e.dataset.order=this.config.get("order")),e.classList.add(this.selectorClass("component")),this._container.appendChild(e),this._container.childElementCount>1&&this.config.has("order")&&this.container.selectAll("#"+this._container.id+" > "+this.selectors.component).datum(function(){return this.dataset.order}).sort().datum(null))}},{key:"_onResize",value:function(){this._ticking||(window.requestAnimationFrame(this.render.bind(this)),this._ticking=!0)}},{key:"_onEvent",value:function(e,t,r){var n=a.default.invert(this.selectors)["."+t.classList[0]],i=this.config.getAction(n,r.type);a.default.isFunction(i)&&i(e.data)}},{key:"selectors",get:function(){return{chart:".cc-chart",component:".cc-component",svgWrapper:".svg-wrapper",svg:".cc-svg",sharedSvg:".shared-svg",node:".node",interactive:".interactive",active:".active"}}},{key:"events",get:function(){return{"click node":"_onEvent","dblclick node":"_onEvent"}}},{key:"zIndex",get:function(){return 0}},{key:"id",get:function(){return this._id||this.cid},set:function(e){}},{key:"isMaster",get:function(){var e=this.constructor.isMaster;return!!a.default.isNil(e)||e}},{key:"svg",get:function(){var e="";return e=this.config.get("isSharedContainer")?"#"+this._container.id+" > "+this.selectors.svgWrapper+" > svg"+this.selectors.svg+this.selectors.sharedSvg:this.isTagNameSvg(this.tagName)?"#"+this._container.id+" > #"+this.id+"-svg-wrapper > svg"+this.selectors.svg:"#"+this._container.id+" > #"+this.id+" > "+this.selectors.svgWrapper+" > svg"+this.selectors.svg+this.selectors.sharedSvg,this.container.select(e)}},{key:"container",get:function(){return l.select(this._container)},set:function(e){this._container||(this._container=e)}},{key:"svgOffset",get:function(){return{left:this.svg.node().getBoundingClientRect().left-this._container.getBoundingClientRect().left,top:this.svg.node().getBoundingClientRect().top-this._container.getBoundingClientRect().top}}},{key:"padding",get:function(){return this.config.padding}},{key:"width",get:function(){return this.config.get("width")||this._container.getBoundingClientRect().width}},{key:"innerWidth",get:function(){var e=this.config.margin;return this.width-e.left-e.right}},{key:"plotWidth",get:function(){var e=this.padding;return this.innerWidth-e.left-e.right}},{key:"height",get:function(){return this.config.get("height")||Math.round(this.width/2)}},{key:"innerHeight",get:function(){var e=this.config.margin;return this.height-e.top-e.bottom}},{key:"plotHeight",get:function(){var e=this.padding;return this.innerHeight-e.top-e.bottom}}]),ChartView}(c.default);t.default=b},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(161),u=_interopRequireDefault(a),l=function(e){function ConfigModel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ConfigModel);var t=_possibleConstructorReturn(this,(ConfigModel.__proto__||Object.getPrototypeOf(ConfigModel)).call(this,e));return t.id=e.id,t}return _inherits(ConfigModel,e),n(ConfigModel,[{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.accessor;if(!o.default.isNil(e))return o.default.isFunction(r)?r(e):o.default.isString(r)?o.default.get(e,r):e}},{key:"getFormattedValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.valueFormatter,n=this.getValue(e,t);return o.default.isFunction(r)?r(n):n}},{key:"getLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.labelFormatter||t.label||t.accessor||t.getLabel;return o.default.isString(r)?r:o.default.isNil(e)?void 0:o.default.isFunction(r)?r(e):void 0}},{key:"getAction",value:function(e,t){return this.get("action."+t+" "+e)}},{key:"hasAction",value:function(e,t){var r=o.default.filter(this.attributes.action,function(t,r){return r.includes(e)});return o.default.isFunction(r[0])}},{key:"defaults",get:function(){return{margin:{left:0,top:0,right:0,bottom:0},padding:{left:0,top:0,right:0,bottom:0},duration:300,frozen:!1}}},{key:"type",get:function(){return this.constructor.name.slice(0,-11)}},{key:"margin",get:function(){return this.attributes.margin}},{key:"padding",get:function(){return this.attributes.padding}},{key:"duration",get:function(){return this.attributes.duration}}]),ConfigModel}(u.default);t.default=l},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(40),u=_interopRequireDefault(a),l=function(){function Actionman(){_classCallCheck(this,Actionman),this._instances={}}return n(Actionman,[{key:"get",value:function(e){return this._instances[e]}},{key:"getAll",value:function(){return this._instances}},{key:"getActive",value:function(){return o.default.filter(this._instances,function(e){return e.isEnabled()})}},{key:"set",value:function(e,t){var r=new e({registrar:t});if(this._instances[e.name]!==r)return this._instances[e.name]=r,this.trigger("add",r),r}},{key:"unset",value:function(e,t){this._instances[e.name]&&this._instances[e.name].unRegister(t)}},{key:"update",value:function(e){o.default.values(this._instances).forEach(function(t){t.evaluate(e)})}},{key:"fire",value:function(e){var t=this._instances[e];if(!o.default.isNil(t)){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.apply.apply(t,n)}}}]),Actionman}();o.default.extend(l.prototype,u.default);var s=new l;t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(39),c=_interopRequireDefault(s),f=function(e){function DataFrameModel(){var e;_classCallCheck(this,DataFrameModel);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=DataFrameModel.__proto__||Object.getPrototypeOf(DataFrameModel)).call.apply(e,[this].concat(r)));return i._ranges={},i}return _inherits(DataFrameModel,e),n(DataFrameModel,[{key:"getRangeFor",value:function(e,t){return a.default.isArray(e)?this.getCombinedRange(e,t):t?l.extent(this._data,function(t){return a.default.get(t,e)}):(a.default.has(this._ranges,e)||(this._ranges[e]=l.extent(this._data,function(t){return a.default.get(t,e)})),a.default.clone(this._ranges[e]))}},{key:"getCombinedRange",value:function(e){var t=this,r=a.default.map(e,function(e){return t.getRangeFor(e)});return l.extent(a.default.concat.apply(a.default,_toConsumableArray(r)))}},{key:"getNearest",value:function(e,t){var r=this._data,n=l.bisector(function(t){return a.default.get(t,e)}).left,i=n(r,t,1,r.length-1);return t-a.default.get(r[i-1],e)>a.default.get(r[i],e)-t?r[i]:r[i-1]}},{key:"filter",value:function(e,t){return a.default.filter(this._data,function(r){return a.default.has(r,e)&&r[e]>=t[0]&&r[e]<=t[1]})}},{key:"filterByRanges",value:function(e,t){return a.default.filter(e,function(e){for(var r=!0,n=0,i=t.keys();r&&n<i.length;){var o=i[n];r=a.default.has(e,o)&&e[o]>=t[o][0]&&e[o]<=t[o][1],n++}})}},{key:"data",get:function(){return i(DataFrameModel.prototype.__proto__||Object.getPrototypeOf(DataFrameModel.prototype),"data",this)},set:function(e){this._data=this.parse(e)||[],this._ranges={},this.trigger("change")}},{key:"accessors",get:function(){return a.default.keys(this._data[0])}}]),DataFrameModel}(c.default);t.default=f},function(e,t,r){"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o);t.default={defaults:{colorScheme:a.schemeCategory20},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];arguments[2];return i.default.isObject(e)?t:e=_defineProperty({},e,t),e.colorScheme&&!e.colorScale&&(e.colorScale=a.scaleOrdinal(e.colorScheme)),e},getColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.color;return i.default.isString(r)?r:i.default.isNil(e)?void 0:i.default.isFunction(r)?r(e):void 0}}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(40),u=_interopRequireDefault(a),l={},s=function(){function Action(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Action),l[this.id]||(l[this.id]=this);var t=l[this.id];return t.registrars=t.registrars||[],o.default.includes(t.registrars,e.registrar)||t.registrars.push(e.registrar),t._deny=!0,t}return n(Action,[{key:"apply",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this._deny||(this._execute&&o.default.each(this.registrars,function(t){e._registrar=t,e._execute.apply(e,r),e._registrar=void 0}),this.trigger.apply(this,["fired"].concat(r)))}},{key:"disable",value:function(){this._deny||(this._deny=!0,this.trigger("disable"))}},{key:"enable",value:function(){this._deny&&(this._deny=!1,this.trigger("enable"))}},{key:"canUndo",value:function(){return!!this._undo}},{key:"isEnabled",value:function(){return!this._deny}},{key:"evaluate",value:function(e){}},{key:"unRegister",value:function(e){var t=l[this.id];t.registrars=o.default.without(t.registrars,e),o.default.isEmpty(l.registrars)&&this.off()}},{key:"_execute",value:function(){}},{key:"_evaluate",value:function(e){e?this.enable():this.disable()}},{key:"id",get:function(){return this.constructor.name}}]),Action}();t.default=s,o.default.extend(s.prototype,u.default),e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o);t.default={getScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scale;i.default.isFunction(r)||(r=(a[r]||a.scaleLinear)());var n=[];if(!t.domain||i.default.isNil(t.domain[0])||i.default.isNil(t.domain[1])){if(e.data.length>1){var o=!1;e.data.length<2&&(o=!0),n=e.getRangeFor(t.accessor,o),t.stacked&&t.accessor.length>1&&(n[1]=i.default.reduce(t.accessor,function(t,r){return t+e.getRangeFor(r)[1]},0)),t.domain&&!i.default.isNil(t.domain[0])&&(n[0]=t.domain[0]),t.domain&&!i.default.isNil(t.domain[1])&&(n[1]=t.domain[1])}}else n=t.domain;return i.default.isEmpty(n)||r.domain(n),t.range&&r.range(t.range),r},getCalculatedDomain:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.getRangeFor(t.accessor,!1)},outerWidth:function(e,t,r,n){if(!t||!r||!i.default.isFunction(n))return e;var o=i.default.get((0,i.default)(t.data).first(),r),a=i.default.get((0,i.default)(t.data).last(),r);return Math.abs(n(a)-n(o))}}},function(e,t,r){"use strict";function escapeChar(e){return n[e]}function extend(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function escapeExpression(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(i,escapeChar):e}function isEmpty(e){return!e&&0!==e||!(!l(e)||0!==e.length)}function createFrame(e){var t=extend({},e);return t._parent=e,t}function blockParams(e,t){return e.path=t,e}function appendContextPath(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=extend,t.indexOf=indexOf,t.escapeExpression=escapeExpression,t.isEmpty=isEmpty,t.createFrame=createFrame,t.blockParams=blockParams,t.appendContextPath=appendContextPath;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,o=/[&<>"'`=]/,a=Object.prototype.toString;t.toString=a;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=u;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=l},function(e,t,r){e.exports=r(204).default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(7),u=_interopRequireDefault(a),l=function(e){function ToggleVisibility(e){_classCallCheck(this,ToggleVisibility);var t=_possibleConstructorReturn(this,(ToggleVisibility.__proto__||Object.getPrototypeOf(ToggleVisibility)).call(this,e));return t._deny=!1,t}return _inherits(ToggleVisibility,e),n(ToggleVisibility,[{key:"_execute",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=this;o.default.isArray(e)||(e=[e]),o.default.each(e,function(e){if(a._registrar.id===e){var r,i;t?(r=a._registrar).show.apply(r,n):(i=a._registrar).hide.apply(i,n)}})}}]),ToggleVisibility}(u.default);t.default=l},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function SelectColor(e){_classCallCheck(this,SelectColor);var t=_possibleConstructorReturn(this,(SelectColor.__proto__||Object.getPrototypeOf(SelectColor)).call(this,e));return t._deny=!1,t}return _inherits(SelectColor,e),n(SelectColor,[{key:"_execute",value:function(e,t){this._registrar.config.setColor(e,t)}}]),SelectColor}(o.default);t.default=a},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function SelectKey(e){_classCallCheck(this,SelectKey);var t=_possibleConstructorReturn(this,(SelectKey.__proto__||Object.getPrototypeOf(SelectKey)).call(this,e));return t._deny=!1,t}return _inherits(SelectKey,e),n(SelectKey,[{key:"_execute",value:function(){var e;(e=this._registrar.config).setKey.apply(e,arguments)}}]),SelectKey}(o.default);t.default=a},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(7),u=_interopRequireDefault(a),l=function(e){function Zoom(e){_classCallCheck(this,Zoom);var t=_possibleConstructorReturn(this,(Zoom.__proto__||Object.getPrototypeOf(Zoom)).call(this,e));return t._deny=!1,t}return _inherits(Zoom,e),n(Zoom,[{key:"_execute",value:function(e){var t;o.default.isNil(e)||o.default.isArray(e)||(e=[e]);for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e&&!e.includes(this._registrar.id)||(t=this._registrar).zoom.apply(t,n)}}]),Zoom}(u.default);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),i=r.n(n);r.d(t,"color",function(){return i.a}),r.o(n,"rgb")&&r.d(t,"rgb",function(){return n.rgb}),r.o(n,"hsl")&&r.d(t,"hsl",function(){return n.hsl});var o=r(97),a=r.n(o);r.d(t,"lab",function(){return a.a}),r.o(o,"hcl")&&r.d(t,"hcl",function(){return o.hcl});var u=r(96),l=r.n(u);r.d(t,"cubehelix",function(){return l.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),i=r.n(n);r.d(t,"color",function(){return i.a}),r.o(n,"rgb")&&r.d(t,"rgb",function(){return n.rgb}),r.o(n,"hsl")&&r.d(t,"hsl",function(){return n.hsl});var o=r(114),a=r.n(o);r.d(t,"lab",function(){return a.a}),r.o(o,"hcl")&&r.d(t,"hcl",function(){return o.hcl});var u=r(113),l=r.n(u);r.d(t,"cubehelix",function(){return l.a})},function(e,t,r){"use strict";function linear(e,t){return function(r){return e+r*t}}function exponential(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hue(e,t){var r=t-e;return r?linear(e,r>180||r<-180?r-360*Math.round(r/360):r):(0,i.default)(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,r){return r-t?exponential(t,r,e):(0,i.default)(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear(e,r):(0,i.default)(isNaN(e)?t:e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hue=hue,t.gamma=gamma,t.default=nogamma;var n=r(48),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";function linear(e,t){return function(r){return e+r*t}}function exponential(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hue(e,t){var r=t-e;return r?linear(e,r>180||r<-180?r-360*Math.round(r/360):r):(0,i.default)(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,r){return r-t?exponential(t,r,e):(0,i.default)(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear(e,r):(0,i.default)(isNaN(e)?t:e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hue=hue,t.gamma=gamma,t.default=nogamma;var n=r(56),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";function Exception(e,t){var r=t&&t.loc,i=void 0,o=void 0;r&&(i=r.start.line,o=r.start.column,e+=" - "+i+":"+o);for(var a=Error.prototype.constructor.call(this,e),u=0;u<n.length;u++)this[n[u]]=a[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{r&&(this.lineNumber=i,Object.defineProperty?Object.defineProperty(this,"column",{value:o}):this.column=o)}catch(e){}}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,t.default=Exception,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(r){return e+t*r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(r){return e+t*r}}},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(42),u=_interopRequireWildcard(a),l=r(43),s=_interopRequireWildcard(l),c=function(){function CompositeChart(e){_classCallCheck(this,CompositeChart),this._components=[]}return n(CompositeChart,[{key:"setData",value:function(e){o.default.isArray(e)&&(0,o.default)(this._components).filter(function(e){return e.isMaster}).uniqBy(function(e){return e.model}).each(function(t){return t.setData(e)})}},{key:"get",value:function(e){return o.default.find(this._components,{id:e})}},{key:"getByType",value:function(e){return o.default.isArray(e)||(e=[e]),o.default.filter(this._components,function(t){return e.includes(t.type)})}},{key:"add",value:function(e){var t=e.type,r=e.config;if(!o.default.isObject(r)||!1===r.enable)return!1;var n=u[t+"View"]||s[t+"View"],i=new n(e);return this._components.push(i),i}},{key:"remove",value:function(e){if(e){var t=this.get(e);return this._components=o.default.without(this._components,t),t.remove()}o.default.each(this._components,function(e){return e.remove()}),this._components=[]}},{key:"components",get:function(){return this._components}}]),CompositeChart}();t.default=c},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(39),u=_interopRequireDefault(a),l=function(e){function SerieModel(){return _classCallCheck(this,SerieModel),_possibleConstructorReturn(this,(SerieModel.__proto__||Object.getPrototypeOf(SerieModel)).apply(this,arguments))}return _inherits(SerieModel,e),n(SerieModel,[{key:"accessors",get:function(){return o.default.keys(this._data)}}]),SerieModel}(u.default);t.default=l},function(e,t,r){"use strict";function hashCode(e){var t=0,r=void 0,n=void 0,i=void 0;if(0===e.length)return t;for(r=0,i=e.length;r<i;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;return t}Object.defineProperty(t,"__esModule",{value:!0});var n={signin:"&#xf090;",signout:"&#xf08b;",certificate:"&#xf0a3;",circleFill:"&#xf111;",circle:"&#xf10c;",notchCircle:"&#xf1ce;",thinCircle:"&#xf1db;",dotCircle:"&#xf192;",cog:"&#xf013;",dashboard:"&#xf0e4;",db:"&#xf1c0;",desktop:"&#xf108;",squareFill:"&#xf0c8;",sun:"&#xf185;",square:"&#xf096;",star:"&#xf005;",spinner:"&#xf110;",sheld:"&#xf132;",network:"&#xf0e8;",tv:"&#xf26c;",window:"&#xf2d0;",cloud:"&#xf0c2;",cogs:"&#xf085;",compass:"&#xf14e;",warning:"&#xf071;",alarmFill:"&#xf0f3;",deleted:"&#xf05e;",asterisk:"&#xf069;",bucket:"&#xe919;"};t.hashCode=hashCode,t.bubbleShapes=n},function(e,t,r){"use strict";function Color(){}function color(e){var t;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(t=parseInt(t[1],16),new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=s.exec(e))?rgbn(parseInt(t[1],16)):(t=c.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=f.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=p.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=h.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?rgbn(y[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb(e,t,r,n)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,r,n){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,r,null==n?1:n)}function Rgb(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function hsla(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,u=o-i,l=(o+i)/2;return u?(a=t===o?(r-n)/u+6*(r<n):r===o?(n-t)/u+2:(t-r)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Hsl(a,u,l,e.opacity)}function hsl(e,t,r,n){return 1===arguments.length?hslConvert(e):new Hsl(e,t,r,null==n?1:n)}function Hsl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hsl2rgb(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.brighter=t.darker=void 0,t.Color=Color,t.default=color,t.rgbConvert=rgbConvert,t.rgb=rgb,t.Rgb=Rgb,t.hslConvert=hslConvert,t.hsl=hsl;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.darker=.7;t.brighter=1/.7;var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,s=/^#([0-9a-f]{6})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,a]+"\\)$"),h=new RegExp("^hsl\\("+[a,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[a,u,u,a]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,i.default)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),(0,i.default)(Rgb,rgb,(0,n.extend)(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),(0,i.default)(Hsl,hsl,(0,n.extend)(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,n),hsl2rgb(e,i,n),hsl2rgb(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,r){"use strict";function extend(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e},t.extend=extend},function(e,t,r){"use strict";function basis(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.basis=basis,t.default=function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,u=n<t-1?e[n+2]:2*o-i;return basis((r-n/t)*t,a,i,o,u)}}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var r,o=void 0===t?"undefined":n(t);return null==t||"boolean"===o?(0,v.default)(t):("number"===o?d.default:"string"===o?(r=(0,i.color)(t))?(t=r,a.default):y.default:t instanceof i.color?a.default:t instanceof Date?c.default:Array.isArray(t)?l.default:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?h.default:d.default)(e,t)};var i=r(15),o=r(51),a=_interopRequireDefault(o),u=r(46),l=_interopRequireDefault(u),s=r(49),c=_interopRequireDefault(s),f=r(20),d=_interopRequireDefault(f),p=r(50),h=_interopRequireDefault(p),g=r(52),y=_interopRequireDefault(g),_=r(48),v=_interopRequireDefault(_)},function(e,t,r){"use strict";function Map(){}function map(e,t){var r=new Map;if(e instanceof Map)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var n,i=-1,o=e.length;if(null==t)for(;++i<o;)r.set(i,e[i]);else for(;++i<o;)r.set(t(n=e[i],i,e),n)}else if(e)for(var a in e)r.set(a,e[a]);return r}Object.defineProperty(t,"__esModule",{value:!0});var n=t.prefix="$";Map.prototype=map.prototype={constructor:Map,has:function(e){return n+e in this},get:function(e){return this[n+e]},set:function(e,t){return this[n+e]=t,this},remove:function(e){var t=n+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===n&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===n&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===n&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===n&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===n&&++e;return e},empty:function(){for(var e in this)if(e[0]===n)return!1;return!0},each:function(e){for(var t in this)t[0]===n&&e(this[t],t.slice(1),this)}},t.default=map},function(e,t,r){"use strict";function Color(){}function color(e){var t;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(t=parseInt(t[1],16),new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=s.exec(e))?rgbn(parseInt(t[1],16)):(t=c.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=f.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=p.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=h.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?rgbn(y[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb(e,t,r,n)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,r,n){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,r,null==n?1:n)}function Rgb(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function hsla(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,u=o-i,l=(o+i)/2;return u?(a=t===o?(r-n)/u+6*(r<n):r===o?(n-t)/u+2:(t-r)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Hsl(a,u,l,e.opacity)}function hsl(e,t,r,n){return 1===arguments.length?hslConvert(e):new Hsl(e,t,r,null==n?1:n)}function Hsl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hsl2rgb(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.brighter=t.darker=void 0,t.Color=Color,t.default=color,t.rgbConvert=rgbConvert,t.rgb=rgb,t.Rgb=Rgb,t.hslConvert=hslConvert,t.hsl=hsl;var n=r(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.darker=.7;t.brighter=1/.7;var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,s=/^#([0-9a-f]{6})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,a]+"\\)$"),h=new RegExp("^hsl\\("+[a,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[a,u,u,a]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,i.default)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),(0,i.default)(Rgb,rgb,(0,n.extend)(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),(0,i.default)(Hsl,hsl,(0,n.extend)(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,n),hsl2rgb(e,i,n),hsl2rgb(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,r){"use strict";function extend(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e},t.extend=extend},function(e,t,r){"use strict";function basis(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.basis=basis,t.default=function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,u=n<t-1?e[n+2]:2*o-i;return basis((r-n/t)*t,a,i,o,u)}}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var r,o=void 0===t?"undefined":n(t);return null==t||"boolean"===o?(0,v.default)(t):("number"===o?d.default:"string"===o?(r=(0,i.color)(t))?(t=r,a.default):y.default:t instanceof i.color?a.default:t instanceof Date?c.default:Array.isArray(t)?l.default:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?h.default:d.default)(e,t)};var i=r(16),o=r(59),a=_interopRequireDefault(o),u=r(54),l=_interopRequireDefault(u),s=r(57),c=_interopRequireDefault(s),f=r(21),d=_interopRequireDefault(f),p=r(58),h=_interopRequireDefault(p),g=r(60),y=_interopRequireDefault(g),_=r(56),v=_interopRequireDefault(_)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(7),u=_interopRequireDefault(a),l=function(e){function ToggleHalt(e){_classCallCheck(this,ToggleHalt);var t=_possibleConstructorReturn(this,(ToggleHalt.__proto__||Object.getPrototypeOf(ToggleHalt)).call(this,e));return t._deny=!1,t}return _inherits(ToggleHalt,e),n(ToggleHalt,[{key:"_execute",value:function(e,t){var r=this;o.default.isArray(e)||(e=[e]),o.default.each(e,function(e){r._registrar.id===e&&r._registrar.setHalt(t)})}}]),ToggleHalt}(u.default);t.default=l},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function AxisConfigModel(){return _classCallCheck(this,AxisConfigModel),_possibleConstructorReturn(this,(AxisConfigModel.__proto__||Object.getPrototypeOf(AxisConfigModel)).apply(this,arguments))}return _inherits(AxisConfigModel,e),n(AxisConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(AxisConfigModel.prototype.__proto__||Object.getPrototypeOf(AxisConfigModel.prototype),"defaults",this),{isSharedContainer:!0,ticks:10,positions:["left","right","top","bottom"],margin:{label:10},accessors:[]})}},{key:"name",get:function(){return this.attributes.name}},{key:"baseName",get:function(){return this.attributes.name.slice(0,1)}},{key:"scale",get:function(){return this.attributes.scale}},{key:"formatter",get:function(){return this.attributes.formatter}},{key:"position",get:function(){return this.attributes.position||this.constructor.defaultPosition(this.attributes.name)}},{key:"direction",get:function(){return this.constructor.getDirection(this.attributes.position)}},{key:"isHorizontal",get:function(){return"horizontal"===this.direction}},{key:"location",get:function(){return this.constructor.getLocation(this.attributes.position)}},{key:"side",get:function(){return"start"===this.location?-1:1}},{key:"tickCoords",get:function(){return this.attributes.tickCoords}},{key:"tickValues",get:function(){var e=this;return a.default.map(this.attributes.tickCoords,function(t){return e.attributes.scale.invert(t)})}},{key:"labels",get:function(){var e=this;return this.attributes.label?[this.attributes.label]:a.default.map(this.attributes.accessors,function(t){return e.getLabel([],t)})}}],[{key:"getDirection",value:function(e){return["left","right"].includes(e)?"vertical":["top","bottom"].includes(e)?"horizontal":void 0}},{key:"getLocation",value:function(e){return["top","left"].includes(e)?"start":["bottom","right"].includes(e)?"end":void 0}},{key:"defaultPosition",value:function(e){return e.startsWith("x")?"bottom":e.startsWith("y")?"left":void 0}}]),AxisConfigModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(0),d=_interopRequireWildcard(f),p=r(0),h=_interopRequireWildcard(p),g=r(2),y=_interopRequireDefault(g),_=r(63),v=_interopRequireDefault(_);r(169);var b=function(e){function BrushView(){var e;_classCallCheck(this,BrushView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=BrushView.__proto__||Object.getPrototypeOf(BrushView)).call.apply(e,[this].concat(r)));return i._brush=d.brushX().on("start brush end",i._onSelection.bind(i)),i}return _inherits(BrushView,e),i(BrushView,null,[{key:"Config",get:function(){return v.default}}]),i(BrushView,[{key:"render",value:function(){var e=this;n(BrushView.prototype.__proto__||Object.getPrototypeOf(BrushView.prototype),"render",this).call(this),this._brush.extent(this.config.extent).handleSize(10);var t=this.config.get("yRange");if(this.d3.selectAll(this.selectors.unselected).data([{type:"w"},{type:"e"}]).enter().append("rect").attr("class",function(t){return e.selectorClass("unselected")+"-"+t.type}).classed("hide",!0).classed(this.selectorClass("unselected"),!0).attr("y",t[1]).attr("height",t[0]-t[1]),this.d3.selectAll(this.selectors.handle).data([{type:"w"},{type:"e"}]).enter().append("path").classed("hide",!0).classed(this.selectorClass("handle"),!0).attr("d",c.arc().innerRadius(0).outerRadius(this.config.handleHeight/2).startAngle(0).endAngle(function(e,t){return t?Math.PI:-Math.PI})),this.d3.call(this._brush),a.default.isEmpty(this.config.selection))this._brush.move(this.d3,null);else{var r=this.d3.transition().ease(h.easeLinear).duration(this.config.duration);this._brush.move(r,this.config.selection)}}},{key:"show",value:function(e){var t=this,r=this.config.get("xRange");this.d3.selectAll(this.selectors.unselected).classed("hide",!1).attr("x",function(t){return"w"===t.type?r[0]:e[1]}).attr("width",function(t){var n="w"===t.type?e[0]-r[0]:r[1]-e[1];return n>0?n:0}),this.d3.selectAll(this.selectors.handle).classed("hide",!1).attr("transform",function(r,n){return"translate("+e[n]+","+t.config.handleCenter+") scale(1,2)"})}},{key:"move",value:function(e){this._brush.move(this.d3,e)}},{key:"hide",value:function(){this.d3.selectAll(this.selectors.handle).classed("hide",!0),this.d3.selectAll(this.selectors.unselected).classed("hide",!0)}},{key:"_onSelection",value:function(){var e=this,t=l.event.selection,r=this.config.get("xRange");if(!t)return this.hide();if(this.show(t),this.config.set("selection",t,{silent:!0}),t[0]===t[1]){var n=this.config.get("xRange");t=[n[0],n[1]]}a.default.isEqual(t,r)&&setTimeout(function(){return e._brush.move(e.d3)}),this.trigger("selection",t)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 9}},{key:"selectors",get:function(){return a.default.extend(n(BrushView.prototype.__proto__||Object.getPrototypeOf(BrushView.prototype),"selectors",this),{handle:".handle--custom",unselected:".unselected"})}}]),BrushView}(y.default);t.default=b},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(7),u=_interopRequireDefault(a),l=function(e){function Cluster(e){_classCallCheck(this,Cluster);var t=_possibleConstructorReturn(this,(Cluster.__proto__||Object.getPrototypeOf(Cluster)).call(this,e));return t._deny=!1,t}return _inherits(Cluster,e),n(Cluster,[{key:"_execute",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.length>1?r.shift():null;o.default.isNil(i)||o.default.isArray(i)||(i=[i]),i&&!i.includes(this._registrar.id)||(e=this._registrar).cluster.apply(e,r)}}]),Cluster}(u.default);t.default=l},function(e,t,r){"use strict";r(194),e.exports=function(e,t){var r=".cc-title",n=e.querySelector(r)||document.createElement("div");n.classList.add(r.substr(1)),n.innerHTML=t,e.prepend(n)}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(40),u=_interopRequireDefault(a),l=function(){function DataModel(e,t){_classCallCheck(this,DataModel),this.config=t,o.default.isEmpty(e)||(this.data=e)}return n(DataModel,[{key:"parse",value:function(e){return o.default.isFunction(this._formatter)?this._formatter(e):e}},{key:"data",get:function(){return this._data||[]},set:function(e){this._data=this.parse(e),this.trigger("change")}},{key:"type",get:function(){return this.constructor.name.slice(0,-5)}},{key:"config",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formatter;t&&(this._formatter=t,this.trigger("change"))}}]),DataModel}();t.default=l,o.default.extend(l.prototype,u.default)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=_interopRequireDefault(n),o=r(41),a=_interopRequireDefault(o);a.default.Events.listeners=function(e,t){var r=this._events&&this._events[e];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=new Array(i);n<i;n++)o[n]=r[n].callback;return o},i.default.extend(a.default.View.prototype,a.default.Events),i.default.extend(a.default.Model.prototype,a.default.Events),t.default=a.default.Events},function(e,t){e.exports=r},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(36);Object.defineProperty(t,"BrushView",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(63);Object.defineProperty(t,"BrushConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var o=r(130);Object.defineProperty(t,"BucketView",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var a=r(64);Object.defineProperty(t,"BucketConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var u=r(65);Object.defineProperty(t,"ColorPickerConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var l=r(132);Object.defineProperty(t,"ColorPickerView",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var s=r(151);Object.defineProperty(t,"StackedBarView",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}});var c=r(81);Object.defineProperty(t,"StackedBarConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(c).default}});var f=r(137);Object.defineProperty(t,"GroupedBarView",{enumerable:!0,get:function(){return _interopRequireDefault(f).default}});var d=r(68);Object.defineProperty(t,"GroupedBarConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(d).default}});var p=r(128);Object.defineProperty(t,"AreaView",{enumerable:!0,get:function(){return _interopRequireDefault(p).default}});var h=r(62);Object.defineProperty(t,"AreaConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(h).default}});var g=r(140);Object.defineProperty(t,"LineView",{enumerable:!0,get:function(){return _interopRequireDefault(g).default}});var y=r(71);Object.defineProperty(t,"LineConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(y).default}});var _=r(147);Object.defineProperty(t,"RadialLineView",{enumerable:!0,get:function(){return _interopRequireDefault(_).default}});var v=r(77);Object.defineProperty(t,"RadialLineConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(v).default}});var b=r(146);Object.defineProperty(t,"RadialBarView",{enumerable:!0,get:function(){return _interopRequireDefault(b).default}});var m=r(76);Object.defineProperty(t,"RadialBarConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(m).default}});var w=r(150);Object.defineProperty(t,"ScatterPlotView",{enumerable:!0,get:function(){return _interopRequireDefault(w).default}});var k=r(80);Object.defineProperty(t,"ScatterPlotConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(k).default}});var C=r(66);Object.defineProperty(t,"ControlPanelConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(C).default}});var O=r(133);Object.defineProperty(t,"ControlPanelView",{enumerable:!0,get:function(){return _interopRequireDefault(O).default}});var P=r(67);Object.defineProperty(t,"CrosshairConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(P).default}});var R=r(134);Object.defineProperty(t,"CrosshairView",{enumerable:!0,get:function(){return _interopRequireDefault(R).default}});var M=r(136);Object.defineProperty(t,"FilterView",{enumerable:!0,get:function(){return _interopRequireDefault(M).default}});var x=r(135);Object.defineProperty(t,"FilterConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(x).default}});var j=r(70);Object.defineProperty(t,"LegendConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(j).default}});var D=r(139);Object.defineProperty(t,"LegendView",{enumerable:!0,get:function(){return _interopRequireDefault(D).default}});var S=r(69);Object.defineProperty(t,"LegendPanelConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(S).default}});var q=r(138);Object.defineProperty(t,"LegendPanelView",{enumerable:!0,get:function(){return _interopRequireDefault(q).default}});var A=r(141);Object.defineProperty(t,"MessageView",{enumerable:!0,get:function(){return _interopRequireDefault(A).default}});var E=r(74);Object.defineProperty(t,"PieConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(E).default}});var V=r(144);Object.defineProperty(t,"PieView",{enumerable:!0,get:function(){return _interopRequireDefault(V).default}});var T=r(78);Object.defineProperty(t,"RadialDendrogramConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(T).default}});var L=r(148);Object.defineProperty(t,"RadialDendrogramView",{enumerable:!0,get:function(){return _interopRequireDefault(L).default}});var N=r(79);Object.defineProperty(t,"SankeyConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(N).default}});var B=r(149);Object.defineProperty(t,"SankeyView",{enumerable:!0,get:function(){return _interopRequireDefault(B).default}});var F=r(82);Object.defineProperty(t,"StandaloneConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(F).default}});var W=r(152);Object.defineProperty(t,"StandaloneView",{enumerable:!0,get:function(){return _interopRequireDefault(W).default}});var z=r(83);Object.defineProperty(t,"TimelineConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(z).default}});var H=r(153);Object.defineProperty(t,"TimelineView",{enumerable:!0,get:function(){return _interopRequireDefault(H).default}});var I=r(84);Object.defineProperty(t,"TooltipConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(I).default}});var G=r(154);Object.defineProperty(t,"TooltipView",{enumerable:!0,get:function(){return _interopRequireDefault(G).default}});var Y=r(35);Object.defineProperty(t,"AxisConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(Y).default}});var X=r(129);Object.defineProperty(t,"AxisView",{enumerable:!0,get:function(){return _interopRequireDefault(X).default}});var Z=r(75);Object.defineProperty(t,"RadialAxisConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(Z).default}});var $=r(145);Object.defineProperty(t,"RadialAxisView",{enumerable:!0,get:function(){return _interopRequireDefault($).default}});var K=r(73);Object.defineProperty(t,"MapView",{enumerable:!0,get:function(){return _interopRequireDefault(K).default}});var U=r(72);Object.defineProperty(t,"MapConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(U).default}});var Q=r(85);Object.defineProperty(t,"TrafficMapConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(Q).default}});var J=r(155);Object.defineProperty(t,"TrafficMapView",{enumerable:!0,get:function(){return _interopRequireDefault(J).default}})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(156);Object.defineProperty(t,"CompositeView",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(89);Object.defineProperty(t,"CompositeYView",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var o=r(88);Object.defineProperty(t,"CompositeYConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var a=r(158);Object.defineProperty(t,"CompositeRadialView",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var u=r(87);Object.defineProperty(t,"CompositeRadialConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var l=r(86);Object.defineProperty(t,"NavigationConfigModel",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var s=r(157);Object.defineProperty(t,"NavigationView",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(23);Object.defineProperty(t,"Serie",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(5);Object.defineProperty(t,"DataFrame",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.deg2rad=Math.PI/180,t.rad2deg=180/Math.PI},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n=t?t.length:0,o=e?Math.min(n,e.length):0,a=new Array(n),u=new Array(n);for(r=0;r<o;++r)a[r]=(0,i.default)(e[r],t[r]);for(;r<n;++r)u[r]=t[r];return function(e){for(r=0;r<o;++r)u[r]=a[r](e);return u}};var n=r(28),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],u=e[(i+1)%t],l=e[(i+2)%t];return(0,n.basis)((r-i/t)*t,o,a,u,l)}};var n=r(27)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=new Date;return e=+e,t-=e,function(n){return r.setTime(e+t*n),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var r,i={},a={};null!==e&&"object"===(void 0===e?"undefined":n(e))||(e={}),null!==t&&"object"===(void 0===t?"undefined":n(t))||(t={});for(r in t)r in e?i[r]=(0,o.default)(e[r],t[r]):a[r]=t[r];return function(e){for(r in i)a[r]=i[r](e);return a}};var i=r(28),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function rgbSpline(e){return function(t){var r,i,o=t.length,a=new Array(o),u=new Array(o),l=new Array(o);for(r=0;r<o;++r)i=(0,n.rgb)(t[r]),a[r]=i.r||0,u[r]=i.g||0,l[r]=i.b||0;return a=e(a),u=e(u),l=e(l),i.opacity=1,function(e){return i.r=a(e),i.g=u(e),i.b=l(e),i+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.rgbBasisClosed=t.rgbBasis=void 0;var n=r(15),i=r(27),o=_interopRequireDefault(i),a=r(47),u=_interopRequireDefault(a),l=r(17),s=_interopRequireDefault(l);t.default=function rgbGamma(e){function rgb(e,r){var i=t((e=(0,n.rgb)(e)).r,(r=(0,n.rgb)(r)).r),o=t(e.g,r.g),a=t(e.b,r.b),u=(0,s.default)(e.opacity,r.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=u(t),e+""}}var t=(0,l.gamma)(e);return rgb.gamma=rgbGamma,rgb}(1);t.rgbBasis=rgbSpline(o.default),t.rgbBasisClosed=rgbSpline(u.default)},function(e,t,r){"use strict";function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n,u,l=o.lastIndex=a.lastIndex=0,s=-1,c=[],f=[];for(e+="",t+="";(r=o.exec(e))&&(n=a.exec(t));)(u=n.index)>l&&(u=t.slice(l,u),c[s]?c[s]+=u:c[++s]=u),(r=r[0])===(n=n[0])?c[s]?c[s]+=n:c[++s]=n:(c[++s]=null,f.push({i:s,x:(0,i.default)(r,n)})),l=a.lastIndex;return l<t.length&&(u=t.slice(l),c[s]?c[s]+=u:c[++s]=u),c.length<2?f[0]?one(f[0].x):zero(t):(t=f.length,function(e){for(var r,n=0;n<t;++n)c[(r=f[n]).i]=r.x(e);return c.join("")})};var n=r(20),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(o.source,"g")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.deg2rad=Math.PI/180,t.rad2deg=180/Math.PI},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n=t?t.length:0,o=e?Math.min(n,e.length):0,a=new Array(n),u=new Array(n);for(r=0;r<o;++r)a[r]=(0,i.default)(e[r],t[r]);for(;r<n;++r)u[r]=t[r];return function(e){for(r=0;r<o;++r)u[r]=a[r](e);return u}};var n=r(33),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],u=e[(i+1)%t],l=e[(i+2)%t];return(0,n.basis)((r-i/t)*t,o,a,u,l)}};var n=r(32)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=new Date;return e=+e,t-=e,function(n){return r.setTime(e+t*n),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var r,i={},a={};null!==e&&"object"===(void 0===e?"undefined":n(e))||(e={}),null!==t&&"object"===(void 0===t?"undefined":n(t))||(t={});for(r in t)r in e?i[r]=(0,o.default)(e[r],t[r]):a[r]=t[r];return function(e){for(r in i)a[r]=i[r](e);return a}};var i=r(33),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function rgbSpline(e){return function(t){var r,i,o=t.length,a=new Array(o),u=new Array(o),l=new Array(o);for(r=0;r<o;++r)i=(0,n.rgb)(t[r]),a[r]=i.r||0,u[r]=i.g||0,l[r]=i.b||0;return a=e(a),u=e(u),l=e(l),i.opacity=1,function(e){return i.r=a(e),i.g=u(e),i.b=l(e),i+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.rgbBasisClosed=t.rgbBasis=void 0;var n=r(16),i=r(32),o=_interopRequireDefault(i),a=r(55),u=_interopRequireDefault(a),l=r(18),s=_interopRequireDefault(l);t.default=function rgbGamma(e){function rgb(e,r){var i=t((e=(0,n.rgb)(e)).r,(r=(0,n.rgb)(r)).r),o=t(e.g,r.g),a=t(e.b,r.b),u=(0,s.default)(e.opacity,r.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=u(t),e+""}}var t=(0,l.gamma)(e);return rgb.gamma=rgbGamma,rgb}(1);t.rgbBasis=rgbSpline(o.default),t.rgbBasisClosed=rgbSpline(u.default)},function(e,t,r){"use strict";function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n,u,l=o.lastIndex=a.lastIndex=0,s=-1,c=[],f=[];for(e+="",t+="";(r=o.exec(e))&&(n=a.exec(t));)(u=n.index)>l&&(u=t.slice(l,u),c[s]?c[s]+=u:c[++s]=u),(r=r[0])===(n=n[0])?c[s]?c[s]+=n:c[++s]=n:(c[++s]=null,f.push({i:s,x:(0,i.default)(r,n)})),l=a.lastIndex;return l<t.length&&(u=t.slice(l),c[s]?c[s]+=u:c[++s]=u),c.length<2?f[0]?one(f[0].x):zero(t):(t=f.length,function(e){for(var r,n=0;n<t;++n)c[(r=f[n]).i]=r.x(e);return c.join("")})};var n=r(21),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(o.source,"g")},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(7),u=_interopRequireDefault(a),l=function(e){function Browse(e){_classCallCheck(this,Browse);var t=_possibleConstructorReturn(this,(Browse.__proto__||Object.getPrototypeOf(Browse)).call(this,e));return t._deny=!1,t}return _inherits(Browse,e),n(Browse,[{key:"_execute",value:function(e,t,r){var n=this;o.default.isArray(e)||(e=[e]),o.default.each(e,function(e){n._registrar.id===e&&n._registrar.browse(r)})}}]),Browse}(u.default);t.default=l},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(3),d=_interopRequireDefault(f),p=r(6),h=_interopRequireDefault(p),g=r(8),y=_interopRequireDefault(g),_=function(e){function AreaConfigModel(){return _classCallCheck(this,AreaConfigModel),_possibleConstructorReturn(this,(AreaConfigModel.__proto__||Object.getPrototypeOf(AreaConfigModel)).apply(this,arguments))}return _inherits(AreaConfigModel,e),n(AreaConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];h.default.set.apply(h.default,r),(e=i(AreaConfigModel.prototype.__proto__||Object.getPrototypeOf(AreaConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getOuterWidth",value:function(e,t){return y.default.outerWidth(t,e,this.get("x.accessor"),this.get("x.scale"))}},{key:"calculateScales",value:function(e){var t=this.attributes.x;a.default.set(this.attributes,"x.scale",y.default.getScale(e,t));var r=a.default.groupBy(this.yAccessors,"stack"),n=a.default.reduce(r,function(t,r){var n=a.default.reduce(r,function(t,r){var n=e.getRangeFor(r.accessor);return[t[0]+n[0],t[1]+n[1]]},[0,0]);return t.concat(n)},[0,0]),i=l.extent(n);t=a.default.merge({domain:i},this.attributes.y),a.default.set(this.attributes,"y.scale",y.default.getScale(e,t))}},{key:"getColor",value:function(e){return a.default.find(this.yAccessors,{accessor:e}).color||this.attributes.colorScale(e)}},{key:"defaults",get:function(){return a.default.merge(i(AreaConfigModel.prototype.__proto__||Object.getPrototypeOf(AreaConfigModel.prototype),"defaults",this),h.default.defaults,{isSharedContainer:!0,curve:c.curveCatmullRom.alpha(.5)})}},{key:"yAccessors",get:function(){return a.default.filter(this.attributes.y,function(e){return!(!1===e.enabled)})}},{key:"xScale",get:function(){return this.get("x.scale")}},{key:"yScale",get:function(){return this.get("y.scale")}}]),AreaConfigModel}(d.default);t.default=_},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function BrushConfigModel(){return _classCallCheck(this,BrushConfigModel),_possibleConstructorReturn(this,(BrushConfigModel.__proto__||Object.getPrototypeOf(BrushConfigModel)).apply(this,arguments))}return _inherits(BrushConfigModel,e),n(BrushConfigModel,[{key:"selection",get:function(){return this.attributes.selection||[]}},{key:"handleHeight",get:function(){return this.has("handleHeight")?this.attributes.handleHeight:16}},{key:"handleCenter",get:function(){return this.attributes.yRange[1]/2+this.attributes.yRange[0]/2}},{key:"extent",get:function(){return[[this.attributes.xRange[0],this.attributes.yRange[1]],[this.attributes.xRange[1],this.attributes.yRange[0]]]}}]),BrushConfigModel}(o.default);t.default=a},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c=_interopRequireDefault(s),f=function(e){function BucketConfigModel(){return _classCallCheck(this,BucketConfigModel),_possibleConstructorReturn(this,(BucketConfigModel.__proto__||Object.getPrototypeOf(BucketConfigModel)).apply(this,arguments))}return _inherits(BucketConfigModel,e),n(BucketConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(BucketConfigModel.prototype.__proto__||Object.getPrototypeOf(BucketConfigModel.prototype),"defaults",this),{isSharedContainer:!0,range:[256,512],scale:l.scaleLinear(),shape:"&#xf111;"})}},{key:"scale",get:function(){var e=this.attributes.range,t=this.defaults.range,r=a.default.isNil(e[0])?t[0]:e[0],n=a.default.isNil(e[1])?t[1]:e[1];return this.attributes.scale.range([r,n])}}]),BucketConfigModel}(c.default);t.default=f},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=function(e){function ColorPickerConfigModel(){return _classCallCheck(this,ColorPickerConfigModel),_possibleConstructorReturn(this,(ColorPickerConfigModel.__proto__||Object.getPrototypeOf(ColorPickerConfigModel)).apply(this,arguments))}return _inherits(ColorPickerConfigModel,e),n(ColorPickerConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(ColorPickerConfigModel.prototype.__proto__||Object.getPrototypeOf(ColorPickerConfigModel.prototype),"defaults",this),c.default.defaults)}},{key:"data",get:function(){var e=this,t={colors:this.attributes.colorScheme},r=this._parent.yAccessors;return t.series=a.default.map(r,function(t){return{accessor:t.accessor,label:e.getLabel(void 0,t),color:e._parent.getColor(t.accessor)}}),t}}]),ColorPickerConfigModel}(l.default);t.default=f},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function ControlPanelConfigModel(){return _classCallCheck(this,ControlPanelConfigModel),_possibleConstructorReturn(this,(ControlPanelConfigModel.__proto__||Object.getPrototypeOf(ControlPanelConfigModel)).apply(this,arguments))}return _inherits(ControlPanelConfigModel,e),n(ControlPanelConfigModel,[{key:"set",value:function(e,t,r){if(a.default.isString(e)&&!this.attributes[e]){var n=a.default.findKey(this.menuItems,function(r){return r.attribute===e&&r.toggle===t}),o=a.default.findKey(this.menuItems,function(r){return r.attribute===e&&r.toggle===!t});a.default.find(this.attributes.menu,function(e){return e.id===n}).id=o,this.trigger("change")}else i(ControlPanelConfigModel.prototype.__proto__||Object.getPrototypeOf(ControlPanelConfigModel.prototype),"set",this).call(this,e,t,r)}},{key:"menuItems",get:function(){return{Refresh:{title:"Refresh chart",icon:"icon-refresh"},Halt:{action:"ToggleHalt",attribute:"halted",toggle:!0,title:"Stop Live Update",icon:"icon-stop"},Start:{action:"ToggleHalt",attribute:"halted",toggle:!1,title:"Start Live Update",icon:"icon-play"},ColorPicker:{title:"Select color for serie",icon:"icon-color"},Filter:{title:"Select serie to show",icon:"icon-eye"}}}},{key:"update",get:function(){return this.attributes.update.concat([this.id])}}]),ControlPanelConfigModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function CrosshairConfigModel(){return _classCallCheck(this,CrosshairConfigModel),_possibleConstructorReturn(this,(CrosshairConfigModel.__proto__||Object.getPrototypeOf(CrosshairConfigModel)).apply(this,arguments))}return _inherits(CrosshairConfigModel,e),n(CrosshairConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(CrosshairConfigModel.prototype.__proto__||Object.getPrototypeOf(CrosshairConfigModel.prototype),"defaults",this),{isSharedContainer:!0,duration:100,bubbleR:5,bubbles:!1,lines:"full"})}}]),CrosshairConfigModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function GroupedBarConfigModel(){return _classCallCheck(this,GroupedBarConfigModel),_possibleConstructorReturn(this,(GroupedBarConfigModel.__proto__||Object.getPrototypeOf(GroupedBarConfigModel)).apply(this,arguments))}return _inherits(GroupedBarConfigModel,e),n(GroupedBarConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.default.set.apply(c.default,r),(e=i(GroupedBarConfigModel.prototype.__proto__||Object.getPrototypeOf(GroupedBarConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getOuterWidth",value:function(e,t){return d.default.outerWidth(t,e,this.get("x.accessor"),this.get("x.scale"))}},{key:"calculateScales",value:function(e){var t=this.attributes.x;a.default.set(this.attributes,"x.scale",d.default.getScale(e,t)),t=a.default.merge({accessor:a.default.map(this.yAccessors,"accessor")},this.attributes.y),a.default.set(this.attributes,"y.scale",d.default.getScale(e,t))}},{key:"getColor",value:function(e,t){var r=a.default.find(this.yAccessors,{accessor:e});return c.default.getColor(t,r)||this.attributes.colorScale(e)}},{key:"defaults",get:function(){return a.default.merge(i(GroupedBarConfigModel.prototype.__proto__||Object.getPrototypeOf(GroupedBarConfigModel.prototype),"defaults",this),c.default.defaults,{isSharedContainer:!0,barPadding:15})}},{key:"yAccessors",get:function(){return a.default.filter(this.attributes.y,function(e){return!(!1===e.enabled)})}},{key:"xScale",get:function(){return this.get("x.scale")}},{key:"yScale",get:function(){return this.get("y.scale")}}]),GroupedBarConfigModel}(l.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=function(e){function LegendPanelConfigModel(){return _classCallCheck(this,LegendPanelConfigModel),_possibleConstructorReturn(this,(LegendPanelConfigModel.__proto__||Object.getPrototypeOf(LegendPanelConfigModel)).apply(this,arguments))}return _inherits(LegendPanelConfigModel,e),n(LegendPanelConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(LegendPanelConfigModel.prototype.__proto__||Object.getPrototypeOf(LegendPanelConfigModel.prototype),"defaults",this),c.default.defaults,{editable:{color:!1,chart:!1},filter:!0,placement:"horizontal"})}}]),LegendPanelConfigModel}(l.default);t.default=f},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){function LegendConfigModel(){return _classCallCheck(this,LegendConfigModel),_possibleConstructorReturn(this,(LegendConfigModel.__proto__||Object.getPrototypeOf(LegendConfigModel)).apply(this,arguments))}return _inherits(LegendConfigModel,e),LegendConfigModel}(i.default);t.default=o},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function LineConfigModel(){return _classCallCheck(this,LineConfigModel),_possibleConstructorReturn(this,(LineConfigModel.__proto__||Object.getPrototypeOf(LineConfigModel)).apply(this,arguments))}return _inherits(LineConfigModel,e),n(LineConfigModel,[{key:"calculateScales",value:function(e){var t=this.attributes.x;a.default.set(this.attributes,"x.scale",d.default.getScale(e,t)),t=this.attributes.y,a.default.set(this.attributes,"y.scale",d.default.getScale(e,t))}},{key:"getColor",value:function(){return this.get("y.color")}},{key:"setColor",value:function(e,t){this.set("y.color",t)}},{key:"defaults",get:function(){return a.default.merge(i(LineConfigModel.prototype.__proto__||Object.getPrototypeOf(LineConfigModel.prototype),"defaults",this),{isSharedContainer:!0,curve:l.curveCatmullRom.alpha(.5),y:{color:"steelblue"}})}},{key:"xScale",get:function(){return this.get("x.scale")}},{key:"yScale",get:function(){return this.get("y.scale")}}]),LineConfigModel}(c.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=function(e){function MapConfigModel(){return _classCallCheck(this,MapConfigModel),_possibleConstructorReturn(this,(MapConfigModel.__proto__||Object.getPrototypeOf(MapConfigModel)).apply(this,arguments))}return _inherits(MapConfigModel,e),n(MapConfigModel,[{key:"project",value:function(e){var t=this.getValue(e,{accessor:this.get("accessors.longitude")}),r=this.getValue(e,{accessor:this.get("accessors.latitude")});return this.attributes.projection([t,r])}},{key:"defaults",get:function(){return Object.assign(i(MapConfigModel.prototype.__proto__||Object.getPrototypeOf(MapConfigModel.prototype),"defaults",this),c.default.defaults,{isSharedContainer:!0,projection:a.geoMercator(),zoom:{step:.5,extent:[1,8]},graticule:!1,accessors:{longitude:"longitude",latitude:"latitude"}})}},{key:"zoom",get:function(){return this.attributes.zoom}}]),MapConfigModel}(l.default);t.default=f},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(219),g=_interopRequireWildcard(h),y=r(2),_=_interopRequireDefault(y),v=r(72),b=_interopRequireDefault(v),m=r(5),w=_interopRequireDefault(m),k=r(4),C=_interopRequireDefault(k);r(179);var O=function(e){function MapView(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,MapView);var t=_possibleConstructorReturn(this,(MapView.__proto__||Object.getPrototypeOf(MapView)).call(this,e));return t._zoomApplied=!1,t}return _inherits(MapView,e),i(MapView,[{key:"render",value:function(){o(MapView.prototype.__proto__||Object.getPrototypeOf(MapView.prototype),"render",this).call(this),this._renderMap(),this._renderData(),this._ticking=!1}},{key:"_renderGraticule",value:function(){if(this.config.get("graticule")){var e=p.geoGraticule();this.d3.append("path").datum(e).attr("class","graticule"),this.d3.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere"),this.d3.append("use").attr("class","stroke").attr("xlink:href","#sphere"),this.d3.append("use").attr("class","fill").attr("xlink:href","#sphere")}}},{key:"_renderData",value:function(){var e=this,t=this.model.data,r=[];u.default.each(t,function(e){r=r.concat(u.default.map(e.links,function(r){var n=u.default.extend({source:e,target:u.default.find(t,{id:r.id})},r);return delete n.id,n}))});var n=this.d3.selectAll(this.selectors.link).data(r);n.enter().append("path").attr("class",this.selectorClass("link")).merge(n).attr("d",function(t){var r=e.config.project(t.source),n=e.config.project(t.target);return e._arc(r,n)}).attr("stroke-width",function(e){return e.width});var i=this.d3.selectAll(this.selectors.node).data(t);i.enter().append("circle").attr("class",this.selectorClass("node")).attr("r",8).merge(i).attr("cx",function(t){return e.config.project(t)[0]}).attr("cy",function(t){return e.config.project(t)[1]})}},{key:"_arc",value:function(e,t){if(t&&e){var r=Math.abs(t[0]-e[0])/3,n=(t[0]-e[0])/3,i=(e[0]-t[0])/3,o=(t[1]-e[1])/3,a=(e[1]-t[1])/3;return"M"+e[0]+","+e[1]+" C"+(e[0]+n)+","+(e[1]+o-r)+" "+(t[0]+i)+","+(t[1]+a-r)+" "+t[0]+","+t[1]}return"M0,0,l0,0z"}},{key:"_renderMap",value:function(){this.d3.attr("transform","translate("+this.config.get("margin.left")+", "+this.config.get("margin.top")+")");var e=this.config.get("map.data"),t=this.config.get("map.feature"),r=g.feature(e,e.objects[t]).features,n=[g.mesh(e,e.objects[t],function(e,t){return e!==t})],i=p.geoPath(),o=this.config.get("projection");if(!this._zoomApplied){var a=this.config.get("zoom.factor");if(a)o.scale(a).translate([this.width/2,this.height/2]);else{var u=g.feature(e,e.objects[this.config.get("map.fit")]);this._fit(i,o,u,{width:this.innerWidth,height:this.innerHeight})}var l=f.zoom().scaleExtent(this.config.get("zoom.extent")).on("zoom",this._onZoom.bind(this));this.svg.call(l),this._zoomApplied=!0}i.projection(o);var s=this.d3.select(".map");s.empty()&&(this.d3.append("g").attr("class","map"),s=this.d3.select(".map"));var c=s.selectAll(this.selectors.feature).data(r);c.enter().append("path").attr("class",this.selectorClass("feature")).merge(c).attr("d",i),c.exit().remove();var d=s.selectAll(this.selectors.boundary).data(n);d.enter().append("path").attr("class",this.selectorClass("boundary")).merge(d).attr("d",i),d.exit().remove()}},{key:"_fit",value:function(e,t,r,n){var i=this.config.get("zoom.extent");t.scale(1).translate([0,0]),e.projection(t);var o=e.bounds(r),a=.95/Math.max((o[1][0]-o[0][0])/n.width,(o[1][1]-o[0][1])/n.height),u=[(n.width-a*(o[1][0]+o[0][0]))/2,(n.height-a*(o[1][1]+o[0][1]))/2];f.zoomIdentity.k=a,f.zoomIdentity.x=u[0],f.zoomIdentity.y=u[1],this.config.get("zoom").extent[0]=a*i[0],this.config.get("zoom").extent[1]=a*i[1],t.scale(a).translate(u)}},{key:"_onZoom",value:function(){this._ticking||(window.requestAnimationFrame(this._onZoomHandler.bind(this,s.event.transform)),this._ticking=!0)}},{key:"_onZoomHandler",value:function(e){this.config.get("projection").scale(e.k).translate([e.x,e.y]),this.render()}},{key:"_onMousemoveNode",value:function(e,t){var r=s.mouse(this._container),i=n(r,2),o=i[0],a=i[1];C.default.fire("ToggleVisibility",this.config.get("tooltip"),!0,e,{left:o,top:a})}},{key:"_onMouseoutNode",value:function(e,t){C.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return u.default.extend(o(MapView.prototype.__proto__||Object.getPrototypeOf(MapView.prototype),"selectors",this),{node:".point",link:".link",graticule:".graticule",feature:".feature",boundary:".boundary"})}},{key:"events",get:function(){return u.default.extend(o(MapView.prototype.__proto__||Object.getPrototypeOf(MapView.prototype),"events",this),{"mousemove node":"_onMousemoveNode","mouseout node":"_onMouseoutNode"})}}],[{key:"Config",get:function(){return b.default}},{key:"Model",get:function(){return w.default}}]),MapView}(_.default);t.default=O},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=function(e){function PieConfigModel(){return _classCallCheck(this,PieConfigModel),_possibleConstructorReturn(this,(PieConfigModel.__proto__||Object.getPrototypeOf(PieConfigModel)).apply(this,arguments))}return _inherits(PieConfigModel,e),n(PieConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.default.set.apply(c.default,r),(e=i(PieConfigModel.prototype.__proto__||Object.getPrototypeOf(PieConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getColor",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.color=function(e){return t.attributes.colorScale(r.label||t.getLabel(e,t.attributes.serie))},c.default.getColor(e,r)}},{key:"defaults",get:function(){return a.default.merge(i(PieConfigModel.prototype.__proto__||Object.getPrototypeOf(PieConfigModel.prototype),"defaults",this),c.default.defaults,{isPrimary:!0})}},{key:"innerRadius",get:function(){var e=this.get("type"),t="pie"===e?0:.75;return this.get("radius")*t}}]),PieConfigModel}(l.default);t.default=f},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function RadialAxisConfigModel(){return _classCallCheck(this,RadialAxisConfigModel),_possibleConstructorReturn(this,(RadialAxisConfigModel.__proto__||Object.getPrototypeOf(RadialAxisConfigModel)).apply(this,arguments))}return _inherits(RadialAxisConfigModel,e),n(RadialAxisConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(RadialAxisConfigModel.prototype.__proto__||Object.getPrototypeOf(RadialAxisConfigModel.prototype),"defaults",this),{isSharedContainer:!0,ticks:10,removeLastAngularTick:!1,margin:{label:10},accessors:[]})}},{key:"name",get:function(){return this.attributes.name}},{key:"baseName",get:function(){return this.attributes.name.slice(0,1)}},{key:"scale",get:function(){return this.attributes.scale}},{key:"formatter",get:function(){return this.attributes.formatter}},{key:"position",get:function(){return this.attributes.position||this.constructor.defaultPosition(this.attributes.name)}},{key:"direction",get:function(){return this.constructor.getDirection(this.attributes.position)}},{key:"isHorizontal",get:function(){return"horizontal"===this.direction}},{key:"location",get:function(){return this.constructor.getLocation(this.attributes.position)}},{key:"side",get:function(){return"start"===this.location?-1:1}},{key:"tickCoords",get:function(){return this.attributes.tickCoords}},{key:"tickValues",get:function(){var e=this;return a.default.map(this.attributes.tickCoords,function(t){return e.attributes.scale.invert(t)})}},{key:"labels",get:function(){return this.attributes.label?[this.attributes.label]:a.default.map(this.attributes.accessors,"labelFormatter")}}],[{key:"getDirection",value:function(e){return["left","right"].includes(e)?"vertical":["top","bottom"].includes(e)?"horizontal":void 0}},{key:"getLocation",value:function(e){return["top","left"].includes(e)?"start":["bottom","right"].includes(e)?"end":void 0}},{key:"defaultPosition",value:function(e){return e.startsWith("x")?"bottom":e.startsWith("y")?"left":void 0}}]),RadialAxisConfigModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function RadialBarConfigModel(){return _classCallCheck(this,RadialBarConfigModel),_possibleConstructorReturn(this,(RadialBarConfigModel.__proto__||Object.getPrototypeOf(RadialBarConfigModel)).apply(this,arguments))}return _inherits(RadialBarConfigModel,e),n(RadialBarConfigModel,[{key:"calculateScales",value:function(e,t,r){var n=a.default.extend({range:[0,2*Math.PI]},this.attributes.angular);a.default.has(this.attributes,"angular.providedScale")||a.default.set(this.attributes,"angular.providedScale",a.default.has(this.attributes,"angular.scale")),a.default.has(this.attributes,"radial.providedScale")||a.default.set(this.attributes,"radial.providedScale",a.default.has(this.attributes,"radial.scale")),a.default.set(this.attributes,"angular.calculatedDomain",d.default.getCalculatedDomain(e,n)),a.default.has(this.attributes,"angular.scale")&&this.attributes.angular.providedScale||a.default.set(this.attributes,"angular.scale",d.default.getScale(e,n)),n=a.default.merge({accessor:a.default.map(this.radialAccessors,"accessor")},{range:[0,Math.min(t/2,r/2)]},this.attributes.radial),a.default.set(this.attributes,"radial.calculatedDomain",d.default.getCalculatedDomain(e,n)),a.default.has(this.attributes,"radial.scale")&&this.attributes.radial.providedScale||a.default.set(this.attributes,"radial.scale",d.default.getScale(e,n))}},{key:"getColor",value:function(e,t){return c.default.getColor(t,e)||this.attributes.colorScale(e.accessor)}},{key:"setColor",value:function(e,t){this.set("radial.color",t)}},{key:"defaults",get:function(){return a.default.merge(i(RadialBarConfigModel.prototype.__proto__||Object.getPrototypeOf(RadialBarConfigModel.prototype),"defaults",this),{isSharedContainer:!0,radial:{color:"steelblue"},barPadding:15})}},{key:"angularScale",get:function(){return this.get("angular.scale")}},{key:"radialScale",get:function(){return this.get("radial.scale")}},{key:"radialAccessors",get:function(){return a.default.isArray(this.get("radial"))?this.get("radial"):[this.get("radial")]}}]),RadialBarConfigModel}(l.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function RadialLineConfigModel(){return _classCallCheck(this,RadialLineConfigModel),_possibleConstructorReturn(this,(RadialLineConfigModel.__proto__||Object.getPrototypeOf(RadialLineConfigModel)).apply(this,arguments))}return _inherits(RadialLineConfigModel,e),n(RadialLineConfigModel,[{key:"calculateScales",value:function(e,t,r){var n=a.default.extend({range:[0,2*Math.PI]},this.attributes.angular);a.default.has(this.attributes,"angular.providedScale")||a.default.set(this.attributes,"angular.providedScale",a.default.has(this.attributes,"angular.scale")),a.default.has(this.attributes,"radial.providedScale")||a.default.set(this.attributes,"radial.providedScale",a.default.has(this.attributes,"radial.scale")),a.default.set(this.attributes,"angular.calculatedDomain",d.default.getCalculatedDomain(e,n)),a.default.has(this.attributes,"angular.scale")&&this.attributes.angular.providedScale||a.default.set(this.attributes,"angular.scale",d.default.getScale(e,n)),n=a.default.extend({range:[0,Math.min(t/2,r/2)]},this.attributes.radial),a.default.set(this.attributes,"radial.calculatedDomain",d.default.getCalculatedDomain(e,n)),a.default.has(this.attributes,"radial.scale")&&this.attributes.radial.providedScale||a.default.set(this.attributes,"radial.scale",d.default.getScale(e,n))}},{key:"getColor",value:function(){return this.get("radial.color")}},{key:"setColor",value:function(e,t){this.set("radial.color",t)}},{key:"defaults",get:function(){return a.default.merge(i(RadialLineConfigModel.prototype.__proto__||Object.getPrototypeOf(RadialLineConfigModel.prototype),"defaults",this),{isSharedContainer:!0,curve:l.curveCatmullRom.alpha(.5),radial:{color:"steelblue"}})}},{key:"angularScale",get:function(){return this.get("angular.scale")}},{key:"radialScale",get:function(){return this.get("radial.scale")}}]),RadialLineConfigModel}(c.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(0),a=_interopRequireWildcard(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(1),d=_interopRequireDefault(f),p=r(3),h=_interopRequireDefault(p),g=r(6),y=_interopRequireDefault(g),_=function(e){function RadialDendrogramConfigModel(){return _classCallCheck(this,RadialDendrogramConfigModel),_possibleConstructorReturn(this,(RadialDendrogramConfigModel.__proto__||Object.getPrototypeOf(RadialDendrogramConfigModel)).apply(this,arguments))}return _inherits(RadialDendrogramConfigModel,e),n(RadialDendrogramConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];y.default.set.apply(y.default,r),(e=i(RadialDendrogramConfigModel.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getColor",value:function(e){return d.default.find(this.attributes.levels,{level:e}).color||this.attributes.colorScale(e)}},{key:"setColor",value:function(e,t){var r=this.get("levels"),n=d.default.find(r,function(t){return t.level===e});n&&(n.color=t,this.trigger("change",this.config))}},{key:"setKey",value:function(e,t){var r=this.attributes.levels,n=d.default.find(r,function(t){return t.level===e});if(n){var i=t?n.level+1:n.level;i<1&&(i=1),this.set({drillDownLevel:i})}}},{key:"defaults",get:function(){return d.default.merge(i(RadialDendrogramConfigModel.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramConfigModel.prototype),"defaults",this),y.default.defaults,{levels:[],ease:l.easeCubic,duration:500,margin:{top:50,bottom:50,left:50,right:50},valueScale:a.scaleLog(),parentSeparation:1,parentSeparationThreshold:0,parentSeparationDepthThreshold:4,parentSeparationShrinkFactor:.05,arcWidth:10,showArcLabels:!0,drawLinks:!1,drawRibbons:!0,labelFlow:"along-arc",arcLabelLetterWidth:5,arcLabelXOffset:2,arcLabelYOffset:18,drillDownLevel:1,curve:c.curveCatmullRom.alpha(.5)})}},{key:"legendData",get:function(){var e=this;return d.default.map(this.attributes.levels,function(t){return{key:t.level,label:t.label,color:e.getColor(t.level),disabled:t.level>=e.attributes.drillDownLevel}})}},{key:"legendConfig",get:function(){return{colorScheme:this.attributes.colorScheme}}}]),RadialDendrogramConfigModel}(h.default);t.default=_},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),u=r(1),l=_interopRequireDefault(u),s=r(3),c=_interopRequireDefault(s),f=r(6),d=_interopRequireDefault(f),p=function(e){function SankeyConfigModel(){return _classCallCheck(this,SankeyConfigModel),_possibleConstructorReturn(this,(SankeyConfigModel.__proto__||Object.getPrototypeOf(SankeyConfigModel)).apply(this,arguments))}return _inherits(SankeyConfigModel,e),n(SankeyConfigModel,[{key:"set",value:function(){i(SankeyConfigModel.prototype.__proto__||Object.getPrototypeOf(SankeyConfigModel.prototype),"set",this).call(this,d.default.set.apply(d.default,arguments))}},{key:"getColor",value:function(e,t){return t.color||this.attributes.colorScale(t.level)}},{key:"getAccessors",value:function(){return l.default.map(this.attributes.levels,function(e){return{accessor:e.level,level:e.level,label:e.label,color:e.color,enabled:!0}})}},{key:"defaults",get:function(){return l.default.merge(i(SankeyConfigModel.prototype.__proto__||Object.getPrototypeOf(SankeyConfigModel.prototype),"defaults",this),d.default.defaults,{margin:{top:5,bottom:5,left:50,right:50},nodeWidth:15,nodePadding:2,levels:[],duration:200,ease:a.easeCubic})}}]),SankeyConfigModel}(c.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(24),l=r(3),s=_interopRequireDefault(l),c=r(6),f=_interopRequireDefault(c),d=r(8),p=_interopRequireDefault(d),h=function(e){function ScatterPlotConfigModel(){return _classCallCheck(this,ScatterPlotConfigModel),_possibleConstructorReturn(this,(ScatterPlotConfigModel.__proto__||Object.getPrototypeOf(ScatterPlotConfigModel)).apply(this,arguments))}return _inherits(ScatterPlotConfigModel,e),n(ScatterPlotConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];f.default.set.apply(f.default,r),(e=i(ScatterPlotConfigModel.prototype.__proto__||Object.getPrototypeOf(ScatterPlotConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getOuterWidth",value:function(e,t){return p.default.outerWidth(t,e,this.get("x.accessor"),this.get("x.scale"))}},{key:"calculateScales",value:function(e,t,r){var n=this.attributes.x;a.default.set(this.attributes,"x.scale",p.default.getScale(e,n)),n=this.attributes.y,a.default.set(this.attributes,"y.scale",p.default.getScale(e,n)),this.get("size.accessor")&&(n=this.attributes.size,a.default.set(this.attributes,"size.scale",p.default.getScale(e,n)))}},{key:"getColor",value:function(e,t){return f.default.getColor(t,this.get("y"))||this.attributes.colorScale(e)}},{key:"setColor",value:function(){}},{key:"defaults",get:function(){return a.default.merge(i(ScatterPlotConfigModel.prototype.__proto__||Object.getPrototypeOf(ScatterPlotConfigModel.prototype),"defaults",this),f.default.defaults,{isSharedContainer:!0,shape:u.bubbleShapes.circleFill,size:{range:[1,500]}})}},{key:"xScale",get:function(){return this.get("x.scale")}},{key:"yScale",get:function(){return this.get("y.scale")}},{key:"sizeScale",get:function(){return this.get("size.scale")}}]),ScatterPlotConfigModel}(s.default);t.default=h},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function StackedBarConfigModel(){return _classCallCheck(this,StackedBarConfigModel),_possibleConstructorReturn(this,(StackedBarConfigModel.__proto__||Object.getPrototypeOf(StackedBarConfigModel)).apply(this,arguments))}return _inherits(StackedBarConfigModel,e),n(StackedBarConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.default.set.apply(c.default,r),(e=i(StackedBarConfigModel.prototype.__proto__||Object.getPrototypeOf(StackedBarConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getOuterWidth",value:function(e,t){return d.default.outerWidth(t,e,this.get("x.accessor"),this.xScale)}},{key:"calculateScales",value:function(e){var t=this.attributes.x;a.default.set(this.attributes,"x.scale",d.default.getScale(e,t)),t=a.default.merge({},this.attributes.y,{stacked:!0,accessor:a.default.map(this.yAccessors,"accessor")}),a.default.set(this.attributes,"y.scale",d.default.getScale(e,t))}},{key:"getColor",value:function(e,t){var r=a.default.find(this.yAccessors,{accessor:e});return c.default.getColor(t,r)||this.attributes.colorScale(e)}},{key:"setColor",value:function(){}},{key:"setKey",value:function(){}},{key:"defaults",get:function(){return a.default.merge(i(StackedBarConfigModel.prototype.__proto__||Object.getPrototypeOf(StackedBarConfigModel.prototype),"defaults",this),c.default.defaults,{isSharedContainer:!0,barPadding:15})}},{key:"yAccessors",get:function(){return a.default.filter(this.attributes.y,function(e){return!(!1===e.enabled)})}},{key:"accessors",get:function(){return this.attributes.y}},{key:"xScale",get:function(){return this.get("x.scale")}},{key:"yScale",get:function(){return this.get("y.scale")}}]),StackedBarConfigModel}(l.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function StandaloneModel(){return _classCallCheck(this,StandaloneModel),_possibleConstructorReturn(this,(StandaloneModel.__proto__||Object.getPrototypeOf(StandaloneModel)).apply(this,arguments))}return _inherits(StandaloneModel,e),n(StandaloneModel,[{key:"defaults",get:function(){return a.default.merge(i(StandaloneModel.prototype.__proto__||Object.getPrototypeOf(StandaloneModel.prototype),"defaults",this),{isSharedContainer:!0,width:300,height:100})}}]),StandaloneModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c=_interopRequireDefault(s),f=function(e){function TimelineConfigModel(){return _classCallCheck(this,TimelineConfigModel),_possibleConstructorReturn(this,(TimelineConfigModel.__proto__||Object.getPrototypeOf(TimelineConfigModel)).apply(this,arguments))}return _inherits(TimelineConfigModel,e),n(TimelineConfigModel,[{key:"defaults",get:function(){return a.default.merge(i(TimelineConfigModel.prototype.__proto__||Object.getPrototypeOf(TimelineConfigModel.prototype),"defaults",this),{isSharedContainer:!0,height:100,brushHandleHeight:8,brushHandleScaleX:1,brushHandleScaleY:1.2,selectionScale:l.scaleLinear().domain([0,100]),selection:[]})}},{key:"selectionRange",get:function(){return this.attributes.selectionScale.range([this.attributes.xRange[0],this.attributes.xRange[1]]),a.default.isEmpty(this.attributes.selection)?[]:[this.attributes.selectionScale(this.attributes.selection[0]),this.attributes.selectionScale(this.attributes.selection[1])]}}]),TimelineConfigModel}(c.default);t.default=f},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=function(e){function TooltipConfigModel(){return _classCallCheck(this,TooltipConfigModel),_possibleConstructorReturn(this,(TooltipConfigModel.__proto__||Object.getPrototypeOf(TooltipConfigModel)).apply(this,arguments))}return _inherits(TooltipConfigModel,e),n(TooltipConfigModel,[{key:"defaults",get:function(){var e=this;return a.default.merge(i(TooltipConfigModel.prototype.__proto__||Object.getPrototypeOf(TooltipConfigModel.prototype),"defaults",this),{acceptFilters:[],placement:"vertical",sticky:!1,formatter:function(t){var r={},n=e.get("dataConfig"),i=e.get("title");return i&&(r.title=a.default.isString(i)?i:e.getFormattedValue(t,i)),r.color=e.get("color"),r.backgroundColor=e.get("backgroundColor"),r.items=a.default.map(n,function(r){return{label:e.getLabel(t,r),value:e.getFormattedValue(t,r)}}),r}})}},{key:"clip",get:function(){return this.attributes.clip}},{key:"stickyMargin",get:function(){return{left:0,right:0}}},{key:"position",get:function(){return{left:this.attributes.left,top:this.attributes.top}}},{key:"height",get:function(){return this.attributes.height}}]),TooltipConfigModel}(l.default);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(0),a=_interopRequireWildcard(o),u=r(0),l=_interopRequireWildcard(u),s=r(1),c=_interopRequireDefault(s),f=r(3),d=_interopRequireDefault(f),p=r(6),h=_interopRequireDefault(p),g=function(e){function TrafficMapConfigModel(){return _classCallCheck(this,TrafficMapConfigModel),_possibleConstructorReturn(this,(TrafficMapConfigModel.__proto__||Object.getPrototypeOf(TrafficMapConfigModel)).apply(this,arguments))}return _inherits(TrafficMapConfigModel,e),n(TrafficMapConfigModel,[{key:"project",value:function(e){var t=this.getValue(e,{accessor:this.get("accessors.longitude")}),r=this.getValue(e,{accessor:this.get("accessors.latitude")});return this.attributes.projection([t,r])}},{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];h.default.set.apply(h.default,r),(e=i(TrafficMapConfigModel.prototype.__proto__||Object.getPrototypeOf(TrafficMapConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getColor",value:function(e){var t=c.default.find(this.attributes.trafficTypes,{name:e}),r=null;return t&&t.color&&(r=t.color),r||this.attributes.colorScale(e)}},{key:"setColor",value:function(e,t){var r=this.get("levels"),n=c.default.find(r,function(t){return t.level===e});n&&(n.color=t,this.trigger("change",this.config))}},{key:"setKey",value:function(e,t){var r=this.attributes.levels,n=c.default.find(r,function(t){return t.level===e});if(n){var i=t?n.level+1:n.level;i<1&&(i=1),this.set({drillDownLevel:i})}}},{key:"defaults",get:function(){return c.default.merge(i(TrafficMapConfigModel.prototype.__proto__||Object.getPrototypeOf(TrafficMapConfigModel.prototype),"defaults",this),h.default.defaults,{isSharedContainer:!0,trafficTypes:[],colorScheme:a.schemeCategory10,projection:l.geoEquirectangular(),zoom:{step:.5,extent:[1,8]},map:{data:null,feature:"countries",locations:null,fit:"land"},accessors:{id:"id",from:"from",to:"to",width:"bytes",longitude:"longitude",latitude:"latitude"},margin:{top:0,bottom:0,left:0,right:0},markerSpacing:15,markerSpeed:1,markerEndAnimationSteps:50,markerEndRadiusFactor:5})}},{key:"legendData",get:function(){var e=this;return c.default.map(this.attributes.levels,function(t){return{key:t.level,label:t.label,color:e.getColor(t.level),disabled:t.level>=e.attributes.drillDownLevel}})}},{key:"legendConfig",get:function(){return{colorScheme:this.attributes.colorScheme}}}]),TrafficMapConfigModel}(d.default);t.default=g},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c=_interopRequireDefault(s),f=function(e){function NavigationConfigModel(){return _classCallCheck(this,NavigationConfigModel),_possibleConstructorReturn(this,(NavigationConfigModel.__proto__||Object.getPrototypeOf(NavigationConfigModel)).apply(this,arguments))}return _inherits(NavigationConfigModel,e),n(NavigationConfigModel,[{key:"getSelectionRange",value:function(e){var t=this.attributes.selectionScale,r=this.attributes.selection;return t.range(e),a.default.isEmpty(r)?[]:[t(r[0]),t(r[1])]}},{key:"defaults",get:function(){return a.default.merge(i(NavigationConfigModel.prototype.__proto__||Object.getPrototypeOf(NavigationConfigModel.prototype),"defaults",this),{selectionScale:l.scaleLinear().domain([0,100]),selection:[],browseMoveBy:6e4,margin:{top:8,left:8,bottom:8,right:8,label:16},plot:{x:{axis:"x"},y:{axis:"y"}},axes:{x:{},y:{}}})}}]),NavigationConfigModel}(c.default);t.default=f},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=function(e){function CompositeRadialConfigModel(){return _classCallCheck(this,CompositeRadialConfigModel),_possibleConstructorReturn(this,(CompositeRadialConfigModel.__proto__||Object.getPrototypeOf(CompositeRadialConfigModel)).apply(this,arguments))}return _inherits(CompositeRadialConfigModel,e),n(CompositeRadialConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.default.set.apply(c.default,r),(e=i(CompositeRadialConfigModel.prototype.__proto__||Object.getPrototypeOf(CompositeRadialConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getComponentType",value:function(e){return e.chart||"RadialLine"}},{key:"getAccessorKey",value:function(e){return e.angular+"-"+e.radial}},{key:"getAngularAxisName",value:function(e){return e.angularAxis||"angularAxis"}},{key:"getRadialAxisName",value:function(e){return e.radialAxis||"radialAxis"}},{key:"getOtherAxisName",value:function(e,t){return"radial"===e?this.getAngularAxisName(t):this.getRadialAxisName(t)}},{key:"getAxisAccessors",value:function(e){var t=this;return a.default.filter(this.accessors,function(r){return t.getAngularAxisName(r)===e||t.getRadialAxisName(r)===e})}},{key:"getAxisConfig",value:function(e){var t=this,r=this.get("axes."+e),n=a.default.extend({margin:this.margin,height:this.attributes.height,width:this.attributes.width,accessors:this.getAxisAccessors(e)},r);return n.otherAxisNames=(0,a.default)(a.default.map(n.accessors,function(e){return t.getOtherAxisName(n.position,e)})).uniq().value(),n.otherAxisScales=a.default.map(n.otherAxisNames,function(e){return t.get("axes."+e).scale}),n}},{key:"calculateScales",value:function(e,t,r){var n=this,i=a.default.groupBy(this.activeAccessors,function(e){return n.getAngularAxisName(e)});a.default.each(i,function(t,r){var i=(0,a.default)(t).map("angular").uniq().value(),o=a.default.extend({domain:n.get("axes."+r+".calculatedDomain"),range:[0,2*Math.PI],accessor:i},n.get("axes."+r));a.default.set(n.attributes,"axes."+r+".scale",d.default.getScale(e,o))});var o=a.default.groupBy(this.activeAccessors,function(e){return n.getRadialAxisName(e)}),u=Math.min(t/2,r/2);a.default.each(o,function(t,r){var i=(0,a.default)(t).map("radial").uniq().value(),o=a.default.extend({domain:n.get("axes."+r+".calculatedDomain"),range:[0,u],accessor:i},n.get("axes."+r)),l=[o.range[0],o.range[1]];a.default.each(l,function(e,t){if(a.default.endsWith(e,"%")){var r=parseInt(a.default.trim(e," %"));l[t]=r/100*u}}),o.range=l,a.default.set(n.attributes,"axes."+r+".scale",d.default.getScale(e,o))})}},{key:"getColor",value:function(e){return e.color||this.attributes.colorScale(e.accessor)}},{key:"setColor",value:function(e,t){var r=this,n=a.default.find(this.accessors,function(t){return r.getAccessorKey(t)===e});n&&(n.color=t,this.trigger("change"))}},{key:"setKey",value:function(e,t){var r=this,n=a.default.find(this.accessors,function(t){return r.getAccessorKey(t)===e});n&&(n.disabled=!t,this.trigger("change"))}},{key:"isMultiAccessor",value:function(e){return["Area","StackedBar","GroupedBar"].includes(e)}},{key:"defaults",get:function(){return a.default.merge(i(CompositeRadialConfigModel.prototype.__proto__||Object.getPrototypeOf(CompositeRadialConfigModel.prototype),"defaults",this),c.default.defaults,{margin:{top:10,left:40,bottom:40,right:15,label:15},isPrimary:!0,isSharedContainer:!0,chart:"RadialLine",accessors:[{angularAxis:"angularAxis",radialAxis:"radialAxis"}],ticks:{}})}},{key:"activeAccessors",get:function(){return a.default.filter(this.accessors,function(e){return!e.disabled})}},{key:"accessors",get:function(){return this.get("accessors")}},{key:"children",get:function(){var e=this;return a.default.map(this.activeAccessors,function(t){return{key:e.getAccessorKey(t),accessor:t}})}},{key:"margin",get:function(){return a.default.cloneDeep(this.attributes.margin)}},{key:"activeAngularAxes",get:function(){var e=this,t=(0,a.default)(this.activeAccessors).map(function(t){return e.getAngularAxisName(t)}).uniq().value();return a.default.filter(this.attributes.axes,function(r,n){var i=t.includes(n);return i&&(r.id=e.id+"-"+n,r.name=n,r.position="angular"),i})}},{key:"activeRadialAxes",get:function(){var e=this,t=(0,a.default)(this.activeAccessors).map(function(t){return e.getRadialAxisName(t)}).uniq().value();return a.default.filter(this.attributes.axes,function(r,n){var i=t.includes(n);return i&&(r.id=e.id+"-"+n,r.name=n,r.position="radial"),i})}}]),CompositeRadialConfigModel}(l.default);t.default=p},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(3),l=_interopRequireDefault(u),s=r(6),c=_interopRequireDefault(s),f=r(8),d=_interopRequireDefault(f),p=r(35),h=_interopRequireDefault(p),g=function(e){function CompositeYConfigModel(){return _classCallCheck(this,CompositeYConfigModel),_possibleConstructorReturn(this,(CompositeYConfigModel.__proto__||Object.getPrototypeOf(CompositeYConfigModel)).apply(this,arguments))}return _inherits(CompositeYConfigModel,e),n(CompositeYConfigModel,[{key:"set",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.default.set.apply(c.default,r),(e=i(CompositeYConfigModel.prototype.__proto__||Object.getPrototypeOf(CompositeYConfigModel.prototype),"set",this)).call.apply(e,[this].concat(r))}},{key:"getComponentType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return a.default.isArray(e)||(e=[e]),e[0].chart||"Line"}},{key:"getAxisName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return a.default.isArray(e)||(e=[e]),e[0].axis||"y"}},{key:"getAxisAccessors",value:function(e,t){var r=this;return e.startsWith("x")?[this.get("plot.x.accessor")]:a.default.filter(this.get("plot.y"),function(n){return!(r.getAxisName(n)!==e||t&&n.disabled)})}},{key:"getAxisConfig",value:function(e){var t=this.get("axes."+e),r=h.default.getDirection(t.position);return a.default.extend({margin:this.margin,height:this.attributes.height,width:this.attributes.width,accessors:this.getAxisAccessors(e,!0),tickCoords:this.syncScales(r,t.scale,t.ticks)},t)}},{key:"calculateScales",value:function(e){var t=this,r=a.default.extend({},this.get("plot.x"),this.get("axes.x"));a.default.set(this.attributes,"axes.x.scale",d.default.getScale(e,r));var n=a.default.groupBy(this.get("plot.y"),function(e){return t.getAxisName(e)});a.default.each(n,function(r,n){var i=a.default.map(r,"accessor"),o=a.default.extend({domain:t.get("axes."+n+".calculatedDomain"),accessor:i},t.get("axes."+n));a.default.set(t.attributes,"axes."+n+".scale",d.default.getScale(e,o))})}},{key:"getColor",value:function(e){return a.default.find(this.accessors,{accessor:e}).color||this.attributes.colorScale(e)}},{key:"setColor",value:function(e,t){var r=a.default.find(this.accessors,{accessor:e});r&&(r.color=t,this.trigger("change"))}},{key:"setKey",value:function(e,t){var r=a.default.find(this.accessors,function(t){return t.accessor===e});r&&(r.disabled=!t,this.trigger("change"))}},{key:"setChartType",value:function(e,t){var r=this,n=["GroupedBar","StackedBar"],i=a.default.find(this.accessors,{accessor:e});if(i){var o=[i];n.includes(t)&&o.push.apply(o,_toConsumableArray(a.default.filter(this.accessors,function(e){return n.includes(e.chart)&&r.getAxisName(e)===r.getAxisName(i)&&e!==i}))),a.default.each(o,function(e){e.chart=t}),this.trigger("change")}}},{key:"syncScales",value:function(e,t,r){var n=this.attributes;if(n.ticks||(n.ticks={}),n.ticks[e])return n.ticks[e];n.ticks[e]=a.default.map(t.ticks(r),function(e){return t(e)})}},{key:"isMultiAccessor",value:function(e){return["Area","StackedBar","GroupedBar"].includes(e)}},{key:"defaults",get:function(){return a.default.merge(i(CompositeYConfigModel.prototype.__proto__||Object.getPrototypeOf(CompositeYConfigModel.prototype),"defaults",this),c.default.defaults,{margin:{top:8,left:8,bottom:8,right:8,label:16},isPrimary:!0,isSharedContainer:!0,chart:"Line",plot:{x:{axis:"x"},y:{axis:"y"}},ticks:{}})}},{key:"yAccessors",get:function(){return a.default.filter(this.get("plot.y"),function(e){return!e.disabled})}},{key:"accessors",get:function(){return this.get("plot.y")}},{key:"children",get:function(){var e=this,t=a.default.groupBy(this.yAccessors,function(t){return e.getAxisName(t)+"-"+(e.isMultiAccessor(t.chart)?t.chart:t.accessor)});return a.default.map(t,function(e,t){return{key:t,accessors:e}})}},{key:"xScale",get:function(){return this.get("axes."+this.get("plot.x.axis")+".scale")}},{key:"yScales",get:function(){return a.default.find(this.get("axes"),function(e){return e.name.startsWith("y")}).scale}},{key:"margin",get:function(){var e=this,t=a.default.cloneDeep(this.attributes.margin);return a.default.each(this.attributes.axes,function(r,n){r.position=r.position||h.default.defaultPosition(n);var i=e.get("axes."+n+".label")?2:e.getAxisAccessors(n,!0).length+1;t[r.position]+=t.label*i}),t}},{key:"activeAxes",get:function(){var e=this,t=(0,a.default)(this.yAccessors).map(function(t){return e.getAxisName(t)}).uniq().value();return a.default.filter(this.attributes.axes,function(r,n){return r.id=e.id+"-"+n,r.name=n,n.startsWith("x")||t.includes(n)})}},{key:"update",get:function(){return[this.id].concat(_toConsumableArray(this.attributes.update))}}]),CompositeYConfigModel}(l.default);t.default=g},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(2),d=_interopRequireDefault(f),p=r(88),h=_interopRequireDefault(p),g=r(5),y=_interopRequireDefault(g),_=r(22),v=_interopRequireDefault(_),b=r(4),m=_interopRequireDefault(b),w=r(12),k=_interopRequireDefault(w),C=r(13),O=_interopRequireDefault(C),P=r(14),R=_interopRequireDefault(P),M=r(37),x=_interopRequireDefault(M),j=r(159),D=_interopRequireDefault(j);r(193);var S=function(e){function CompositeYView(){var e;_classCallCheck(this,CompositeYView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=CompositeYView.__proto__||Object.getPrototypeOf(CompositeYView)).call.apply(e,[this].concat(r)));return i._composite=new v.default,i}return _inherits(CompositeYView,e),i(CompositeYView,null,[{key:"Config",get:function(){return h.default}},{key:"Model",get:function(){return y.default}},{key:"Actions",get:function(){return{SelectColor:k.default,SelectKey:O.default,SelectChartType:D.default,Zoom:R.default,ClusterAction:x.default}}}]),i(CompositeYView,[{key:"render",value:function(){var e=this;n(CompositeYView.prototype.__proto__||Object.getPrototypeOf(CompositeYView.prototype),"render",this).call(this),this._updateComponents(),this.config.calculateScales(this.model),this.config.set("ticks",{},{silent:!0,unset:!0}),this._renderAxes(),this._renderClip();var t=this._composite.getByType((0,a.default)(this.config.yAccessors).map("chart").uniq().value());a.default.each(t,function(t){var r=e.config.getAxisName(t.config.get("y"));t.config.set("x.scale",e.config.get("axes.x.scale"),{silent:!0}),t.config.set("y.scale",e.config.get("axes."+r+".scale"),{silent:!0}),e.config.get("bucket")&&"ScatterPlot"===t.type||t.render()}),this._cluster(),this._showLegend(),this._initCrosshair(),this._toggleCrosshair(),this._ticking=!1}},{key:"remove",value:function(){this._composite.remove(),n(CompositeYView.prototype.__proto__||Object.getPrototypeOf(CompositeYView.prototype),"remove",this).call(this)}},{key:"zoom",value:function(e){var t=this,r=!e,n=a.default.groupBy(this.config.yAccessors,"axis");n.x=[{accessor:this.config.get("plot.x.accessor")}],a.default.each(n,function(n,i){if(r||!a.default.isEmpty(a.default.filter(n,function(t){return!e||e[t.accessor]}))){var o=c.extent((0,a.default)(n).map(function(t){return e?e[t.accessor]:[]}).flatten().value());(o[0]!==o[1]||a.default.isNil(o[0]))&&t.config.set("axes."+i+".domain",o,{silent:!0})}}),this.render()}},{key:"cluster",value:function(e){this._overlapping=e;var t=this._composite.getByType("ScatterPlot");a.default.each(t,function(t){return t.cluster(e)})}},{key:"_renderClip",value:function(){var e=this.d3.select(this.selectors.clip);e.empty()&&(e=this.d3.append(this.selectors.clip).attr("id",this.id+"-"+this.selectors.clip),e.append("rect")),e.select("rect").attr("width",this.innerWidth).attr("height",this.innerHeight)}},{key:"_renderAxes",value:function(){var e=this,t=this.svg.selectAll(this.selectors.axis).data(this.config.activeAxes,function(e){return e.name});t.enter().each(function(t){e._composite.add({type:"Axis",config:e.config.getAxisConfig(t.name),container:e._container}).el.__data__=t}),t.each(function(t){var r=e._composite.get(t.id);r.config.set(e.config.getAxisConfig(t.name),{silent:!0}),r.render()}),t.exit().each(function(t){e._composite.remove(t.id)})}},{key:"_updateComponents",value:function(e){var t=this,r={frozen:!0,margin:this.config.margin,width:this.width,height:this.height,x:{accessor:this.config.get("plot.x.accessor"),domain:this.config.get("axes.x.domain"),scale:this.config.get("axes.x.scale")}},n=this.svg.selectAll(this.selectors.node).data(this.config.children,function(e){return e.key});a.default.each(this.config.activeAxes,function(e){t.config.set("axes."+e.name+".calculatedDomain",void 0,{silent:!0}),t.config.set("axes."+e.name+".range",void 0,{silent:!0})}),n.enter().merge(n).each(function(e){return t._updateComponent(e,r)}),n.exit().each(function(e){t._composite.remove(t.id+"-"+e.key)})}},{key:"_updateComponent",value:function(e,t){var r=this.config.getComponentType(e.accessors);t.id=this.id+"-"+e.key,t.duration=this.config.duration,this.config.isMultiAccessor(r)?t.y=e.accessors:(t.y=e.accessors[0],t.tooltip=e.accessors[0].tooltip),"ScatterPlot"===r&&(t.size=e.accessors[0].size);var n=this._composite.get(this.id+"-"+e.key);n?n.config.set(t,{silent:!0}):(n=this._composite.add({type:r,config:t,model:this.model,container:this._container}),n.d3.classed(this.selectorClass("node"),!0).attr("clip-path","url(#"+this.id+"-"+this.selectors.clip+")"),n.el.__data__={key:e.key}),n.calculateScales();var i=this.config.getAxisName(e.accessors),o=this.config.get("axes."+i+".calculatedDomain")||[],a=this.config.get("axes.x.range")||[0,this.innerWidth],u=this.config.get("axes."+i+".range")||[this.innerHeight,0];o=c.extent(o.concat(n.config.yScale.domain()));var l=n.config.xScale.range(),s=n.config.yScale.range();a=[Math.max(a[0],l[0]),Math.min(a[1],l[1])],u=[Math.min(u[0],s[0]),Math.max(u[1],s[1])],this.config.set("axes."+i+".calculatedDomain",o,{silent:!0}),this.config.set("axes.x.range",a,{silent:!0}),this.config.set("axes."+i+".range",u,{silent:!0})}},{key:"_initCrosshair",value:function(){this.config.get("crosshair")&&this.svg.delegate("mousemove","svg",this._onMousemove.bind(this))}},{key:"_toggleCrosshair",value:function(e){var t=this,r=this.config.get("crosshair");if(!e||e[0]<0||e[0]>this.innerWidth||e[1]<0||e[1]>this.innerHeight)return m.default.fire("ToggleVisibility",r,!1),void(this._ticking=!1);var n=this.config.get("axes.x.scale"),i=n.invert(e[0]),o=this.config.get("plot.x.accessor"),u=this.model.getNearest(o,i),l={container:this._container,width:this.width,height:this.height,margin:this.config.margin,bubbles:!0,lines:"full"},s={hoverPoint:e,dataPoint:[],item:u,labels:[],points:[]};s.dataPoint[0]=n(a.default.get(u,o)),s.dataPoint[1]=e[1],s.labels=a.default.map(this.config.activeAxes,function(e){var r=t._composite.get(t.id+"-"+e.name),n=t.config.getAxisAccessors(e.name)[0],i=a.default.get(u,n),o=r.config.formatter;return o&&(i=o(i)),{position:"bottom",value:i}}),s.labels=[s.labels[0]],a.default.each(this.config.children,function(e){var r=t._composite.get(t.id+"-"+e.key);a.default.each(e.accessors,function(e){var n=e.accessor;s.points.push({id:n,x:r.getScreenX(u,n),y:r.getScreenY(u,n),color:t.config.getColor(n)})})}),m.default.fire("ToggleVisibility",r,!0,s,l),this._ticking=!1}},{key:"_showLegend",value:function(){var e=this,t=this.config.get("legend");if(t){var r={colorScheme:this.config.get("colorScheme"),chartTypes:this.config.get("chartTypes")},n=a.default.map(this.config.accessors,function(t){return{key:t.accessor,disabled:t.disabled,label:e.config.getLabel(void 0,t),color:e.config.getColor(t.accessor),chartType:r.chartTypes?t.chart:void 0,axis:t.axis,shape:t.shape}});m.default.fire("ToggleVisibility",t,!0,n,r)}}},{key:"_cluster",value:function(){if(this.config.get("bucket")){var e=[],t=this._composite.getByType("ScatterPlot");a.default.each(t,function(t){e.push.apply(e,_toConsumableArray(t.prepareData()))});var r={clip:this.id+"-"+this.selectors.clip,margin:this.config.margin,update:this.config.update,xAccessor:this.config.get("plot.x.accessor")};m.default.fire("ToggleVisibility",this.config.get("bucket"),!0,e,r)}}},{key:"_onMousemove",value:function(e,t,r){var n=l.mouse(this.el);this._ticking||(window.requestAnimationFrame(this._toggleCrosshair.bind(this,n)),this._ticking=!0)}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return a.default.extend(n(CompositeYView.prototype.__proto__||Object.getPrototypeOf(CompositeYView.prototype),"selectors",this),{node:".child",axis:".axis",clip:"clipPath"})}}]),CompositeYView}(d.default);t.default=S},function(e,t,r){!function(e,n){n(t,r(163))}(0,function(e,t){"use strict";function commandObject(e){e=e.trim().replace(/ /g,",");var t=e[0],n=e.substring(1).split(",");return r[t.toUpperCase()].reduce(function(e,t,r){return e[t]="x"===t?parseFloat(n[r]):n[r],e},{type:t})}function commandToString(e){var t=e.type;return""+t+r[t.toUpperCase()].map(function(t){return e[t]}).join(",")}function convertToSameType(e,t){var r={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];return e.type!==t.type&&"M"!==t.type.toUpperCase()&&function(){var i={};Object.keys(t).forEach(function(o){var a=t[o],u=e[o];void 0===u&&(n.includes(o)?u=a:(void 0===u&&r[o]&&(u=e[r[o]]),void 0===u&&(u=0))),i[o]=u}),i.type=t.type,e=i}(),e}function extend(e,t,r){var n=void 0;n=e.length>1&&"M"===e[0].type?1:0;for(var i=t.reduce(function(t,r,i){if(0===i&&"M"===r.type)return t[0]=1,t;for(var o=Math.abs(e[n].x-r.x),a=n,u=n+1;u<e.length;u++){var l=Math.abs(e[u].x-r.x);if(!(l<o))break;o=l,a=u}return t[a]=(t[a]||0)+1,t},{}),o=[],a=0,u=0;u<e.length;u++){o.push(e[u]);for(var l=1;l<i[u]&&a<r;l++){var s=Object.assign({},e[u]);"M"===s.type?s.type="L":(void 0!==s.x1&&(s.x1=s.x,s.y1=s.y),void 0!==s.x2&&(s.x2=s.x,s.y2=s.y)),o.push(s),a+=1}}return o}function interpolatePath(e,r){var n=null==e?"":e.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),i=null==r?"":r.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),o=""===n?[]:n.split(/(?=[MLCSTQAHV])/gi),a=""===i?[]:i.split(/(?=[MLCSTQAHV])/gi);if(!o.length&&!a.length)return function(){return""};o.length?a.length||a.push(o[0]):o.push(a[0]);var u=o.map(commandObject),l=a.map(commandObject),s=Math.abs(a.length-o.length);0!==s&&(l.length>u.length?u=extend(u,l,s):l.length<u.length&&(l=extend(l,u,s))),u=u.map(function(e,t){return convertToSameType(e,l[t])});var c=u.map(commandToString).join(""),f=l.map(commandToString).join("");null!=e&&"Z"!==e[e.length-1]||null!=r&&"Z"!==r[r.length-1]||(c+="Z",f+="Z");var d=t.interpolateString(c,f);return function(e){return 1===e?null==r?"":r:d(e)}}var r={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};e.interpolatePath=interpolatePath,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function HandlebarsEnvironment(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},a.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=HandlebarsEnvironment;var n=r(9),i=r(19),o=_interopRequireDefault(i),a=r(207),u=r(205),l=r(215),s=_interopRequireDefault(l);t.VERSION="4.0.5";t.COMPILER_REVISION=7;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=c;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:s.default,log:s.default.log,registerHelper:function(e,t){if("[object Object]"===n.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple helpers");n.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===n.toString.call(e))n.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===n.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple decorators");n.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var f=s.default.log;t.log=f,t.createFrame=n.createFrame,t.logger=s.default},function(e,t){e.exports=n},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(126);Object.defineProperty(t,"Refresh",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(13);Object.defineProperty(t,"SelectKey",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var o=r(12);Object.defineProperty(t,"SelectColor",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var a=r(127);Object.defineProperty(t,"ToggleFreeze",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var u=r(11);Object.defineProperty(t,"ToggleVisibility",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var l=r(61);Object.defineProperty(t,"Browse",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var s=r(14);Object.defineProperty(t,"Zoom",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(22);Object.defineProperty(t,"CompositeChart",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(38);Object.defineProperty(t,"TitleView",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}})},function(e,t){},function(e,t,r){"use strict";function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(h*n+d*t-p*r)/(h+d-p),u=n-i,l=(f*(r-i)-s*u)/c,g=Math.sqrt(l*l+u*u)/(f*i*(1-i)),y=g?Math.atan2(l,u)*a.rad2deg-120:NaN;return new Cubehelix(y<0?y+360:y,g,i,e.opacity)}function cubehelix(e,t,r,n){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,r,null==n?1:n)}function Cubehelix(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=cubehelix,t.Cubehelix=Cubehelix;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(25),a=r(45),u=-.14861,l=1.78277,s=-.29227,c=-.90649,f=1.97294,d=f*c,p=f*l,h=l*s-c*u;(0,i.default)(Cubehelix,cubehelix,(0,n.extend)(o.Color,{brighter:function(e){return e=null==e?o.brighter:Math.pow(o.brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o.darker:Math.pow(o.darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.deg2rad,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new o.Rgb(255*(t+r*(u*n+l*i)),255*(t+r*(s*n+c*i)),255*(t+r*(f*n)),this.opacity)}}))},function(e,t,r){"use strict";function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl){var t=e.h*a.deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var r=rgb2xyz(e.r),n=rgb2xyz(e.g),i=rgb2xyz(e.b),c=xyz2lab((.4124564*r+.3575761*n+.1804375*i)/u),f=xyz2lab((.2126729*r+.7151522*n+.072175*i)/l);return new Lab(116*f-16,500*(c-f),200*(f-xyz2lab((.0193339*r+.119192*n+.9503041*i)/s)),e.opacity)}function lab(e,t,r,n){return 1===arguments.length?labConvert(e):new Lab(e,t,r,null==n?1:n)}function Lab(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function xyz2lab(e){return e>p?Math.pow(e,1/3):e/d+c}function lab2xyz(e){return e>f?e*e*e:d*(e-c)}function xyz2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);e instanceof Lab||(e=labConvert(e));var t=Math.atan2(e.b,e.a)*a.rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,r,n){return 1===arguments.length?hclConvert(e):new Hcl(e,t,r,null==n?1:n)}function Hcl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=lab,t.Lab=Lab,t.hcl=hcl,t.Hcl=Hcl;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(25),a=r(45),u=.95047,l=1,s=1.08883,c=4/29,f=6/29,d=3*f*f,p=f*f*f;(0,i.default)(Lab,lab,(0,n.extend)(o.Color,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=l*lab2xyz(e),t=u*lab2xyz(t),r=s*lab2xyz(r),new o.Rgb(xyz2rgb(3.2404542*t-1.5371385*e-.4985314*r),xyz2rgb(-.969266*t+1.8760108*e+.041556*r),xyz2rgb(.0556434*t-.2040259*e+1.0572252*r),this.opacity)}})),(0,i.default)(Hcl,hcl,(0,n.extend)(o.Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(e,t,r){"use strict";function cubehelix(e){return function cubehelixGamma(t){function cubehelix(r,i){var a=e((r=(0,n.cubehelix)(r)).h,(i=(0,n.cubehelix)(i)).h),u=(0,o.default)(r.s,i.s),l=(0,o.default)(r.l,i.l),s=(0,o.default)(r.opacity,i.opacity);return function(e){return r.h=a(e),r.s=u(e),r.l=l(Math.pow(e,t)),r.opacity=s(e),r+""}}return t=+t,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.cubehelixLong=void 0;var n=r(15),i=r(17),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=cubehelix(i.hue);t.cubehelixLong=cubehelix(o.default)},function(e,t,r){"use strict";function hcl(e){return function(t,r){var i=e((t=(0,n.hcl)(t)).h,(r=(0,n.hcl)(r)).h),a=(0,o.default)(t.c,r.c),u=(0,o.default)(t.l,r.l),l=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.c=a(e),t.l=u(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.hclLong=void 0;var n=r(15),i=r(17),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=hcl(i.hue);t.hclLong=hcl(o.default)},function(e,t,r){"use strict";function hsl(e){return function(t,r){var i=e((t=(0,n.hsl)(t)).h,(r=(0,n.hsl)(r)).h),a=(0,o.default)(t.s,r.s),u=(0,o.default)(t.l,r.l),l=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=u(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.hslLong=void 0;var n=r(15),i=r(17),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=hsl(i.hue);t.hslLong=hsl(o.default)},function(e,t,r){"use strict";function lab(e,t){var r=(0,o.default)((e=(0,n.lab)(e)).l,(t=(0,n.lab)(t)).l),i=(0,o.default)(e.a,t.a),a=(0,o.default)(e.b,t.b),u=(0,o.default)(e.opacity,t.opacity);return function(t){return e.l=r(t),e.a=i(t),e.b=a(t),e.opacity=u(t),e+""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=lab;var n=r(15),i=r(17),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(r){return Math.round(e+t*r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i,o,a){var u,l,s;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(s=e*r+t*i)&&(r-=e*s,i-=t*s),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,s/=l),e*i<t*r&&(e=-e,t=-t,s=-s,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*n,skewX:Math.atan(s)*n,scaleX:u,scaleY:l}};var n=180/Math.PI;t.identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}},function(e,t,r){"use strict";function interpolateTransform(e,t,r,n){function pop(e){return e.length?e.pop()+" ":""}function translate(e,n,o,a,u,l){if(e!==o||n!==a){var s=u.push("translate(",null,t,null,r);l.push({i:s-4,x:(0,i.default)(e,o)},{i:s-2,x:(0,i.default)(n,a)})}else(o||a)&&u.push("translate("+o+t+a+r)}function rotate(e,t,r,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:r.push(pop(r)+"rotate(",null,n)-2,x:(0,i.default)(e,t)})):t&&r.push(pop(r)+"rotate("+t+n)}function skewX(e,t,r,o){e!==t?o.push({i:r.push(pop(r)+"skewX(",null,n)-2,x:(0,i.default)(e,t)}):t&&r.push(pop(r)+"skewX("+t+n)}function scale(e,t,r,n,o,a){if(e!==r||t!==n){var u=o.push(pop(o)+"scale(",null,",",null,")");a.push({i:u-4,x:(0,i.default)(e,r)},{i:u-2,x:(0,i.default)(t,n)})}else 1===r&&1===n||o.push(pop(o)+"scale("+r+","+n+")")}return function(t,r){var n=[],i=[];return t=e(t),r=e(r),translate(t.translateX,t.translateY,r.translateX,r.translateY,n,i),rotate(t.rotate,r.rotate,n,i),skewX(t.skewX,r.skewX,n,i),scale(t.scaleX,t.scaleY,r.scaleX,r.scaleY,n,i),t=r=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.interpolateTransformSvg=t.interpolateTransformCss=void 0;var n=r(20),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(106);t.interpolateTransformCss=interpolateTransform(o.parseCss,"px, ","px)","deg)"),t.interpolateTransformSvg=interpolateTransform(o.parseSvg,", ",")",")")},function(e,t,r){"use strict";function parseCss(e){return"none"===e?u.identity:(n||(n=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),n.style.transform=e,e=o.getComputedStyle(i.appendChild(n),null).getPropertyValue("transform"),i.removeChild(n),e=e.slice(7,-1).split(","),(0,l.default)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?u.identity:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),(e=a.transform.baseVal.consolidate())?(e=e.matrix,(0,l.default)(e.a,e.b,e.c,e.d,e.e,e.f)):u.identity)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=parseCss,t.parseSvg=parseSvg;var n,i,o,a,u=r(104),l=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,r){"use strict";function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l=e[0],s=e[1],c=e[2],f=t[0],d=t[1],p=t[2],h=f-l,g=d-s,y=h*h+g*g;if(y<a)u=Math.log(p/c)/n,r=function(e){return[l+e*h,s+e*g,c*Math.exp(n*e*u)]};else{var _=Math.sqrt(y),v=(p*p-c*c+o*y)/(2*c*i*_),b=(p*p-c*c-o*y)/(2*p*i*_),m=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(b*b+1)-b);u=(w-m)/n,r=function(e){var t=e*u,r=cosh(m),o=c/(i*_)*(r*tanh(n*t+m)-sinh(m));return[l+o*h,s+o*g,c*r/cosh(n*t+m)]}}return r.duration=1e3*u,r};var n=Math.SQRT2,i=2,o=4,a=1e-12},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var r in e)t.push(r);return t}},function(e,t,r){"use strict";function createObject(){return{}}function setObject(e,t,r){e[t]=r}function createMap(){return(0,i.default)()}function setMap(e,t,r){e.set(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function apply(r,o,a,u){if(o>=n.length)return null!=e&&r.sort(e),null!=t?t(r):r;for(var l,s,c,f=-1,d=r.length,p=n[o++],h=(0,i.default)(),g=a();++f<d;)(c=h.get(l=p(s=r[f])+""))?c.push(s):h.set(l,[s]);return h.each(function(e,t){u(g,t,apply(e,o,a,u))}),g}function _entries(e,r){if(++r>n.length)return e;var i,a=o[r-1];return null!=t&&r>=n.length?i=e.entries():(i=[],e.each(function(e,t){i.push({key:t,values:_entries(e,r)})})),null!=a?i.sort(function(e,t){return a(e.key,t.key)}):i}var e,t,r,n=[],o=[];return r={object:function(e){return apply(e,0,createObject,setObject)},map:function(e){return apply(e,0,createMap,setMap)},entries:function(e){return _entries(apply(e,0,createMap,setMap),0)},key:function(e){return n.push(e),r},sortKeys:function(e){return o[n.length-1]=e,r},sortValues:function(t){return e=t,r},rollup:function(e){return t=e,r}}};var n=r(29),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";function Set(){}function set(e,t){var r=new Set;if(e instanceof Set)e.each(function(e){r.add(e)});else if(e){var n=-1,i=e.length;if(null==t)for(;++n<i;)r.add(e[n]);else for(;++n<i;)r.add(t(e[n],n,e))}return r}Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=i.default.prototype;Set.prototype=set.prototype={constructor:Set,has:o.has,add:function(e){return e+="",this[n.prefix+e]=e,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each},t.default=set},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var r in e)t.push(e[r]);return t}},function(e,t,r){"use strict";function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(h*n+d*t-p*r)/(h+d-p),u=n-i,l=(f*(r-i)-s*u)/c,g=Math.sqrt(l*l+u*u)/(f*i*(1-i)),y=g?Math.atan2(l,u)*a.rad2deg-120:NaN;return new Cubehelix(y<0?y+360:y,g,i,e.opacity)}function cubehelix(e,t,r,n){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,r,null==n?1:n)}function Cubehelix(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=cubehelix,t.Cubehelix=Cubehelix;var n=r(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(30),a=r(53),u=-.14861,l=1.78277,s=-.29227,c=-.90649,f=1.97294,d=f*c,p=f*l,h=l*s-c*u;(0,i.default)(Cubehelix,cubehelix,(0,n.extend)(o.Color,{brighter:function(e){return e=null==e?o.brighter:Math.pow(o.brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o.darker:Math.pow(o.darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.deg2rad,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new o.Rgb(255*(t+r*(u*n+l*i)),255*(t+r*(s*n+c*i)),255*(t+r*(f*n)),this.opacity)}}))},function(e,t,r){"use strict";function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl){var t=e.h*a.deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var r=rgb2xyz(e.r),n=rgb2xyz(e.g),i=rgb2xyz(e.b),c=xyz2lab((.4124564*r+.3575761*n+.1804375*i)/u),f=xyz2lab((.2126729*r+.7151522*n+.072175*i)/l);return new Lab(116*f-16,500*(c-f),200*(f-xyz2lab((.0193339*r+.119192*n+.9503041*i)/s)),e.opacity)}function lab(e,t,r,n){return 1===arguments.length?labConvert(e):new Lab(e,t,r,null==n?1:n)}function Lab(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function xyz2lab(e){return e>p?Math.pow(e,1/3):e/d+c}function lab2xyz(e){return e>f?e*e*e:d*(e-c)}function xyz2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);e instanceof Lab||(e=labConvert(e));var t=Math.atan2(e.b,e.a)*a.rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,r,n){return 1===arguments.length?hclConvert(e):new Hcl(e,t,r,null==n?1:n)}function Hcl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=lab,t.Lab=Lab,t.hcl=hcl,t.Hcl=Hcl;var n=r(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(30),a=r(53),u=.95047,l=1,s=1.08883,c=4/29,f=6/29,d=3*f*f,p=f*f*f;(0,i.default)(Lab,lab,(0,n.extend)(o.Color,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=l*lab2xyz(e),t=u*lab2xyz(t),r=s*lab2xyz(r),new o.Rgb(xyz2rgb(3.2404542*t-1.5371385*e-.4985314*r),xyz2rgb(-.969266*t+1.8760108*e+.041556*r),xyz2rgb(.0556434*t-.2040259*e+1.0572252*r),this.opacity)}})),(0,i.default)(Hcl,hcl,(0,n.extend)(o.Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(e,t,r){"use strict";function cubehelix(e){return function cubehelixGamma(t){function cubehelix(r,i){var a=e((r=(0,n.cubehelix)(r)).h,(i=(0,n.cubehelix)(i)).h),u=(0,o.default)(r.s,i.s),l=(0,o.default)(r.l,i.l),s=(0,o.default)(r.opacity,i.opacity);return function(e){return r.h=a(e),r.s=u(e),r.l=l(Math.pow(e,t)),r.opacity=s(e),r+""}}return t=+t,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.cubehelixLong=void 0;var n=r(16),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=cubehelix(i.hue);t.cubehelixLong=cubehelix(o.default)},function(e,t,r){"use strict";function hcl(e){return function(t,r){var i=e((t=(0,n.hcl)(t)).h,(r=(0,n.hcl)(r)).h),a=(0,o.default)(t.c,r.c),u=(0,o.default)(t.l,r.l),l=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.c=a(e),t.l=u(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.hclLong=void 0;var n=r(16),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=hcl(i.hue);t.hclLong=hcl(o.default)},function(e,t,r){"use strict";function hsl(e){return function(t,r){var i=e((t=(0,n.hsl)(t)).h,(r=(0,n.hsl)(r)).h),a=(0,o.default)(t.s,r.s),u=(0,o.default)(t.l,r.l),l=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=u(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.hslLong=void 0;var n=r(16),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=hsl(i.hue);t.hslLong=hsl(o.default)},function(e,t,r){"use strict";function lab(e,t){var r=(0,o.default)((e=(0,n.lab)(e)).l,(t=(0,n.lab)(t)).l),i=(0,o.default)(e.a,t.a),a=(0,o.default)(e.b,t.b),u=(0,o.default)(e.opacity,t.opacity);return function(t){return e.l=r(t),e.a=i(t),e.b=a(t),e.opacity=u(t),e+""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=lab;var n=r(16),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(r){return Math.round(e+t*r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i,o,a){var u,l,s;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(s=e*r+t*i)&&(r-=e*s,i-=t*s),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,s/=l),e*i<t*r&&(e=-e,t=-t,s=-s,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*n,skewX:Math.atan(s)*n,scaleX:u,scaleY:l}};var n=180/Math.PI;t.identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}},function(e,t,r){"use strict";function interpolateTransform(e,t,r,n){function pop(e){return e.length?e.pop()+" ":""}function translate(e,n,o,a,u,l){if(e!==o||n!==a){var s=u.push("translate(",null,t,null,r);l.push({i:s-4,x:(0,i.default)(e,o)},{i:s-2,x:(0,i.default)(n,a)})}else(o||a)&&u.push("translate("+o+t+a+r)}function rotate(e,t,r,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:r.push(pop(r)+"rotate(",null,n)-2,x:(0,i.default)(e,t)})):t&&r.push(pop(r)+"rotate("+t+n)}function skewX(e,t,r,o){e!==t?o.push({i:r.push(pop(r)+"skewX(",null,n)-2,x:(0,i.default)(e,t)}):t&&r.push(pop(r)+"skewX("+t+n)}function scale(e,t,r,n,o,a){if(e!==r||t!==n){var u=o.push(pop(o)+"scale(",null,",",null,")");a.push({i:u-4,x:(0,i.default)(e,r)},{i:u-2,x:(0,i.default)(t,n)})}else 1===r&&1===n||o.push(pop(o)+"scale("+r+","+n+")")}return function(t,r){var n=[],i=[];return t=e(t),r=e(r),translate(t.translateX,t.translateY,r.translateX,r.translateY,n,i),rotate(t.rotate,r.rotate,n,i),skewX(t.skewX,r.skewX,n,i),scale(t.scaleX,t.scaleY,r.scaleX,r.scaleY,n,i),t=r=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.interpolateTransformSvg=t.interpolateTransformCss=void 0;var n=r(21),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(123);t.interpolateTransformCss=interpolateTransform(o.parseCss,"px, ","px)","deg)"),t.interpolateTransformSvg=interpolateTransform(o.parseSvg,", ",")",")")},function(e,t,r){"use strict";function parseCss(e){return"none"===e?u.identity:(n||(n=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),n.style.transform=e,e=o.getComputedStyle(i.appendChild(n),null).getPropertyValue("transform"),i.removeChild(n),e=e.slice(7,-1).split(","),(0,l.default)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?u.identity:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),(e=a.transform.baseVal.consolidate())?(e=e.matrix,(0,l.default)(e.a,e.b,e.c,e.d,e.e,e.f)):u.identity)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=parseCss,t.parseSvg=parseSvg;var n,i,o,a,u=r(121),l=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,r){"use strict";function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l=e[0],s=e[1],c=e[2],f=t[0],d=t[1],p=t[2],h=f-l,g=d-s,y=h*h+g*g;if(y<a)u=Math.log(p/c)/n,r=function(e){return[l+e*h,s+e*g,c*Math.exp(n*e*u)]};else{var _=Math.sqrt(y),v=(p*p-c*c+o*y)/(2*c*i*_),b=(p*p-c*c-o*y)/(2*p*i*_),m=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(b*b+1)-b);u=(w-m)/n,r=function(e){var t=e*u,r=cosh(m),o=c/(i*_)*(r*tanh(n*t+m)-sinh(m));return[l+o*h,s+o*g,c*r/cosh(n*t+m)]}}return r.duration=1e3*u,r};var n=Math.SQRT2,i=2,o=4,a=1e-12},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function computeNodeLinks(){u.forEach(function(e){e.sourceLinks=[],e.targetLinks=[]}),l.forEach(function(e){var t=e.source,r=e.target;"number"==typeof t&&(t=e.source=u[e.source]),"number"==typeof r&&(r=e.target=u[e.target]),t.sourceLinks.push(e),r.targetLinks.push(e)})}function computeNodeValues(){u.forEach(function(e){e.value=Math.max((0,n.sum)(e.sourceLinks,value),(0,n.sum)(e.targetLinks,value))})}function computeNodeBreadths(){for(var e,r=u,n=0;r.length;)e=[],r.forEach(function(r){r.x=n,r.dx=t,r.sourceLinks.forEach(function(t){e.indexOf(t.target)<0&&e.push(t.target)})}),r=e,++n;moveSinksRight(n),scaleNodeBreadths((a[0]-t)/(n-1))}function moveSinksRight(e){u.forEach(function(t){t.sourceLinks.length||(t.x=e-1)})}function scaleNodeBreadths(e){u.forEach(function(t){t.x*=e})}function computeNodeDepths(e){function resolveCollisions(){t.forEach(function(e){var t,n,i,o=0,u=e.length;for(e.sort(ascendingDepth),i=0;i<u;++i)t=e[i],n=o-t.y,n>0&&(t.y+=n),o=t.y+t.dy+r;if((n=o-r-a[1])>0)for(o=t.y-=n,i=u-2;i>=0;--i)t=e[i],n=t.y+t.dy+r-o,n>0&&(t.y-=n),o=t.y})}function ascendingDepth(e,t){return e.y-t.y}var t=(0,i.nest)().key(function(e){return e.x}).sortKeys(n.ascending).entries(u).map(function(e){return e.values});!function(){var e=(0,n.min)(t,function(e){return(a[1]-(e.length-1)*r)/(0,n.sum)(e,value)});t.forEach(function(t){t.forEach(function(t,r){t.y=r,t.dy=t.value*e})}),l.forEach(function(t){t.dy=t.value*e})}(),resolveCollisions();for(var o=1;e>0;--e)!function(e){function weightedTarget(e){return center(e.target)*e.value}t.slice().reverse().forEach(function(t){t.forEach(function(t){if(t.sourceLinks.length){var r=(0,n.sum)(t.sourceLinks,weightedTarget)/(0,n.sum)(t.sourceLinks,value);t.y+=(r-center(t))*e}})})}(o*=.99),resolveCollisions(),function(e){function weightedSource(e){return center(e.source)*e.value}t.forEach(function(t){t.forEach(function(t){if(t.targetLinks.length){var r=(0,n.sum)(t.targetLinks,weightedSource)/(0,n.sum)(t.targetLinks,value);t.y+=(r-center(t))*e}})})}(o),resolveCollisions()}function computeLinkDepths(){function ascendingSourceDepth(e,t){return e.source.y-t.source.y}function ascendingTargetDepth(e,t){return e.target.y-t.target.y}u.forEach(function(e){e.sourceLinks.sort(ascendingTargetDepth),e.targetLinks.sort(ascendingSourceDepth)}),u.forEach(function(e){var t=0,r=0;e.sourceLinks.forEach(function(e){e.sy=t,t+=e.dy}),e.targetLinks.forEach(function(e){e.ty=r,r+=e.dy})})}function center(e){return e.y+e.dy/2}function value(e){return e.value}var e={},t=24,r=8,a=[1,1],u=[],l=[];return e.nodeWidth=function(r){return arguments.length?(t=+r,e):t},e.nodePadding=function(t){return arguments.length?(r=+t,e):r},e.nodes=function(t){return arguments.length?(u=t,e):u},e.links=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(a=t,e):a},e.layout=function(t){return computeNodeLinks(),computeNodeValues(),computeNodeBreadths(),computeNodeDepths(t),computeLinkDepths(),e},e.relayout=function(){return computeLinkDepths(),e},e.link=function(){function link(t){var r=t.source.x+t.source.dx,n=t.target.x,i=(0,o.interpolateNumber)(r,n),a=i(e),u=i(1-e),l=t.source.y+t.sy+t.dy/2,s=t.target.y+t.ty+t.dy/2;return"M"+r+","+l+"C"+a+","+l+" "+u+","+s+" "+n+","+s}var e=.5;return link.curvature=function(t){return arguments.length?(e=+t,link):e},link},e};var n=r(0),i=r(165),o=r(166)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function Refresh(e){_classCallCheck(this,Refresh);var t=_possibleConstructorReturn(this,(Refresh.__proto__||Object.getPrototypeOf(Refresh)).call(this,e));return t._deny=!1,t}return _inherits(Refresh,e),n(Refresh,[{key:"_execute",value:function(e,t){var r=this._registrar.config;r&&r.trigger("change",r)}}]),Refresh}(o.default);t.default=a},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function ToggleFreeze(e){_classCallCheck(this,ToggleFreeze);var t=_possibleConstructorReturn(this,(ToggleFreeze.__proto__||Object.getPrototypeOf(ToggleFreeze)).call(this,e));return t._deny=!1,t}return _inherits(ToggleFreeze,e),n(ToggleFreeze,[{key:"_execute",value:function(e){this._registrar.config&&this._registrar.config.set("frozen",e)}}]),ToggleFreeze}(o.default);t.default=a},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(2),g=_interopRequireDefault(h),y=r(62),_=_interopRequireDefault(y),v=r(5),b=_interopRequireDefault(v),m=r(4),w=_interopRequireDefault(m);r(167);var k=function(e){function AreaView(){return _classCallCheck(this,AreaView),_possibleConstructorReturn(this,(AreaView.__proto__||Object.getPrototypeOf(AreaView)).apply(this,arguments))}return _inherits(AreaView,e),i(AreaView,[{key:"getScreenX",value:function(e){return this.config.xScale(u.default.get(e,this.config.get("x.accessor")))}},{key:"getScreenY",value:function(e,t){var r=u.default.groupBy(this.config.yAccessors,"stack"),n=u.default.find(this.config.yAccessors,function(e){return e.accessor===t}).stack,i=0;return u.default.takeWhile(r[n],function(r){return i+=u.default.get(e,r.accessor)||0,r.accessor!==t}),this.config.yScale(i)}},{key:"calculateScales",value:function(){this.config.set("x.range",[this.padding.left,this.innerWidth-this.padding.right],{silent:!0}),this.config.set("y.range",[this.innerHeight-this.padding.bottom,this.padding.top],{silent:!0}),this.config.calculateScales(this.model)}},{key:"render",value:function(){var e=this;o(AreaView.prototype.__proto__||Object.getPrototypeOf(AreaView.prototype),"render",this).call(this),this.calculateScales();var t=this.model.data,r=this.config.get("x.accessor"),n=f.area().x(function(t){return e.config.xScale(u.default.get(t.data,r))}).y0(function(t){return e.config.yScale(t[1])}).y1(function(t){return e.config.yScale(t[0])}).curve(this.config.get("curve")),i=u.default.groupBy(this.config.yAccessors,"stack");u.default.each(i,function(r,i){var o=f.stack().offset(f.stackOffsetNone).keys(u.default.map(r,"accessor")).value(function(e,t){return u.default.get(e,t)}),a=e.d3.selectAll(e.selectors.node+"-"+i).data(o(t));a.exit().remove(),a.enter().append("path").attr("class",function(t){return e.selectorClass("node")+" "+e.selectorClass("node")+"-"+t.key+" "+e.selectorClass("node")+"-"+i}).merge(a).transition().ease(p.easeLinear).duration(e.config.get("duration")).attr("fill",function(t){return e.config.getColor(t.key)}).attr("d",n)});var a=u.default.reduce(u.default.keys(i),function(t,r){return t?t+", "+e.selectors.node+"-"+r:e.selectors.node+"-"+r},""),l=a?this.el.querySelectorAll(a):[],s=u.default.difference(this.el.querySelectorAll(this.selectors.node),l);u.default.each(s,function(e){return e.remove()}),this._ticking=!1}},{key:"_onMousemove",value:function(e,t){if(this.config.yAccessors[e.index].tooltip){var r=s.mouse(this._container),i=n(r,2),o=i[0],a=i[1],u=this.config.get("x.accessor"),l=this.config.xScale.invert(o),c=this.model.getNearest(u,l),f={left:o,top:a,container:this._container};w.default.fire("ToggleVisibility",e.tooltip,!0,c,f)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(e,t){var r=e&&e.accessor?e.accessor.tooltip:u.default.map(this.config.yAccessors,function(e){return e.tooltip});u.default.isEmpty(r)||w.default.fire("ToggleVisibility",r,!1),(t?s.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 2}},{key:"selectors",get:function(){return u.default.extend(o(AreaView.prototype.__proto__||Object.getPrototypeOf(AreaView.prototype),"selectors",this),{node:".area"})}},{key:"events",get:function(){return{"mousemove node":"_onMousemove","mouseout node":"_onMouseout"}}}],[{key:"Config",get:function(){return _.default}},{key:"Model",get:function(){return b.default}}]),AreaView}(g.default);t.default=k},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(2),d=_interopRequireDefault(f),p=r(35),h=_interopRequireDefault(p);r(168);var g=function(e){function AxisView(){var e;_classCallCheck(this,AxisView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=AxisView.__proto__||Object.getPrototypeOf(AxisView)).call.apply(e,[this].concat(r)));return i.render(),i}return _inherits(AxisView,e),i(AxisView,null,[{key:"Config",get:function(){return h.default}}]),i(AxisView,[{key:"render",value:function(){if(this.config.scale){n(AxisView.prototype.__proto__||Object.getPrototypeOf(AxisView.prototype),"render",this).call(this);var e=this.config.get("margin");this.d3.attr("transform","translate("+e.left+", "+e.top+")").classed(this.config.name,!0);var t="horizontal"===this.config.direction;this._plotLength=t?this.innerWidth:this.innerHeight,this._tickLength=t?this.innerHeight:this.innerWidth,this._d3Axis=l[a.default.camelCase("axis-"+this.config.position)](this.config.scale).ticks(this.config.get("ticks")).tickSize(this._tickLength*this.config.side).tickPadding(10),this.config.formatter&&this._d3Axis.tickFormat(this.config.formatter),this.config.tickCoords&&this._d3Axis.tickValues(this.config.tickValues),this.d3.transition().ease(c.easeLinear).duration(this.config.duration),this.d3.call(this._d3Axis),this._renderLabel(),this._ticking=!1}}},{key:"_renderLabel",value:function(){var e=this,t={along:this._plotLength/2,across:this._tickLength*+("end"===this.config.location)+this.config.margin[this.config.position]*this.config.side},r=this.d3.selectAll(this.selectors.label).data(this.config.labels);r.enter().append("text").attr("class",this.selectorClass("label")).text(function(e){return e}).merge(r).style("dominant-baseline",this.config.isHorizontal?"text-after-edge":"text-before-edge").attr("transform",function(r,n){var i=t.across+n*e.config.margin.label*-e.config.side,o=e.config.isHorizontal?[t.along,i]:[i,t.along];return"translate("+o[0]+", "+o[1]+")\n          rotate("+90*e.config.side*+!e.config.isHorizontal+")"}),r.exit().remove()}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 0}},{key:"selectors",get:function(){return a.default.extend(n(AxisView.prototype.__proto__||Object.getPrototypeOf(AxisView.prototype),"selectors",this),{node:".axis",label:".axis-label",tick:".tick"})}}]),AxisView}(d.default);t.default=g},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(2),g=_interopRequireDefault(h),y=r(64),_=_interopRequireDefault(y),v=r(4),b=_interopRequireDefault(v),m=r(11),w=_interopRequireDefault(m),k=r(37),C=_interopRequireDefault(k),O=r(24),P=r(131),R=_interopRequireDefault(P);r(170);var M=function(e){function BucketView(){return _classCallCheck(this,BucketView),_possibleConstructorReturn(this,(BucketView.__proto__||Object.getPrototypeOf(BucketView)).apply(this,arguments))}return _inherits(BucketView,e),i(BucketView,[{key:"render",value:function(){this.el.parentElement||(o(BucketView.prototype.__proto__||Object.getPrototypeOf(BucketView.prototype),"render",this).call(this),this.svg.delegate("click","svg",this._onBackgroundClick.bind(this)),this.d3.attr("clip-path","url(#"+this.config.get("clip")+")"));var e=this._cluster(this.model.data),t=this.d3.selectAll(this.selectors.node).data(e,function(e){return e.id}),r=this.config.get("shape"),n=this.config.get("color"),i=this.config.scale,a=t.enter().append("g").classed(this.selectorClass("node"),!0).classed(this.selectorClass("interactive"),!0).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});a.append("text").html(r).attr("fill",n).style("font-size",function(e){return Math.sqrt(i(e.area))}),a.append("text").attr("class",this.selectorClass("label")).text(function(e){return e.bucket.length}),t.transition().ease(p.easeLinear).duration(this.config.duration).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),t.exit().remove(),this._ticking=!1}},{key:"_cluster",value:function(e){var t=this,r=new R.default;r.x(function(e){return e.x}).y(function(e){return e.y}).data(e);var n=r.buckets();return u.default.each(n,function(e){e.id=t._getId(e),e.area=t._getSize(e)}),this.config.scale.domain(s.extent(n,function(e){return e.area})),b.default.fire("Cluster",this.config.get("update"),r.overlapping()),n}},{key:"_getId",value:function(e){var t=u.default.reduce(e.bucket,function(e,t){return e+=t.id},"");return(0,O.hashCode)(t)}},{key:"_getSize",value:function(e){return u.default.reduce(e.bucket,function(e,t){return e+=t.area},0)}},{key:"_onMouseover",value:function(e,t,r){var i=this.config.get("tooltip");if(i){var o=f.mouse(this._container),a=n(o,2),u=a[0],l=a[1],s={left:u,top:l,container:this._container};b.default.fire("ToggleVisibility",i,!0,e.bucket,s)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(e,t){var r=this.config.get("tooltip");r&&b.default.fire("ToggleVisibility",r,!1),(t?this.d3.select(function(){return t}):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"_onClickNode",value:function(e,t,r){r.stopPropagation(),this._onMouseout(e,t);var n={};(0,u.default)(e.bucket).map("accessor.accessor").uniq().push(this.config.get("xAccessor")).each(function(t){n[t]=s.extent(u.default.map(e.bucket,"data."+t))}),b.default.fire("Zoom",this.config.get("update"),n)}},{key:"_onBackgroundClick",value:function(){b.default.fire("Zoom",this.config.get("update"))}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 2}},{key:"selectors",get:function(){return u.default.extend(o(BucketView.prototype.__proto__||Object.getPrototypeOf(BucketView.prototype),"selectors",this),{node:".bucket",active:".active",label:".bucket-label"})}},{key:"events",get:function(){return u.default.extend(o(BucketView.prototype.__proto__||Object.getPrototypeOf(BucketView.prototype),"events",this),{"click node":"_onClickNode","mouseover node":"_onMouseover","mouseout node":"_onMouseout"})}}],[{key:"Config",get:function(){return _.default}},{key:"isMaster",get:function(){return!1}},{key:"Actions",get:function(){return{ToggleVisibility:w.default,ClusterAction:C.default}}}]),BucketView}(g.default);t.default=M},function(e,t,r){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(!function(){var e=new Error('Cannot find module "d3-quadtree"');throw e.code="MODULE_NOT_FOUND",e}()),u=r(0),l=function(){function Cluster(){_classCallCheck(this,Cluster)}return n(Cluster,[{key:"x",value:function(e){return this._getX=e,this}},{key:"y",value:function(e){return this._getY=e,this}},{key:"data",value:function(e){return this._overlapping=void 0,this._buckets=void 0,this._data=e,this._quadtree=(0,a.quadtree)().x(this._getX).y(this._getY).addAll(e),this._maxW=(0,u.max)(e,function(e){return e.halfWidth}),this._maxH=(0,u.max)(e,function(e){return e.halfHeight}),this}},{key:"overlapping",value:function(){var e=this;return this._overlapping?this._overlapping:(this._overlapping=[],o.default.each(this._data,function(t){t.overlap=e._collisionDetection(t)}),o.default.each(this._data,function(t){t.overlap&&o.default.each(t.overlap,function(t){t.overlap&&!e._overlapping.includes(t)&&e._overlapping.push(t)})}),this._overlapping)}},{key:"buckets",value:function(){if(this._buckets)return this._buckets;if(this._buckets=[],o.default.isEmpty(this.overlapping()))return[];var e=o.default.sortBy(this.overlapping(),function(e){return e.overlap.length});do{var t=e.pop(),r=o.default.filter(t.overlap,function(t){var r=e.indexOf(t);if(!(r<0))return e.splice(r,1)[0]});r.length&&this._buckets.push({x:t.x,y:t.y,bucket:[t].concat(_toConsumableArray(r))})}while(e.length);return this._buckets}},{key:"_collisionDetection",value:function(e){var t=this,r=e.x-e.halfWidth,n=e.y-e.halfHeight,i=e.x+e.halfWidth,o=e.y+e.halfHeight,a=[];return this._quadtree.visit(function(u,l,s,c,f){if(!u.length)do{var d=u.data;d.x+d.halfWidth>=r&&d.x-d.halfWidth<i&&d.y+d.halfHeight>=n&&d.y-d.halfHeight<o&&d!==e&&a.push(d),u=u.next}while(u);return l-t._maxW>=i||s-t._maxH>=o||c+t._maxW<r||f+t._maxH<n}),!!a.length&&a}}]),Cluster}();t.default=l},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(2),l=_interopRequireDefault(u),s=r(65),c=_interopRequireDefault(s),f=r(4),d=_interopRequireDefault(f),p=r(11),h=_interopRequireDefault(p),g=r(195),y=_interopRequireDefault(g);r(171);var _=function(e){function ColorPickerView(){return _classCallCheck(this,ColorPickerView),_possibleConstructorReturn(this,(ColorPickerView.__proto__||Object.getPrototypeOf(ColorPickerView)).apply(this,arguments))}return _inherits(ColorPickerView,e),n(ColorPickerView,[{key:"render",value:function(){var e=this.config.get("template")||y.default,t=e(this.config.data);i(ColorPickerView.prototype.__proto__||Object.getPrototypeOf(ColorPickerView.prototype),"render",this).call(this,t),this.d3.classed("hide",this.config.get("embedded")&&!this._visible)}},{key:"open",value:function(e,t){var r=this.$(t),n=r.find(".label").html();this._accessor=r.data("accessor");var i=this.$(this.selectors.palette),o=r.position();o.left+=r.outerWidth(!0),i.css(o),i.find(this.selectors.title).html(n),i.removeClass("hide")}},{key:"close",value:function(){this.d3.select(this.selectors.palette).classed("hide",!0)}},{key:"_onSelectColor",value:function(e,t){var r=t.style["background-color"];d.default.fire("SelectColor",this._accessor,r)}},{key:"selectors",get:function(){return a.default.extend(i(ColorPickerView.prototype.__proto__||Object.getPrototypeOf(ColorPickerView.prototype),"selectors",this),{open:".color-select",close:".color-picker-palette-close",title:".color-picker-palette-title",palette:".color-picker-palette",colorSelector:".color-picker-palette-color"})}},{key:"events",get:function(){return{"click open":"open","click close":"close","click colorSelector":"_onSelectColor"}}}],[{key:"Config",get:function(){return c.default}},{key:"Actions",get:function(){return{ToggleVisibility:h.default}}}]),ColorPickerView}(l.default);t.default=_},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(2),c=_interopRequireDefault(s),f=r(66),d=_interopRequireDefault(f),p=r(4),h=_interopRequireDefault(p),g=r(34),y=_interopRequireDefault(g),_=r(197),v=_interopRequireDefault(_),b=r(198),m=_interopRequireDefault(b),w=r(196),k=_interopRequireDefault(w);r(172);var C=function(e){function ControlPanelView(){var e;_classCallCheck(this,ControlPanelView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=_possibleConstructorReturn(this,(e=ControlPanelView.__proto__||Object.getPrototypeOf(ControlPanelView)).call.apply(e,[this].concat(r)));return i(ControlPanelView.prototype.__proto__||Object.getPrototypeOf(ControlPanelView.prototype),"render",o).call(o,(0,v.default)()),o._opened=!1,o.render(),o}return _inherits(ControlPanelView,e),n(ControlPanelView,null,[{key:"Config",get:function(){return d.default}},{key:"Actions",get:function(){return{ToggleHalt:y.default}}}]),n(ControlPanelView,[{key:"render",value:function(){var e=this,t=a.default.map(this.config.get("menu"),function(t){return a.default.extend({},e.config.menuItems[t.id],t)}),r=this.d3.select(this.selectors.menuItems),n=r.selectAll(this.selectors.menuItem).data(t,function(e){return e.id}).classed("disabled",function(e){return e.disabled});n.enter().append("div").classed(this.selectorClass("menuItem"),!0).classed("disabled",function(e){return e.disabled}).html(function(e){return(0,k.default)(e)}),n.exit().remove()}},{key:"setHalt",value:function(e){this.config.set("halted",e)}},{key:"addMenuItem",value:function(e){this.config.set(this.config.get("menu").push(e))}},{key:"removeMenuItem",value:function(e){this.el.querySelector('[data-id="'+e+'"]').remove()}},{key:"enableMenuItem",value:function(e){}},{key:"disableMenuItem",value:function(e){}},{key:"open",value:function(e){var t=this.el.querySelector(this.selectors.panel);t.innerHTML=(0,m.default)(e);var r=t.querySelector(this.selectors.container);t.classList.toggle("hide"),h.default.fire("ToggleVisibility",e.component,!this._opened,null,{container:r}),this._opened=!this._opened}},{key:"_onMenuItemClick",value:function(e,t){l.event.stopPropagation();var r=void 0;e.component?this.open(e):(r=e.action?e.action:e.id,h.default.fire(r,this.config.update,e.toggle,e.attribute))}},{key:"selectors",get:function(){return a.default.extend({},i(ControlPanelView.prototype.__proto__||Object.getPrototypeOf(ControlPanelView.prototype),"selectors",this),{panel:".panel",menuItem:".control-panel-item",menuItems:".control-panel-items",container:".control-panel-expanded-container"})}},{key:"events",get:function(){return{"click menuItem":"_onMenuItemClick"}}}]),ControlPanelView}(c.default);t.default=C},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(2),d=_interopRequireDefault(f),p=r(67),h=_interopRequireDefault(p),g=r(4),y=_interopRequireDefault(g),_=r(11),v=_interopRequireDefault(_);r(173);var b=function(e){function CrosshairView(){return _classCallCheck(this,CrosshairView),_possibleConstructorReturn(this,(CrosshairView.__proto__||Object.getPrototypeOf(CrosshairView)).apply(this,arguments))}return _inherits(CrosshairView,e),n(CrosshairView,[{key:"render",value:function(){var e=this;i(CrosshairView.prototype.__proto__||Object.getPrototypeOf(CrosshairView.prototype),"render",this).call(this);var t=this.model.data;if("full"===this.config.get("lines")){var r=a.default.map(t.labels,function(r){return{id:r.position,x1:t.dataPoint[0],x2:t.dataPoint[0],y1:e.innerHeight,y2:0,label:r.value}}),n=this.config.get("margin"),o=this.d3.selectAll(this.selectors.node).data(r),u=o.enter().append("g").attr("class",this.selectorClass("node"));u.attr("transform",function(e){return"translate("+e.x1+", "+e.y2+")"}).merge(o).transition().ease(c.easeLinear).duration(this.config.get("duration")).attr("transform",function(e){return"translate("+e.x1+", "+e.y2+")"}),u.append("line").attr("class",this.selectorClass("line")).attr("x1",0).attr("x2",0),u.append("text").attr("class",this.selectorClass("text"));var s=u.merge(o);s.select(this.selectors.line).attr("y1",function(e){return e.y1}).attr("y2",function(e){return e.y2}),s.select(this.selectors.text).attr("y",function(e){return e.y1+n.label/2}).text(function(e){return e.label}),s.each(function(r,n,i){var o=l.select(i[n]).selectAll(e.selectors.bubble).data(t.points,function(e){return e.id});o.enter().append("circle").classed(e.selectorClass("bubble"),!0).attr("cx",0).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}).attr("r",0).merge(o).transition().ease(c.easeLinear).duration(e.config.get("duration")).attr("cy",function(e){return e.y}).attr("r",e.config.get("bubbleR")),o.exit().remove()});var f={left:this.svgOffset.left+n.left+t.dataPoint[0],top:this.svgOffset.top+n.top+t.dataPoint[1],placement:"horizontal"};y.default.fire("ToggleVisibility",this.config.get("tooltip"),!0,t.item,f)}}},{key:"hide",value:function(){i(CrosshairView.prototype.__proto__||Object.getPrototypeOf(CrosshairView.prototype),"hide",this).call(this),y.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"_onResize",value:function(){}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 9}},{key:"selectors",get:function(){return a.default.extend(i(CrosshairView.prototype.__proto__||Object.getPrototypeOf(CrosshairView.prototype),"selectors",this),{node:".crosshair-node",line:".line",text:".text",bubble:".bubble"})}}],[{key:"Config",get:function(){return h.default}},{key:"Actions",get:function(){return{ToggleVisibility:v.default}}},{key:"isMaster",get:function(){return!1}}]),CrosshairView}(d.default);t.default=b},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(3),u=_interopRequireDefault(a),l=function(e){function FilterConfigModel(){return _classCallCheck(this,FilterConfigModel),_possibleConstructorReturn(this,(FilterConfigModel.__proto__||Object.getPrototypeOf(FilterConfigModel)).apply(this,arguments))}return _inherits(FilterConfigModel,e),n(FilterConfigModel,[{key:"data",get:function(){var e=this,t=this._parent.getAccessors();return o.default.map(t,function(t){return{key:t.accessor,label:e.getLabel(void 0,t),enabled:t.enabled}})}}]),FilterConfigModel}(u.default);t.default=l},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(2),c=_interopRequireDefault(s),f=r(5),d=_interopRequireDefault(f),p=r(4),h=_interopRequireDefault(p),g=r(199),y=_interopRequireDefault(g);r(174);var _=function(e){function FilterView(){return _classCallCheck(this,FilterView),_possibleConstructorReturn(this,(FilterView.__proto__||Object.getPrototypeOf(FilterView)).apply(this,arguments))}return _inherits(FilterView,e),n(FilterView,[{key:"render",value:function(){var e=this.config.get("template")||y.default,t=e(this.config.data);i(FilterView.prototype.__proto__||Object.getPrototypeOf(FilterView.prototype),"render",this).call(this,t),this.d3.classed("hide",this.config.get("embedded")&&!this._visible)}},{key:"_onItemClick",value:function(e,t){l.event.stopPropagation();var r=t.value,n=t.checked;h.default.fire("SelectKey",r,n)}},{key:"selectors",get:function(){return a.default.extend({},i(FilterView.prototype.__proto__||Object.getPrototypeOf(FilterView.prototype),"selectors",this),{item:".filter-item-input"})}},{key:"events",get:function(){return{"change item":"_onItemClick"}}}],[{key:"Model",get:function(){return d.default}}]),FilterView}(c.default);t.default=_},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(0),g=_interopRequireWildcard(h),y=r(2),_=_interopRequireDefault(y),v=r(68),b=_interopRequireDefault(v),m=r(5),w=_interopRequireDefault(m),k=r(4),C=_interopRequireDefault(k);r(175);var O=function(e){function GroupedBarView(){return _classCallCheck(this,GroupedBarView),_possibleConstructorReturn(this,(GroupedBarView.__proto__||Object.getPrototypeOf(GroupedBarView)).apply(this,arguments))}return _inherits(GroupedBarView,e),i(GroupedBarView,[{key:"getScreenX",value:function(e,t){var r=this,n=0;return u.default.each(this.config.yAccessors,function(e,i){e.accessor===t&&(n=r._innerBandScale(i)+r._innerBandScale.bandwidth()/2)}),this.config.xScale(u.default.get(e,this.config.get("x.accessor")))+n}},{key:"getScreenY",value:function(e,t){return this.config.yScale(u.default.get(e,t))}},{key:"calculateScales",value:function(){this.config.set("x.range",[this.padding.left,this.innerWidth-this.padding.right],{silent:!0}),this.config.set("y.range",[this.innerHeight-this.padding.bottom,this.padding.top],{silent:!0}),this.config.calculateScales(this.model)}},{key:"render",value:function(){o(GroupedBarView.prototype.__proto__||Object.getPrototypeOf(GroupedBarView.prototype),"render",this).call(this),this._onMouseout(),this.config.get("frozen")||this.calculateScales();var e=u.default.keys(this.config.yAccessors).length,t=this.bandWidth/2;this._innerBandScale=s.scaleBand().domain(f.range(e)).range([-t,t]).paddingInner(.05).paddingOuter(.05);var r=this.d3.selectAll(this.selectors.node).data(this._prepareData(),function(e){return e.id});r.enter().append("rect").attr("class",function(e){return"bar"}).attr("x",function(e){return e.x}).attr("y",this.config.yScale.range()[0]).attr("height",0).attr("width",function(e){return e.w}).merge(r).transition().ease(g.easeLinear).duration(this.config.get("duration")).attr("fill",function(e){return e.color}).attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("height",function(e){return e.h}).attr("width",function(e){return e.w}),r.exit().remove(),this._ticking=!1}},{key:"_prepareData",value:function(){var e=this,t=[],r=this.config.yScale.domain()[0],n=this._innerBandScale.bandwidth();return u.default.each(this.model.data,function(i){var o=u.default.get(i,e.config.get("x.accessor"));u.default.each(e.config.yAccessors,function(a,l){var s=a.accessor,c={id:o+"-"+s,x:e.config.xScale(o)+e._innerBandScale(l),y:e.config.yScale(u.default.get(i,s)),h:e.config.yScale(r)-e.config.yScale(u.default.get(i,s)),w:n,color:e.config.getColor(a.accessor,i),accessor:a,data:i};t.push(c)})}),t}},{key:"_onMousemove",value:function(e,t,r){if(e.accessor.tooltip){var i=p.mouse(this._container),o=n(i,2),a=o[0],u=o[1],l={left:a,top:u,container:this._container};C.default.fire("ToggleVisibility",e.accessor.tooltip,!0,e.data,l)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(e,t){var r=e&&e.accessor?e.accessor.tooltip:u.default.map(this.config.yAccessors,function(e){return e.tooltip});u.default.isEmpty(r)||C.default.fire("ToggleVisibility",r,!1),(t?p.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 1}},{key:"selectors",get:function(){return u.default.extend(o(GroupedBarView.prototype.__proto__||Object.getPrototypeOf(GroupedBarView.prototype),"selectors",this),{node:".bar"})}},{key:"events",get:function(){return{"mousemove node":"_onMousemove","mouseout node":"_onMouseout"}}},{key:"bandWidth",get:function(){var e=this.model.data;if(u.default.isEmpty(e))return 0;var t=1-this.config.get("barPadding")/100;return this.config.getOuterWidth(this.model,this.innerWidth)/e.length*t}},{key:"padding",get:function(){var e=this.model.data.length<2?0:this.bandWidth/2;return u.default.defaultsDeep({left:e,right:e},this.config.padding)}}],[{key:"Config",get:function(){return b.default}},{key:"Model",get:function(){return w.default}}]),GroupedBarView}(_.default);t.default=O},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(92),a=_interopRequireDefault(o),u=r(1),l=_interopRequireDefault(u),s=r(!function(){var e=new Error('Cannot find module "d3-color"');throw e.code="MODULE_NOT_FOUND",e}()),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),f=r(2),d=_interopRequireDefault(f),p=r(69),h=_interopRequireDefault(p),g=r(4),y=_interopRequireDefault(g),_=r(11),v=_interopRequireDefault(_),b=r(200),m=_interopRequireDefault(b);r(176);var w={DEFAULT:"default",EDIT:"edit"},k={GroupedBar:"icon-charttype-bar",StackedBar:"icon-charttype-stacked",Line:"icon-charttype-line",Area:"icon-charttype-area",Pie:"icon-charttype-pie"},C=function(e){function LegendPanelView(e){_classCallCheck(this,LegendPanelView);var t=_possibleConstructorReturn(this,(LegendPanelView.__proto__||Object.getPrototypeOf(LegendPanelView)).call(this,e));return t._state=w.DEFAULT,t}return _inherits(LegendPanelView,e),i(LegendPanelView,null,[{key:"Config",get:function(){return h.default}},{key:"Actions",get:function(){return{ToggleVisibility:v.default}}},{key:"isMaster",get:function(){return!1}}]),i(LegendPanelView,[{key:"render",value:function(){var e=this.config.get("template")||m.default,t=this._prepareData(),r=e(t);n(LegendPanelView.prototype.__proto__||Object.getPrototypeOf(LegendPanelView.prototype),"render",this).call(this,r),this.config.attributes.filter&&1!==t.keys.length||this.d3.selectAll(this.selectors.key).classed("disabled",!0).select("input").property("disabled",!0),this.d3.classed("vertical","vertical"===this.config.keys.placement),this.d3.selectAll(this.selectors.axis).classed("active",t.axesCount>1),this._state===w.EDIT&&this._setEditState()}},{key:"_prepareData",value:function(){var e=this,t=[],r=l.default.keys(l.default.groupBy(this.model.data,"axis")).length;l.default.each(this.config.get("chartTypes"),function(e,r){t=t.concat(l.default.map(e,function(e){return{axisLabel:r,chartType:e,icon:k[e]}}))});var n={colors:this.config.get("colorScheme"),chartTypes:t,editable:this.config.get("editable.color")||this.config.get("editable.chart")};return n.keys=l.default.map(this.model.data,function(t){return l.default.extend(t,{axis:r>1?t.axis:void 0,icon:k[t.chartType],checked:e.config.get("filter")&&!t.disabled})}),n}},{key:"_toggleKey",value:function(e,t){var r=(0,a.default)(t).parents(".key").data("key"),n=t.querySelector("input").checked;y.default.fire("SelectKey",r,n)}},{key:"_setEditState",value:function(){var e=this;this.$(".key").toggleClass("edit"),this.d3.selectAll(".selector").classed("active",!1),this.d3.select("switches-colors").classed("hide",!this.config.get("editable.color")),this.d3.select("switches-charts").classed("hide",!this.config.get("editable.chart")),l.default.each(this.el.querySelectorAll(this.selectors.key+" > input"),function(t){t.disabled=e._state!==w.DEFAULT})}},{key:"_toggleEditMode",value:function(e,t){this._state=this._state===w.DEFAULT?w.EDIT:w.DEFAULT,this.el.classList.toggle("edit-mode"),this._setEditState()}},{key:"_addChartTypes",value:function(e){this.d3.selectAll(this.selectors.chartTypeSwitch).classed("hide",!0).filter(function(t,r,n){return n[r].dataset.axis===e}).classed("hide",!1)}},{key:"_toggleSelector",value:function(e,t){this._key=(0,a.default)(t).parents(".key").data("key");var r=t.classList.contains("select--chart")?"chart":"color",n=this.d3.select(".selector");if(n.classed("active",!(n.classed("active")&&n.classed("select--"+r))).classed("select--color","color"===r).classed("select--chart","chart"===r),n.selectAll(".switch").classed("selected",!1),"color"===r){var i=c.color(t.dataset.color);n.selectAll(this.selectors.colorSwitch).filter(function(e,t,r){return c.color(r[t].dataset.color).toString()===i.toString()}).classed("selected",!0)}if("chart"===r){var o=l.default.find(this._prepareData().keys,{key:this._key});this._addChartTypes(o.axis);var u=t.dataset.chartType;n.selectAll(this.selectors.chartTypeSwitch).filter(function(e,t,r){return r[t].dataset.chartType===u}).classed("selected",!0)}var s=(0,a.default)(t).position();s.top+=(0,a.default)(t).outerHeight()+1,n.style("top",s.top+"px").style("left",s.left+"px")}},{key:"_selectColor",value:function(e,t){var r=window.getComputedStyle(t).backgroundColor;y.default.fire("SelectColor",this._key,r)}},{key:"_selectChartType",value:function(e,t){var r=t.dataset.chartType;y.default.fire("SelectChartType",this._key,r)}},{key:"selectors",get:function(){return l.default.extend({},n(LegendPanelView.prototype.__proto__||Object.getPrototypeOf(LegendPanelView.prototype),"selectors",this),{key:".legend-key",mode:".edit-legend",select:".select",colorSwitch:".switch--color",chartTypeSwitch:".switch--chart",axis:".axis"})}},{key:"events",get:function(){return{"change key":"_toggleKey","click mode":"_toggleEditMode","click select":"_toggleSelector","click colorSwitch":"_selectColor","click chartTypeSwitch":"_selectChartType"}}}]),LegendPanelView}(d.default);t.default=C},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(2),a=_interopRequireDefault(o),u=r(70),l=_interopRequireDefault(u),s=r(11),c=_interopRequireDefault(s),f=r(201),d=_interopRequireDefault(f);r(177);var p=function(e){function LegendView(){return _classCallCheck(this,LegendView),_possibleConstructorReturn(this,(LegendView.__proto__||Object.getPrototypeOf(LegendView)).apply(this,arguments))}return _inherits(LegendView,e),n(LegendView,[{key:"render",value:function(){var e=this.config.get("template")||d.default,t=e(this.model.data);i(LegendView.prototype.__proto__||Object.getPrototypeOf(LegendView.prototype),"render",this).call(this,t)}}],[{key:"Config",get:function(){return l.default}},{key:"Actions",get:function(){return{ToggleVisibility:c.default}}},{key:"isMaster",get:function(){return!1}}]),LegendView}(a.default);t.default=p},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c);r(!function(){var e=new Error('Cannot find module "d3-transition"');throw e.code="MODULE_NOT_FOUND",e}());var d=r(0),p=_interopRequireWildcard(d),h=r(0),g=_interopRequireWildcard(h),y=r(0),_=_interopRequireWildcard(y),v=r(90),b=r(2),m=_interopRequireDefault(b),w=r(71),k=_interopRequireDefault(w),C=r(5),O=_interopRequireDefault(C),P=r(4),R=_interopRequireDefault(P);r(178);var M=function(e){function LineView(){return _classCallCheck(this,LineView),_possibleConstructorReturn(this,(LineView.__proto__||Object.getPrototypeOf(LineView)).apply(this,arguments))}return _inherits(LineView,e),i(LineView,[{key:"getScreenX",value:function(e){return this.config.xScale(u.default.get(e,this.config.get("x.accessor")))}},{key:"getScreenY",value:function(e,t){return this.config.yScale(u.default.get(e,t))}},{key:"calculateScales",value:function(){this.config.set("x.range",[this.padding.left,this.plotWidth-this.padding.right],{silent:!0}),this.config.set("y.range",[this.plotHeight-this.padding.bottom,this.padding.top],{silent:!0}),this.config.calculateScales(this.model)}},{key:"render",value:function(){var e=this;o(LineView.prototype.__proto__||Object.getPrototypeOf(LineView.prototype),"render",this).call(this),this.config.get("frozen")||this.calculateScales();var t=this.model.data,r=this.config.get("x.accessor"),n=this.config.get("y"),i=n.accessor;this._line=p.line().x(function(t){return e.config.xScale(u.default.get(t,r))}).y(function(t){return e.config.yScale(u.default.get(t,i))}).curve(this.config.get("curve"));var a=this.d3.selectAll(this.selectors.node).data(u.default.isEmpty(t)?[]:[n],function(e){return e.accessor});a.enter().append("path").attr("class","line line-"+i).attr("d",this._line(t[0]||0)).transition().ease(g.easeLinear).duration(this.config.get("duration")).attrTween("d",this._interpolate.bind(this,t,i)).attr("stroke",this.config.getColor()),a.transition().ease(g.easeLinear).duration(this.config.get("duration")).attrTween("d",function(r,n,i){var o=i[n].getAttribute("d"),a=e._line(t);return(0,v.interpolatePath)(o,a)}).attr("stroke",this.config.getColor()),a.exit().remove(),this._ticking=!1}},{key:"_interpolate",value:function(e,t){var r=this,n=_.scaleQuantile().domain([0,1]).range(s.range(1,e.length+1));return function(t){var i=e.slice(0,n(t));return r._line(i)}}},{key:"_onMouseover",value:function(e,t){if(e.tooltip){var r=f.mouse(this._container),i=n(r,2),o=i[0],a=i[1],u=this.config.get("x.accessor"),l=this.config.xScale.invert(o),s=this.model.getNearest(u,l),c={left:o,top:a,container:this._container};R.default.fire("ToggleVisibility",e.tooltip,!0,s,c)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=e.tooltip||this.config.get("y.tooltip");u.default.isEmpty(r)||R.default.fire("ToggleVisibility",r,!1),(t?f.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 3}},{key:"selectors",get:function(){return u.default.extend(o(LineView.prototype.__proto__||Object.getPrototypeOf(LineView.prototype),"selectors",this),{node:".line"})}},{key:"events",get:function(){return{"mouseover node":"_onMouseover","mouseout node":"_onMouseout"}}}],[{key:"Config",get:function(){return k.default}},{key:"Model",get:function(){return O.default}}]),LineView}(m.default);t.default=M},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(2),l=_interopRequireDefault(u),s=r(143),c=_interopRequireDefault(s),f=r(142),d=_interopRequireDefault(f),p=r(202),h=_interopRequireDefault(p);r(180);var g=function(e){function MessageView(){return _classCallCheck(this,MessageView),_possibleConstructorReturn(this,(MessageView.__proto__||Object.getPrototypeOf(MessageView)).apply(this,arguments))}return _inherits(MessageView,e),n(MessageView,[{key:"render",value:function(){var e=this;i(MessageView.prototype.__proto__||Object.getPrototypeOf(MessageView.prototype),"render",this).call(this);var t=this.model.data.messages||[],r=a.default.assignIn({action:"update"},this.model.data),n=this.config.get("template")||h.default;a.default.forEach(t,function(t){a.default.assignIn(t,{action:r.action,level:t.level||"default",iconLevel:e.selectors.icon[t.level||"default"],msgLevel:e.selectors.message[t.level||"default"]})});var o=this.d3.selectAll(this.selectors.node).filter(function(e){return"update"===e.action}).data(t,function(e){return e.text}),u=o.enter().append("div").html(function(e){return n(e)}).attr("class",function(t){return e.selectorClass("node")+" "+t.msgLevel});"once"===r.action&&u.transition().duration(5e3).style("opacity",1e-6).remove(),o.exit().remove()}},{key:"_onResize",value:function(){}},{key:"selectors",get:function(){return a.default.extend(i(MessageView.prototype.__proto__||Object.getPrototypeOf(MessageView.prototype),"selectors",this),{node:".message-row",message:{default:"msg-default",info:"msg-info",error:"msg-error",warn:"msg-warn"},icon:{default:"fa-comment-o",info:"fa-info-circle",error:"fa-times-circle",warn:"fa-exclamation-triangle"}})}}],[{key:"Actions",get:function(){return{SendMessage:c.default,ClearMessage:d.default}}},{key:"isMaster",get:function(){return!1}}]),MessageView}(l.default);t.default=g},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function ClearMessage(e){_classCallCheck(this,ClearMessage);var t=_possibleConstructorReturn(this,(ClearMessage.__proto__||Object.getPrototypeOf(ClearMessage)).call(this,e));return t._deny=!1,t}return _inherits(ClearMessage,e),n(ClearMessage,[{key:"_execute",value:function(e){this._registrar.clear(e)}}]),ClearMessage}(o.default);t.default=a},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function SendMessage(e){_classCallCheck(this,SendMessage);var t=_possibleConstructorReturn(this,(SendMessage.__proto__||Object.getPrototypeOf(SendMessage)).call(this,e));return t._deny=!1,t}return _inherits(SendMessage,e),n(SendMessage,[{key:"_execute",value:function(e){this._registrar.show(e)}}]),SendMessage}(o.default);t.default=a},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(2),g=_interopRequireDefault(h),y=r(74),_=_interopRequireDefault(y),v=r(23),b=_interopRequireDefault(v),m=r(4),w=_interopRequireDefault(m);r(181);var k=function(e){function PieView(){return _classCallCheck(this,PieView),_possibleConstructorReturn(this,(PieView.__proto__||Object.getPrototypeOf(PieView)).apply(this,arguments))}return _inherits(PieView,e),i(PieView,[{key:"render",value:function(){var e=this;o(PieView.prototype.__proto__||Object.getPrototypeOf(PieView.prototype),"render",this).call(this),this._onMouseout();var t=this.config.get("serie"),r=this.config.get("radius"),n=this.model.data,i=f.arc().outerRadius(r).innerRadius(this.config.innerRadius),a=f.pie().sort(null).value(function(e){return t.getValue(e)})(n);this.d3.attr("transform","translate("+this.width/2+", "+this.height/2+")");var u=this.d3.selectAll(this.selectors.node).data(a,function(e){return e.value});u.enter().append("path").classed(this.selectorClass("node"),!0).style("fill",function(t){return e.config.getColor(t.data)}).merge(u).classed(this.selectorClass("interactive"),this.config.hasAction("node")).attr("d",i).transition().ease(p.easeLinear).duration(this.config.get("duration")).style("fill",function(t){return e.config.getColor(t.data)}),u.exit().remove(),this._showLegend(),this._ticking=!1}},{key:"_showLegend",value:function(){var e=this,t=this.config.get("legend");if(t){var r=this.config.get("serie"),n=u.default.map(this.model.data,function(t){return{label:e.config.getLabel(t,r),color:e.config.getColor(t)}});w.default.fire("ToggleVisibility",t,!0,n)}}},{key:"_onMouseover",value:function(e,t,r){var n=this.config.get("radius"),i=f.arc(e).innerRadius(n).outerRadius(1.06*n).startAngle(e.startAngle).endAngle(e.endAngle);this.d3.append("path").classed("arc",!0).classed(this.selectorClass("highlight"),!0).attr("d",i).style("fill",this.config.getColor(e.data))}},{key:"_onMousemove",value:function(e,t,r){var i=this.config.get("tooltip");if(i){var o=s.mouse(this._container),a=n(o,2),u=a[0],l=a[1],c={left:u,top:l,container:this._container};w.default.fire("ToggleVisibility",i,!0,e.data,c)}}},{key:"_onMouseout",value:function(e,t){this.d3.selectAll(this.selectors.highlight).remove(),w.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"_onClickNode",value:function(e,t,r){this._onMouseout(e,t),o(PieView.prototype.__proto__||Object.getPrototypeOf(PieView.prototype),"_onEvent",this).call(this,e,t,r)}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return u.default.extend(o(PieView.prototype.__proto__||Object.getPrototypeOf(PieView.prototype),"selectors",this),{node:".arc",highlight:".highlight"})}},{key:"events",get:function(){return u.default.extend(o(PieView.prototype.__proto__||Object.getPrototypeOf(PieView.prototype),"events",this),{"click node":"_onClickNode","mouseover node":"_onMouseover","mousemove node":"_onMousemove","mouseout node":"_onMouseout"})}}],[{key:"Config",get:function(){return _.default}},{key:"Model",get:function(){return b.default}}]),PieView}(g.default);t.default=k},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(2),d=_interopRequireDefault(f),p=r(75),h=_interopRequireDefault(p);r(182);var g=function(e){function RadialAxisView(){var e;_classCallCheck(this,RadialAxisView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=RadialAxisView.__proto__||Object.getPrototypeOf(RadialAxisView)).call.apply(e,[this].concat(r)));return i.render(),i}return _inherits(RadialAxisView,e),i(RadialAxisView,null,[{key:"Config",get:function(){return h.default}}]),i(RadialAxisView,[{key:"render",value:function(){var e=this,t=this.config.scale;if(t){if(n(RadialAxisView.prototype.__proto__||Object.getPrototypeOf(RadialAxisView.prototype),"render",this).call(this),this.d3.attr("transform","translate("+this.radius+", "+this.radius+")").classed(this.config.name,!0),"radial"===this.config.position){var r=t.ticks(this.config.get("ticks")),i=this.d3.selectAll(".tick").data(r),o=i.enter().append("g").attr("class","tick");o.append("circle").attr("r",function(e){return t(e)}),o.append("text").text(function(e){return e}).attr("dy",function(e){return-t(e)});var u=i.transition().ease(l.easeLinear).duration(this.config.get("duration"));u.select("circle").attr("r",function(e){return t(e)}),u.select("text").text(function(e){return e}).attr("dy",function(e){return-t(e)}),i.exit().remove()}if("angular"===this.config.position){var s=t.ticks(this.config.get("ticks")),f=[];if(a.default.each(s,function(r){a.default.each(e.config.get("otherAxisScales"),function(e){var n={value:r,points:[{angle:t(r),r:e.range()[0]},{angle:t(r),r:e.range()[1]}]};f.push(n)})}),this.config.get("removeLastAngularTick")&&f.length)for(var d=0;d<this.config.get("otherAxisScales").length;d++)f.pop();var p=c.radialLine().angle(function(e){return e.angle}).radius(function(e){return e.r}).curve(c.curveLinear),h=this.d3.selectAll(".tick").data(f),g=h.enter().append("g").attr("class","tick");g.append("path").attr("d",function(e){return p(e.points)}),g.append("text").attr("x",function(e){return Math.cos(e.points[0].angle-Math.PI/2)*(e.points[1].r+10)}).attr("y",function(e){return Math.sin(e.points[0].angle-Math.PI/2)*(e.points[1].r+10)}).text(function(e){return e.value});var y=h.transition().ease(l.easeLinear).duration(this.config.get("duration"));y.select("path").attr("d",function(e){return p(e.points)}),y.select("text").attr("x",function(e){return Math.cos(e.points[0].angle-Math.PI/2)*(e.points[1].r+10)}).attr("y",function(e){return Math.sin(e.points[0].angle-Math.PI/2)*(e.points[1].r+10)}).text(function(e){return e.value}),h.exit().remove()}this._ticking=!1}}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 0}},{key:"selectors",get:function(){return a.default.extend(n(RadialAxisView.prototype.__proto__||Object.getPrototypeOf(RadialAxisView.prototype),"selectors",this),{node:".radial-axis",label:".axis-label",tick:".tick"})}},{key:"height",get:function(){return this.config.get("height")||this.width}},{key:"radius",get:function(){return Math.min(this.innerWidth,this.innerHeight)/2}}]),RadialAxisView}(d.default);t.default=g},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c);r(!function(){var e=new Error('Cannot find module "d3-transition"');throw e.code="MODULE_NOT_FOUND",e}());var d=r(0),p=_interopRequireWildcard(d),h=r(0),g=_interopRequireWildcard(h),y=r(2),_=_interopRequireDefault(y),v=r(76),b=_interopRequireDefault(v),m=r(5),w=_interopRequireDefault(m),k=r(4),C=_interopRequireDefault(k);r(183);var O=function(e){function RadialBarView(){var e;_classCallCheck(this,RadialBarView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=RadialBarView.__proto__||Object.getPrototypeOf(RadialBarView)).call.apply(e,[this].concat(r)));return i.listenTo(i.model,"change",i.render),i}return _inherits(RadialBarView,e),o(RadialBarView,null,[{key:"Config",get:function(){return b.default}},{key:"Model",get:function(){return w.default}}]),o(RadialBarView,[{key:"render",value:function(){i(RadialBarView.prototype.__proto__||Object.getPrototypeOf(RadialBarView.prototype),"render",this).call(this),this.config.calculateScales(this.model,this.innerWidth,this.innerHeight),this.d3.attr("transform","translate("+this.radius+", "+this.radius+")");var e=this.bandWidth/2;this._innerBandScale=g.scaleBand().domain(s.range(1)).range([-e,e]).paddingInner(.05).paddingOuter(.05);var t=this._prepareData(),r=this.d3.selectAll(this.selectors.node).data(t,function(e){return e.id});r.enter().append("path").attr("class","bar").attr("d",this._createEnterRadialBarPath).merge(r).transition().ease(p.easeLinear).duration(this.config.get("duration")).attr("fill",function(e){return e.color}).attr("d",this._createRadialBarPath),r.exit().remove(),this._ticking=!1}},{key:"_createRadialBarPath",value:function(e){var t=Math.PI/2;return"M"+Math.cos(e.angle-t)*e.rStart+","+Math.sin(e.angle-t)*e.rStart+"L"+Math.cos(e.angle-t)*e.rEnd+","+Math.sin(e.angle-t)*e.rEnd+"L"+Math.cos(e.angle+e.bandAngle-t)*e.rEnd+","+Math.sin(e.angle+e.bandAngle-t)*e.rEnd+"L"+Math.cos(e.angle+e.bandAngle-t)*e.rStart+","+Math.sin(e.angle+e.bandAngle-t)*e.rStart+"Z"}},{key:"_createEnterRadialBarPath",value:function(e){var t=Math.PI/2,r=Math.cos(e.angle-t)*e.rStart,n=Math.sin(e.angle-t)*e.rStart,i=Math.cos(e.angle+e.bandAngle-t)*e.rStart,o=Math.sin(e.angle+e.bandAngle-t)*e.rStart;return"M"+r+","+n+"L"+r+","+n+"L"+i+","+o+"L"+i+","+o+"Z"}},{key:"_prepareData",value:function(){var e=this,t=[],r=this._innerBandScale.bandwidth(),n=this.config.radialAccessors;return u.default.each(this.model.data,function(i){var o=u.default.get(i,e.config.get("angular.accessor"));u.default.each(n,function(n,a){var l=n.accessor,s={id:o+"-"+l,angle:e.config.angularScale(o)+e._innerBandScale(a),bandAngle:r,rStart:e.config.radialScale.range()[0],rEnd:e.config.radialScale(u.default.get(i,l)),color:e.config.getColor(n,i),data:i};t.push(s)})}),t}},{key:"_onMouseover",value:function(e,t){if(e.tooltip){var r=f.mouse(this._container),i=n(r,2),o=i[0],a=i[1],u=this.config.get("angular.accessor"),l=this.config.angularScale.invert(o),s=this.model.getNearest(u,l);C.default.fire("ToggleVisibility",e.tooltip,!0,{left:o,top:a},s)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=e.tooltip||this.config.get("radial.tooltip");u.default.isEmpty(r)||C.default.fire("ToggleVisibility",r,!1),(t?f.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 3}},{key:"selectors",get:function(){return u.default.extend(i(RadialBarView.prototype.__proto__||Object.getPrototypeOf(RadialBarView.prototype),"selectors",this),{node:".bar"})}},{key:"events",get:function(){return{"mouseover node":"_onMouseover","mouseout node":"_onMouseout"}}},{key:"height",get:function(){return this.config.get("height")||this.width}},{key:"radius",get:function(){return Math.min(this.innerWidth,this.innerHeight)/2}},{key:"bandWidth",get:function(){var e=this.model.data;if(u.default.isEmpty(e))return 0;var t=1-this.config.get("barPadding")/100,r=this.config.angularScale;return(r.range()[1]-r.range()[0])/e.length*t}}]),RadialBarView}(_.default);t.default=O},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c);r(!function(){var e=new Error('Cannot find module "d3-transition"');throw e.code="MODULE_NOT_FOUND",e}());var d=r(0),p=_interopRequireWildcard(d),h=r(0),g=_interopRequireWildcard(h),y=r(0),_=_interopRequireWildcard(y),v=r(90),b=r(2),m=_interopRequireDefault(b),w=r(77),k=_interopRequireDefault(w),C=r(5),O=_interopRequireDefault(C),P=r(4),R=_interopRequireDefault(P);r(184);var M=function(e){function RadialLineView(){var e;_classCallCheck(this,RadialLineView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=RadialLineView.__proto__||Object.getPrototypeOf(RadialLineView)).call.apply(e,[this].concat(r)));return i.listenTo(i.model,"change",i.render),i}return _inherits(RadialLineView,e),o(RadialLineView,null,[{key:"Config",get:function(){return k.default}},{key:"Model",get:function(){return O.default}}]),o(RadialLineView,[{key:"render",value:function(){var e=this;i(RadialLineView.prototype.__proto__||Object.getPrototypeOf(RadialLineView.prototype),"render",this).call(this);var t=this.model.data,r=this.config.get("angular.accessor"),n=this.config.get("radial"),o=n.accessor;this.config.calculateScales(this.model,this.innerWidth,this.innerHeight),this._line=p.radialLine().angle(function(t){return e.config.angularScale(u.default.get(t,r))}).radius(function(t){return e.config.radialScale(u.default.get(t,o))}).curve(this.config.get("curve"));var a=this.d3.selectAll(this.selectors.node).data(u.default.isEmpty(t)?[]:[n],function(e){return e.accessor});this.d3.attr("transform","translate("+this.radius+", "+this.radius+")"),a.enter().append("path").attr("class","line line-"+o).attr("d",this._line(t[0]||0)).transition().ease(g.easeLinear).duration(this.config.get("duration")).attrTween("d",this._interpolate.bind(this,t,o)).attr("stroke",this.config.getColor()),a.transition().ease(g.easeLinear).duration(this.config.get("duration")).attrTween("d",function(r,n,i){var o=i[n].getAttribute("d"),a=e._line(t);return(0,v.interpolatePath)(o,a)}).attr("stroke",this.config.getColor()),a.exit().remove(),this._ticking=!1}},{key:"_interpolate",value:function(e,t){var r=this,n=_.scaleQuantile().domain([0,1]).range(s.range(1,e.length+1));return function(t){var i=e.slice(0,n(t));return r._line(i)}}},{key:"_onMouseover",value:function(e,t){if(e.tooltip){var r=f.mouse(this._container),i=n(r,2),o=i[0],a=i[1],u=this.config.get("angular.accessor"),l=this.config.angularScale.invert(o),s=this.model.getNearest(u,l);R.default.fire("ToggleVisibility",e.tooltip,!0,{left:o,top:a},s)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=e.tooltip||this.config.get("radial.tooltip");u.default.isEmpty(r)||R.default.fire("ToggleVisibility",r,!1),(t?f.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 3}},{key:"selectors",get:function(){return u.default.extend(i(RadialLineView.prototype.__proto__||Object.getPrototypeOf(RadialLineView.prototype),"selectors",this),{node:".line"})}},{key:"events",get:function(){return{"mouseover node":"_onMouseover","mouseout node":"_onMouseout"}}},{key:"height",get:function(){return this.config.get("height")||this.width}},{key:"radius",get:function(){return Math.min(this.innerWidth,this.innerHeight)/2}}]),RadialLineView}(m.default);t.default=M},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(0),p=_interopRequireWildcard(d),h=r(0),g=_interopRequireWildcard(h),y=r(2),_=_interopRequireDefault(y),v=r(78),b=_interopRequireDefault(v),m=r(23),w=_interopRequireDefault(m),k=r(4),C=_interopRequireDefault(k),O=r(12),P=_interopRequireDefault(O),R=r(13),M=_interopRequireDefault(R);r(185);var x=function(e){function RadialDendrogramView(){return _classCallCheck(this,RadialDendrogramView),_possibleConstructorReturn(this,(RadialDendrogramView.__proto__||Object.getPrototypeOf(RadialDendrogramView)).apply(this,arguments))}return _inherits(RadialDendrogramView,e),i(RadialDendrogramView,[{key:"render",value:function(){this._calculateDimensions(),this._prepareHierarchy(),o(RadialDendrogramView.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramView.prototype),"render",this).call(this),this._render(),this._showLegend(),this._ticking=!1}},{key:"_calculateDimensions",value:function(){this.config.get("innerRadius")||this.config.set({innerRadius:Math.min(this.innerWidth,this.innerHeight)/2},{silent:!0})}},{key:"_prepareRootNode",value:function(){var e=this,t=this.model.data,r=this.config.get("hierarchyConfig"),n=[];this._maxDepth=0,this._rootNode={name:"root",children:[]},this._valueSum=0,u.default.each(t,function(t,i){var o=r.parse(t);if(!(o[0].value<=0||o[1].value<=0)){var a=u.default.find(n,function(e){var t=!1;return e.id===o[0].id&&e.otherNode.id===o[1].id&&(t=!0),e.id===o[1].id&&e.otherNode.id===o[0].id&&(t=!0),t});a?(a.value+=a.id===o[0].id?o[0].value:o[1].value,a.otherNode.value+=a.otherNode.id===o[0].id?o[0].value:o[1].value,e._valueSum+=o[0].value+o[1].value):u.default.each(o,function(t,r){var i=e._rootNode.children,a=null,l=[];u.default.each(t.names,function(t,r){e._maxDepth=Math.max(e._maxDepth,r+1),r>=e.config.get("drillDownLevel")||(l.push(t),a=u.default.find(i,function(e){return e.name===t}),a||(a={name:t,namePath:l.slice(0),children:[],level:r+1},i.push(a)),i=a.children)});var s={id:t.id,otherNode:0===r?o[1]:o[0],value:t.value,type:0===r?"src":"dst",linkId:o[0].id+"-"+o[1].id};a.children.push(s),e._valueSum+=s.value,n.push(s)})}})}},{key:"_prepareHierarchyRootNode",value:function(){var e=this.config.get("valueScale").domain([.01,this._valueSum]).range([0,360]);this._hierarchyRootNode=s.hierarchy(this._rootNode).sum(function(t){return e(t.value)}).sort(function(e,t){return t.value-e.value})}},{key:"_prepareLinks",value:function(){var e=this;this._links=[];var t=0,r=this._hierarchyRootNode.leaves();u.default.each(r,function(n,i){for(t=i+1;t<r.length;t++)n.data.linkId===r[t].data.linkId&&e._links.push(n.path(r[t]))})}},{key:"_prepareCluster",value:function(){var e=this,t=u.default.fill(u.default.range(this.config.get("drillDownLevel")+1),0);s.cluster().size([360,this.config.get("innerRadius")]).separation(function(r,n){var i=(r.value+n.value)/2;if(r.parent!==n.parent){var o=r.ancestors(),a=n.ancestors(),l=Math.max(0,u.default.difference(o,a).length-e.config.get("parentSeparationDepthThreshold")),s=e.config.get("parentSeparation")*l*e._hierarchyRootNode.value/360;i+=s,t[r.depth]+=s}return i})(this._hierarchyRootNode)}},{key:"_prepareCircles",value:function(){var e=this;this._circles=[];var t=f.scaleLinear().domain([0,this.config.get("drillDownLevel")]).range([0,this.config.get("innerRadius")]).clamp(!0);this._hierarchyRootNode.each(function(r){r.parent&&r.children&&(r.y=t(r.depth),e._circles.length===r.depth&&(e._circles[r.depth]={r:r.y}))})}},{key:"_prepareAngleRanges",value:function(){var e=this,t=[0];this._hierarchyRootNode.angleRange=[0,360],this._hierarchyRootNode.valueRange=[0,this._hierarchyRootNode.value],this._hierarchyRootNode.angleScale=f.scaleLinear().domain(this._hierarchyRootNode.valueRange).range(this._hierarchyRootNode.angleRange),this._hierarchyRootNode.each(function(r){if(r.parent){t.length<=r.depth&&t.push(0);var n=t[r.depth],i=n+r.value;t[r.depth]=i,r.valueRange=[n,i];var o=r.parent.angleScale(n),a=r.parent.angleScale(i);r.separationValue=0,r.depth<e.config.get("parentSeparationDepthThreshold")&&(r.separationValue=e.config.get("parentSeparationShrinkFactor")*(a-o)/2),o+=r.separationValue,a-=r.separationValue,r.angleRange=[o,a],r.angleScale=f.scaleLinear().domain(r.valueRange).range(r.angleRange)}}),this._hierarchyRootNode.each(function(e){if(e.parent){var t=0;u.default.each(e.descendants(),function(e){t+=e.separationValue}),e.angleRange[0]+=t,e.angleRange[1]-=t,e.angleScale=f.scaleLinear().domain(e.valueRange).range(e.angleRange)}})}},{key:"_prepareRibbons",value:function(){var e=this;this._ribbons=[],u.default.each(this._links,function(t){var r=t[0],n=t[t.length-1],i=r.ancestors(),o=n.ancestors(),a=[];u.default.each(i,function(e,t){if(e.parent&&e.children){var n=e.valueRange[0];if(e.children){var i=!1,o=e.leaves();u.default.each(o,function(e){e===r&&(i=!0),i||(n+=e.valueRange[1]-e.valueRange[0])}),i||console.error("Ribbon connection (outer edge from source leaf to root) never found.")}a.push([e.angleScale(n),e.y])}});var l=0;for(l=o.length-1;l>=0;l--){var s=o[l];if(s.parent&&s.children){var c=s.valueRange[1];if(s.children){var f=!1,d=0,p=s.leaves();for(d=p.length-1;d>=0;d--){var h=p[d];h===n&&(f=!0),f||(c-=h.valueRange[1]-h.valueRange[0])}f||console.error("Ribbon connection (outer edge from root to target leaf) never found.")}a.push([s.angleScale(c),s.y])}}var g=[];for(u.default.each(o,function(e,t){if(e.parent&&e.children){var r=e.valueRange[0];if(e.children){var i=!1,o=e.leaves();u.default.each(o,function(e){e===n&&(i=!0),i||(r+=e.valueRange[1]-e.valueRange[0])}),i||console.error("Ribbon connection (inner edge from target leaf to root) never found.")}g.push([e.angleScale(r),e.y])}}),l=i.length-1;l>=0;l--){var y=i[l];if(y.parent&&y.children){var _=y.valueRange[1];if(y.children){var v=!1,b=0,m=y.leaves();for(b=m.length-1;b>=0;b--){var w=m[b];w===r&&(v=!0),v||(_-=w.valueRange[1]-w.valueRange[0])}v||console.error("Ribbon connection (inner edge from root to source leaf) never found.")}g.push([y.angleScale(_),y.y])}}e._ribbons.push({outerPoints:a,innerPoints:g,id:r.data.linkId})})}},{key:"_prepareArcs",value:function(){var e=this;this._arcs=[],this._hierarchyRootNode.each(function(t){t.parent&&t.children&&(t.arcLength=6*(t.y-e.config.get("arcLabelYOffset"))*(t.angleRange[1]-t.angleRange[0])/360,t.label=""+t.data.namePath[t.data.namePath.length-1],t.labelFits=e.config.get("arcLabelLetterWidth")*t.label.length<t.arcLength,"perpendicular"===e.config.get("labelFlow")&&(t.labelFits=t.arcLength>9&&e.config.get("innerRadius")/e.config.get("drillDownLevel")-e.config.get("arcLabelYOffset")>e.config.get("arcLabelLetterWidth")*t.label.length),e._arcs.push(t))})}},{key:"_prepareHierarchy",value:function(){this._prepareRootNode(),this._prepareHierarchyRootNode(),this._prepareLinks(),this._prepareCluster(),this._prepareCircles(),this._prepareAngleRanges(),this._prepareRibbons(),this._prepareArcs()}},{key:"_render",value:function(){var e=this;this.d3.attr("transform","translate("+this.width/2+", "+this.height/2+")");var t=this.d3.selectAll(".circle").data(this._circles);if(t.enter().append("circle").attr("class","circle").attr("r",0).merge(t).attr("r",function(e){return e.r+1}),t.exit().remove(),this.config.get("drawLinks")){var r=g.radialLine().angle(function(e){return e.x/180*Math.PI}).radius(function(e){return e.y}).curve(this.config.get("curve")),n=this.d3.selectAll(this.selectors.link).data(this._links);n.enter().append("path").attr("class",function(e){return"link "+e[0].data.id}).classed(this.selectorClass("interactive"),this.config.hasAction("node")).style("stroke-width",0).attr("d",function(e){return r(e[0])}).merge(n).style("stroke-width",function(e){return e[0].y*Math.sin((e[0].angleRange[1]-e[0].angleRange[0])*Math.PI/180)+"px"}).attr("d",r)}if(this.config.get("drawRibbons")){var i=g.radialLine().angle(function(e){return e[0]/180*Math.PI}).radius(function(e){return e[1]}).curve(this.config.get("curve")),o=this.d3.selectAll(this.selectors.ribbon).data(this._ribbons,function(e){return e.id});o.enter().append("path").attr("class",function(e){return"ribbon"+(e.active?" active":"")}).merge(o).attr("class",function(e){return"ribbon"+(e.active?" active":"")}).classed(this.selectorClass("interactive"),this.config.hasAction("link")).attr("d",function(e){var t=i(e.outerPoints),r=i(e.innerPoints),n="A"+e.outerPoints[0][1]+" "+e.outerPoints[0][1]+" 0 0 0 ",o="A"+e.outerPoints[0][1]+" "+e.outerPoints[0][1]+" 0 0 0 "+i([e.outerPoints[0]]).substr(1);return t+n+r.substr(1)+o}),o.exit().remove();var a="along-arc"===this.config.get("labelFlow")?this._arcs:[],u="perpendicular"===this.config.get("labelFlow")?this._arcs:[],l=this.d3.selectAll(".arc-label.along-arc").data(a),s=l.enter().append("text").attr("class","arc-label along-arc").attr("x",this.config.get("arcLabelXOffset")).attr("dy",this.config.get("arcLabelYOffset"));s.append("textPath").attr("xlink:href",function(e){return"#"+e.data.namePath.join("-")});s.merge(l).transition().ease(this.config.get("ease")).duration(this.config.get("duration")).attr("x",this.config.get("arcLabelXOffset")).attr("dy",this.config.get("arcLabelYOffset")).select("textPath").text(function(t){return e.config.get("showArcLabels")&&t.labelFits?t.label:""}),l.exit().remove(),l=this.d3.selectAll(".arc-label.perpendicular").data(u),s=l.enter().append("text").attr("class","arc-label perpendicular").merge(l).attr("transform",function(t){var r=(t.angleRange[1]+t.angleRange[0])/2+90;return(t.angleRange[1]+t.angleRange[0])/2<180&&(r-=180),"translate("+((t.y+e.config.get("arcLabelYOffset"))*Math.cos((t.angleRange[1]+t.angleRange[0]-180)*Math.PI/360)+e.config.get("arcLabelXOffset"))+", "+(t.y+e.config.get("arcLabelYOffset"))*Math.sin((t.angleRange[1]+t.angleRange[0]-180)*Math.PI/360)+") rotate("+r+")"}).style("text-anchor",function(e){return(e.angleRange[1]+e.angleRange[0])/2<180?"start":"end"}).text(function(t){return e.config.get("showArcLabels")&&t.labelFits?t.label:""}),l.exit().remove();var c=g.arc().innerRadius(function(e){return e.y}).outerRadius(function(e){return e.y+1}).startAngle(function(e){return Math.PI*e.angleRange[0]/180}).endAngle(function(e){return Math.PI*e.angleRange[1]/180}),f=g.arc().innerRadius(function(e){return e.y}).outerRadius(function(t){return t.y+e.config.get("arcWidth")}).startAngle(function(e){return Math.PI*e.angleRange[0]/180}).endAngle(function(e){return Math.PI*e.angleRange[1]/180}),d=this.d3.selectAll(this.selectors.node).data(this._arcs,function(e){return e.data.namePath.join("-")});d.enter().append("path").attr("id",function(e){return e.data.namePath.join("-")}).attr("class",function(e){return"arc arc-"+e.depth}).attr("d",c).merge(d).transition().ease(this.config.get("ease")).duration(this.config.get("duration")).style("fill",function(t){return e.config.getColor(t.depth-1)}).attr("d",f),d.exit().transition().ease(this.config.get("ease")).duration(this.config.get("duration")).attr("d",c).remove()}}},{key:"_showLegend",value:function(){var e=this.config.get("legend");e&&C.default.fire("ToggleVisibility",e,!0,this.config.legendData,this.config.legendConfig)}},{key:"_onConfigModelChange",value:function(){this.render()}},{key:"_onMousemove",value:function(e,t){var r=e.leaves();u.default.each(this._ribbons,function(e){e.active=Boolean(u.default.find(r,function(t){return t.data.linkId===e.id}))}),this._render();var i=p.mouse(this._container),o=n(i,2),a=o[0],l=o[1],s={left:a,top:l,container:this._container};C.default.fire("ToggleVisibility",this.config.get("tooltip"),!0,e.data,s)}},{key:"_onMouseout",value:function(e,t){u.default.each(this._ribbons,function(e){e.active=!1}),this._render(),C.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"_onClickNode",value:function(e,t,r){e.depth<this._maxDepth&&e.depth===this.config.get("drillDownLevel")?this.config.set("drillDownLevel",this.config.get("drillDownLevel")+1):e.depth<this.config.get("drillDownLevel")&&this.config.set("drillDownLevel",this.config.get("drillDownLevel")-1),t.classList.remove(this.selectorClass("active")),o(RadialDendrogramView.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramView.prototype),"_onEvent",this).call(this,e,t,r)}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return u.default.extend(o(RadialDendrogramView.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramView.prototype),"selectors",this),{node:".arc",link:".link",ribbon:".ribbon",active:".active"})}},{key:"events",get:function(){return u.default.extend(o(RadialDendrogramView.prototype.__proto__||Object.getPrototypeOf(RadialDendrogramView.prototype),"events",this),{"click node":"_onClickNode","click ribbon":"_onEvent","dblclick node":"_onEvent","dblclick ribbon":"_onEvent","mousemove node":"_onMousemove","mouseout node":"_onMouseout"})}},{key:"height",get:function(){return this.config.get("height")||this.width}}],[{key:"Config",get:function(){return b.default}},{key:"Model",get:function(){return w.default}},{key:"Actions",get:function(){return{SelectColor:P.default,SelectKey:M.default}}}]),RadialDendrogramView}(_.default);t.default=x},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(164),f=_interopRequireWildcard(c),d=r(2),p=_interopRequireDefault(d),h=r(79),g=_interopRequireDefault(h),y=r(23),_=_interopRequireDefault(y),v=r(4),b=_interopRequireDefault(v);r(186);var m=function(e){function SankeyView(){return _classCallCheck(this,SankeyView),_possibleConstructorReturn(this,(SankeyView.__proto__||Object.getPrototypeOf(SankeyView)).apply(this,arguments))}return _inherits(SankeyView,e),i(SankeyView,[{key:"render",value:function(){o(SankeyView.prototype.__proto__||Object.getPrototypeOf(SankeyView.prototype),"render",this).call(this),this._prepareLayout(),this._render(),this._ticking=!1}},{key:"remove",value:function(){o(SankeyView.prototype.__proto__||Object.getPrototypeOf(SankeyView.prototype),"remove",this).call(this),window.removeEventListener("resize",this._onResize)}},{key:"_prepareLayout",value:function(){var e=this,t=this.model.data,r={},n=this.config.get("parseConfig");this._nodes=[],this._links=[],u.default.each(t,function(t){var i=n.parse(t);u.default.each(i,function(t,n){if(t.value&&!(t.value<=0)){if(!r[t.source]){var i={name:t.source,label:t.sourceNode.label,level:t.sourceNode.level,index:e._nodes.length};r[t.source]=i,e._nodes.push(i)}if(!r[t.target]){var o={name:t.target,label:t.targetNode.label,level:t.targetNode.level,index:e._nodes.length};r[t.target]=o,e._nodes.push(o)}var a=r[t.source].index,l=r[t.target].index,s=null;u.default.each(e._links,function(e){(e.source===a&&e.target===l||e.source===l&&e.target===a)&&(s=e)}),s?s.value+=t.value:e._links.push({source:a,target:l,value:t.value,data:t})}})}),this._sankey=f.sankey().nodeWidth(this.config.get("nodeWidth")).nodePadding(this.config.get("nodePadding")).size([this.innerWidth,this.innerHeight]),this._sankey.nodes(this._nodes).links(this._links).layout(32),u.default.each(this._nodes,function(e){e.dy<1&&(e.dy=1)}),u.default.each(this._links,function(e){e.dy<1&&(e.dy=0),e.ty<1&&(e.ty=0),e.sy<1&&(e.sy=0)})}},{key:"_render",value:function(){var e=this;this.d3.attr("transform","translate("+this.config.get("margin.left")+", "+this.config.get("margin.top")+")");var t=this._sankey.link(),r=this.d3.selectAll(this.selectors.link).data(this._links);r.enter().append("path").attr("class","link").attr("d",t).style("stroke-width",function(e){return Math.max(1,e.dy)}).merge(r).attr("d",t).style("stroke-width",function(e){return Math.max(1,e.dy)}),r.exit().remove();var n=this.d3.selectAll(this.selectors.node).data(this._nodes),i=n.enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"});i.append("rect").attr("width",this._sankey.nodeWidth()).attr("height",function(e){return e.dy}),i.append("text").attr("x",-5).attr("y",function(e){return e.dy/2}).attr("text-anchor","end").text(function(e){return e.dy>10?e.label:""}).filter(function(t){return t.x>e.width/2}).attr("x",5+this._sankey.nodeWidth()).attr("text-anchor","start");var o=i.merge(n).transition().ease(this.config.get("ease")).duration(this.config.get("duration")).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});o.select("rect").style("fill",function(t){return e.config.getColor([],e.config.get("levels")[t.level])}).attr("width",this._sankey.nodeWidth()).attr("height",function(e){return e.dy}),o.select("text").attr("x",-5).attr("y",function(e){return e.dy/2}).attr("text-anchor","end").text(function(e){return e.dy>10?e.label:""}).filter(function(t){return t.x>e.width/2}).attr("x",5+this._sankey.nodeWidth()).attr("text-anchor","start")}},{key:"_onMouseoverLink",value:function(e,t){var r=s.mouse(this._container),i=n(r,2),o=i[0],a=i[1],u={left:o,top:a,container:this._container};b.default.fire("ToggleVisibility",this.config.get("tooltip"),!0,e,u)}},{key:"_onMouseoutLink",value:function(e,t){b.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"tagName",get:function(){return"g"}},{key:"events",get:function(){return{"mouseover link":"_onMouseoverLink","mouseout link":"_onMouseoutLink","click node":"_onClickNode"}}},{key:"selectors",get:function(){return u.default.extend(o(SankeyView.prototype.__proto__||Object.getPrototypeOf(SankeyView.prototype),"selectors",this),{link:".link",node:".node"})}}],[{key:"Config",get:function(){return g.default}},{key:"Model",get:function(){return _.default}}]),SankeyView}(p.default);t.default=m},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a);r(!function(){var e=new Error('Cannot find module "d3-transition"');throw e.code="MODULE_NOT_FOUND",e}());var l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(2),p=_interopRequireDefault(d),h=r(80),g=_interopRequireDefault(h),y=r(5),_=_interopRequireDefault(y),v=r(4),b=_interopRequireDefault(v),m=r(37),w=_interopRequireDefault(m),k=r(14),C=_interopRequireDefault(k);r(187);var O=function(e){function ScatterPlotView(){return _classCallCheck(this,ScatterPlotView),_possibleConstructorReturn(this,(ScatterPlotView.__proto__||Object.getPrototypeOf(ScatterPlotView)).apply(this,arguments))}return _inherits(ScatterPlotView,e),i(ScatterPlotView,[{key:"calculateScales",value:function(){this.config.set("x.range",[this.padding.left,this.innerWidth-this.padding.right],{silent:!0}),this.config.set("y.range",[this.innerHeight-this.padding.bottom,this.padding.top],{silent:!0}),this.config.calculateScales(this.model)}},{key:"render",value:function(){var e=this;if(o(ScatterPlotView.prototype.__proto__||Object.getPrototypeOf(ScatterPlotView.prototype),"render",this).call(this),this._waiting||(this.config.get("frozen")||this.calculateScales(),this._data=u.default.filter(this.prepareData(),function(t){return!u.default.find(e._overlapping,{id:t.id})}),!this._cluster())){var t=this.d3.selectAll(this.selectors.node).data(this._data,function(e){return e.id}),r=t.enter().append("g").classed(this.selectorClass("node"),!0).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});r.append("circle"),r.append("text");var n=r.merge(t);n.select("circle").attr("r",function(e){return Math.sqrt(e.area)/2}).attr("fill",function(e){return e.color}),n.select("text").attr("fill",function(e){return e.color}).html(function(e){return e.accessor.shape}).style("font-size",function(e){return Math.sqrt(e.area/4)}),t.transition().ease(f.easeLinear).duration(this.config.get("duration")).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),t.exit().remove(),this._ticking=!1}}},{key:"cluster",value:function(e){this._overlapping=e,this.render(),this._waiting=!1}},{key:"zoom",value:function(e){var t,r=this;e||(t={},_defineProperty(t,this.config.get("x.accessor"),[]),_defineProperty(t,this.config.get("y.accessor"),[]),e=t),u.default.each(e,function(e,t){var n=r.config.get("x.accessor")===t?"x":"y";r.config.set(n+".domain",e,{silent:!0})}),this.render()}},{key:"prepareData",value:function(){var e=this,t=this.config.get("x.accessor"),r=this.config.get("y"),n=r.accessor,i=this.config.get("size.accessor"),o=[];return u.default.map(this.model.data,function(a){var l=u.default.get(a,t);if(!u.default.isNil(u.default.get(a,n))){var s={id:l+"-"+n,x:e.config.xScale(l),y:e.config.yScale(u.default.get(a,n)),area:e.config.sizeScale(u.default.get(a,i)),color:e.config.getColor(r.accessor,a),accessor:r,data:a,halfWidth:Math.sqrt(e.config.sizeScale(u.default.get(a,i)))/2,halfHeight:Math.sqrt(e.config.sizeScale(u.default.get(a,i)))/2};o.push(s)}}),o}},{key:"_cluster",value:function(){var e=this.config.get("bucket");if(!e)return!1;this._waiting=!0;var t={update:this.id,xAccessor:this.config.get("x.accessor")};return b.default.fire("ToggleVisibility",e,!0,this._data,t)}},{key:"_onMouseover",value:function(e,t,r){var i=this.config.get("tooltip");if(i){var o=s.mouse(this._container),a=n(o,2),u=a[0],l=a[1],c={left:u,top:l,container:this._container};b.default.fire("ToggleVisibility",i,!0,e.data,c)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(e,t){var r=this.config.get("tooltip");r&&b.default.fire("ToggleVisibility",r,!1),(t?s.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 1}},{key:"selectors",get:function(){return u.default.extend(o(ScatterPlotView.prototype.__proto__||Object.getPrototypeOf(ScatterPlotView.prototype),"selectors",this),{node:".point"})}},{key:"events",get:function(){return{"mouseover node":"_onMouseover","mouseout node":"_onMouseout"}}},{key:"isWaiting",get:function(){return this._waiting}},{key:"padding",get:function(){var e=Math.sqrt(this.config.get("size.range")[1]);return{left:e,top:e,right:e,bottom:e}}}],[{key:"Config",get:function(){return g.default}},{key:"Model",get:function(){return _.default}},{key:"Actions",get:function(){return{ClusterAction:w.default,Zoom:C.default}}}]),ScatterPlotView}(p.default);t.default=O},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(2),p=_interopRequireDefault(d),h=r(81),g=_interopRequireDefault(h),y=r(5),_=_interopRequireDefault(y),v=r(4),b=_interopRequireDefault(v),m=r(12),w=_interopRequireDefault(m),k=r(13),C=_interopRequireDefault(k);r(188);var O=function(e){function StackedBarView(){return _classCallCheck(this,StackedBarView),_possibleConstructorReturn(this,(StackedBarView.__proto__||Object.getPrototypeOf(StackedBarView)).apply(this,arguments))}return _inherits(StackedBarView,e),i(StackedBarView,[{key:"getScreenX",value:function(e){return this.config.xScale(u.default.get(e,this.config.get("x.accessor")))}},{key:"getScreenY",value:function(e,t){if(!u.default.isNil(u.default.get(e,t))){var r=0;return u.default.takeWhile(this.config.yAccessors,function(n){return r+=u.default.get(e,n.accessor)||0,n.accessor!==t}),this.config.yScale(r)}}},{key:"calculateScales",value:function(){this.config.set("x.range",[this.padding.left,this.innerWidth-this.padding.right],{silent:!0}),this.config.set("y.range",[this.innerHeight-this.padding.bottom,this.padding.top],{silent:!0}),this.config.calculateScales(this.model)}},{key:"render",value:function(){o(StackedBarView.prototype.__proto__||Object.getPrototypeOf(StackedBarView.prototype),"render",this).call(this),this._onMouseout(),this.config.get("frozen")||this.calculateScales();var e=this.config.yScale.range()[0],t=this.d3.selectAll(this.selectors.node).data(this._prepareData(),function(e){return e.id});t.enter().append("rect").attr("class",function(e){return"bar"}).attr("x",function(e){return e.x}).attr("y",e).attr("height",0).attr("width",function(e){return e.w}).merge(t).transition().ease(f.easeLinear).duration(this.config.get("duration")).attr("fill",function(e){return e.color}).attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("height",function(e){return e.h}).attr("width",function(e){return e.w}),t.exit().remove(),this._ticking=!1}},{key:"_prepareData",value:function(){var e=this,t=this.model.data,r=this.config.yScale.domain()[0],n=[],i=this.bandWidth/2;return u.default.each(t,function(t){var o=u.default.get(t,e.config.get("x.accessor")),a=r;u.default.each(e.config.yAccessors,function(l){var s=l.accessor,c=u.default.get(t,s)||0,f={id:o+"-"+s,x:e.config.xScale(o)-i,y:e.config.yScale(c-r+a),h:e.config.yScale(r)-e.config.yScale(c+(a===r?0:r)),w:e.bandWidth,color:e.config.getColor(l.accessor,t),accessor:l,data:t};a+=c,n.push(f)})}),n}},{key:"_onMousemove",value:function(e,t,r){if(e.accessor.tooltip){var i=s.mouse(this._container),o=n(i,2),a=o[0],u=o[1],l={left:a,top:u,container:this._container};b.default.fire("ToggleVisibility",e.accessor.tooltip,!0,e.data,l)}t.classList.add(this.selectorClass("active"))}},{key:"_onMouseout",value:function(e,t){var r=e&&e.accessor?e.accessor.tooltip:u.default.map(this.config.yAccessors,function(e){return e.tooltip});u.default.isEmpty(r)||b.default.fire("ToggleVisibility",r,!1),(t?s.select(t):this.d3.selectAll(this.selectors.node)).classed("active",!1)}},{key:"tagName",get:function(){return"g"}},{key:"zIndex",get:function(){return 1}},{key:"selectors",get:function(){return u.default.extend(o(StackedBarView.prototype.__proto__||Object.getPrototypeOf(StackedBarView.prototype),"selectors",this),{node:".bar"})}},{key:"events",get:function(){return{"mousemove node":"_onMousemove","mouseout node":"_onMouseout"}}},{key:"bandWidth",get:function(){if(u.default.isEmpty(this.model.data))return 0;var e=1-this.config.get("barPadding")/100;return this.config.getOuterWidth(this.model,this.innerWidth)/this.model.data.length*e}},{key:"padding",get:function(){var e=this.model.data.length<2?0:this.bandWidth/2;return u.default.defaultsDeep({left:e,right:e},this.config.padding)}}],[{key:"Config",get:function(){return g.default}},{key:"Model",get:function(){return _.default}},{key:"Actions",get:function(){return{SelectColor:w.default,SelectKey:C.default}}}]),StackedBarView}(p.default);t.default=O},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(2),a=_interopRequireDefault(o),u=r(82),l=_interopRequireDefault(u),s=function(e){function StandaloneView(e){_classCallCheck(this,StandaloneView);var t=_possibleConstructorReturn(this,(StandaloneView.__proto__||Object.getPrototypeOf(StandaloneView)).call(this,e));return t.render(),t}return _inherits(StandaloneView,e),i(StandaloneView,null,[{key:"Config",get:function(){return l.default}}]),i(StandaloneView,[{key:"render",value:function(){n(StandaloneView.prototype.__proto__||Object.getPrototypeOf(StandaloneView.prototype),"render",this).call(this),this.d3.append("text").text("standalone component"),this.svg.classed("standalone-is-here",!0)}},{key:"tagName",get:function(){return"g"}}]),StandaloneView}(a.default);t.default=s},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=_interopRequireWildcard(u),s=r(0),c=_interopRequireWildcard(s),f=r(2),d=_interopRequireDefault(f),p=r(83),h=_interopRequireDefault(p),g=r(5),y=_interopRequireDefault(g),_=r(4),v=_interopRequireDefault(_),b=r(14),m=_interopRequireDefault(b),w=r(36),k=_interopRequireDefault(w);r(189);var C=function(e){function TimelineView(){var e;_classCallCheck(this,TimelineView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=TimelineView.__proto__||Object.getPrototypeOf(TimelineView)).call.apply(e,[this].concat(r)));return i._brush=new k.default({container:i._container,config:{isSharedContainer:!0}}),i.listenTo(i._brush,"selection",a.default.throttle(i._onSelection)),i._debouncedEnable=a.default.debounce(function(){i._disabled=!1},i.config.get("duration")),i}return _inherits(TimelineView,e),i(TimelineView,null,[{key:"Config",get:function(){return h.default}},{key:"Model",get:function(){return y.default}},{key:"Actions",get:function(){return{Zoom:m.default}}}]),i(TimelineView,[{key:"render",value:function(){var e=this._container.getBoundingClientRect();n(TimelineView.prototype.__proto__||Object.getPrototypeOf(TimelineView.prototype),"render",this).call(this);var t=this.config.get("accessor"),r=[0,this.config.get("width")||e.width],i=[this.config.get("height"),0],o=c.scaleLinear().range(r).domain(this.model.getRangeFor(t));this.config.set({xRange:r,yRange:i,xScale:o},{silent:!0});this._bar=this.d3.selectAll(this.selectors.bar).data([{barHeight:10}]),this._bar.enter().append("rect").attr("class",this.selectorClass("bar")).attr("x",r[0]).attr("y",i[0]/2-5).attr("height",10).attr("width",r[1]-r[0]).merge(this._bar).transition().ease(l.easeLinear).duration(this.config.get("duration")).attr("y",i[0]/2-5).attr("width",r[1]-r[0]),this._bar.exit().remove(),this._brush.config.set({selection:this.config.selectionRange,xRange:r,yRange:i},{silent:!0}),this._brush.render(),this._ticking=!1}},{key:"zoom",value:function(e){var t=this.config.get("selectionScale"),r=this.config.get("xScale"),n=r(e.x[0]),i=r(e.x[1]),o=[a.default.floor(t.invert(n)),a.default.ceil(t.invert(i))];a.default.isEqual(this.config.get("selection"),o)||(this.config.set("selection",o,{silent:!0}),this._update())}},{key:"_onSelection",value:function(e){if(!this._disabled){var t=this.config.get("accessor"),r=this.config.get("xScale"),n=r.invert(e[0]),i=r.invert(e[1]),o=this.config.get("selectionScale"),u=[a.default.floor(o.invert(e[0])),a.default.ceil(o.invert(e[1]))];this.config.set("selection",u,{silent:!0});var l=_defineProperty({},t,[n,i]);v.default.fire("Zoom",this.config.get("update"),l)}}},{key:"_onResize",value:function(){this._disabled=!0,this._debouncedEnable(),this._ticking||(window.requestAnimationFrame(this.render.bind(this)),this._ticking=!0)}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return a.default.extend(n(TimelineView.prototype.__proto__||Object.getPrototypeOf(TimelineView.prototype),"selectors",this),{bar:".timeline-bar"})}},{key:"width",get:function(){return this.config.get("width")||this._container.getBoundingClientRect().width}}]),TimelineView}(d.default);t.default=C},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(2),l=_interopRequireDefault(u),s=r(84),c=_interopRequireDefault(s),f=r(11),d=_interopRequireDefault(f),p=r(38),h=_interopRequireDefault(p),g=r(203),y=_interopRequireDefault(g);r(190);var _=function(e){function TooltipView(){return _classCallCheck(this,TooltipView),_possibleConstructorReturn(this,(TooltipView.__proto__||Object.getPrototypeOf(TooltipView)).apply(this,arguments))}return _inherits(TooltipView,e),n(TooltipView,[{key:"render",value:function(){if(this._visible){i(TooltipView.prototype.__proto__||Object.getPrototypeOf(TooltipView.prototype),"render",this).call(this);var e=this.config.position,t=e.left,r=e.top;if(this._loadTemplate(this.model.data),this.d3.classed("active",!0),this.config.get("sticky")){var n=this.svg.node().querySelector("#"+this.config.clip).getBoundingClientRect(),o=this._container.getBoundingClientRect();t=n.left-o.left,this.config.position.left>o.width/2?t+=this.config.stickyMargin.left:t+=n.width-this.config.stickyMargin.right-this.width,r=n.top-o.top+(n.height/2-this.height/2)}this.place({left:t,top:r},this.config.get("placement")),this.el.style.height=this.config.height+"px"}}},{key:"hide",value:function(){this.d3.classed("active",!1)}},{key:"place",value:function(e,t){var r=e.left,n=e.top,i=this._container.offsetWidth,o=this._container.offsetHeight;switch(t){case"vertical":return n-this.height-10>0?this.place(e,"top"):n+this.height+10<o?this.place(e,"bottom"):this.place(e,"center");case"horizontal":return r+this.width+10<i?this.place(e,"right"):r-this.width-10>0?this.place(e,"left"):this.place(e,"center");case"top":r-=this.width/2,n=n-this.height-10;break;case"bottom":r-=this.width/2,n+=10;break;case"left":r=r-this.width-10,n-=this.height/2;break;case"right":r+=10,n-=this.height/2;break;case"center":r-=this.width/2,n-=this.height/2}this.el.style.left=r+"px",this.el.style.top=n+"px"}},{key:"_loadTemplate",value:function(e){var t=this.config.get("template")||y.default,r=this.config.get("formatter").bind(this.config)(e);i(TooltipView.prototype.__proto__||Object.getPrototypeOf(TooltipView.prototype),"render",this).call(this,t(r)),a.default.isNil(r.title)||(0,h.default)(this.d3.select(".tooltip-content").node(),r.title)}},{key:"width",get:function(){return this.el.offsetWidth}},{key:"height",get:function(){return this.el.offsetHeight}}],[{key:"Config",get:function(){return c.default}},{key:"Actions",get:function(){return{ToggleVisibility:d.default}}},{key:"isMaster",get:function(){return!1}}]),TooltipView}(l.default);t.default=_},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},a=r(1),u=_interopRequireDefault(a),l=r(0),s=_interopRequireWildcard(l),c=r(0),f=_interopRequireWildcard(c),d=r(85),p=_interopRequireDefault(d),h=r(5),g=_interopRequireDefault(h),y=r(12),_=_interopRequireDefault(y),v=r(13),b=_interopRequireDefault(v),m=r(14),w=_interopRequireDefault(m),k=r(73),C=_interopRequireDefault(k),O=r(4),P=_interopRequireDefault(O);r(191);var R=function(e){function TrafficMapView(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,TrafficMapView);var t=_possibleConstructorReturn(this,(TrafficMapView.__proto__||Object.getPrototypeOf(TrafficMapView)).call(this,e));return t._markers=[],t}return _inherits(TrafficMapView,e),i(TrafficMapView,[{key:"zoom",value:function(e){var t=this,r=u.default.keys(e)[0],n=e[r],i=this.config.get("map.locations"),o=this.config.get("accessors"),a=1e12,l=0,c=[];u.default.each(this.model.data,function(e){u.default.each(e.connections,function(e){if(n[0]<=e[r]&&e[r]<=n[1]){var s=e[o.id],f=u.default.find(t._linksData,{id:s});f||(f={id:s,bytes:e[o.width],source:u.default.find(i,{id:e[o.from]}),target:u.default.find(i,{id:e[o.to]}),trafficType:e.trafficType}),c.push(f)}e[o.width]<a&&(a=e[o.width]),e[o.width]>l&&(l=e[o.width])})}),this._linksData=c;var f=s.scaleLinear().domain([a,l]).range([1,10]);u.default.each(this._linksData,function(e){e.width=f(e[o.width])}),this._renderData()}},{key:"_renderData",value:function(){var e=this;if(this._linksData&&!u.default.isEmpty(this._linksData)){var t=this.d3.select(".links");t.empty()&&(this.d3.append("g").attr("class","markers"),this.d3.append("g").attr("class","links"),t=this.d3.select(".links"));var r=t.selectAll(this.selectors.link).data(this._linksData);r.enter().append("path").attr("class",this.selectorClass("link")).merge(r).attr("d",function(t){var r=e.config.project(t.source),n=e.config.project(t.target);return e._arc(r,n)}).attr("id",function(e){return"c"+e.id}).style("stroke-width",function(e){return e.width}).style("stroke",function(t){return e.config.getColor(t.trafficType)}),r.exit().remove(),this._initAnimationOverLinks()}}},{key:"_initAnimationOverLinks",value:function(){var e=this,t=this.config.get("markerSpacing"),r=this.config.get("markerSpeed"),n=this.config.get("markerEndAnimationSteps"),i=this.config.get("markerEndRadiusFactor");this._markerFinishedRadiusScale=s.scaleLinear().domain([0,n]).range([1,i]),this._markerFinishedOpacityScale=s.scaleLinear().domain([0,n]).range([1,0]),u.default.each(this._linksData,function(n){var i=e.d3.select("#c"+n.id).node();n.len=i.getTotalLength(),n.markers=0,n.pathNode=i,n.stepsBetweenMarkerRelease=t/r,u.default.has(n,"steps")||(n.steps=n.stepsBetweenMarkerRelease)}),u.default.each(this._markers,function(t){u.default.find(e._linksData,{id:t.link.id})||(t.finished=n)}),this._animationStarted||window.requestAnimationFrame(this._animateMarkers.bind(this)),this._animationStarted=!0}},{key:"_animateMarkers",value:function(){var e=this;if(this._animationStarted){var t=this.config.get("markerEndAnimationSteps"),r=this.config.get("markerSpeed");u.default.each(this._markers,function(e){e.offset+=r,e.offset>e.link.len&&(e.offset=e.link.len,e.finished++),e.offset<e.link.len&&e.finished&&(e.finished=t),e.point=e.link.pathNode.getPointAtLength(e.offset)}),this._markers=u.default.filter(this._markers,function(e){return e.finished<t}),u.default.each(this._linksData,function(t){if(++t.steps>t.stepsBetweenMarkerRelease){t.steps=0,t.markers++;var r=t.pathNode.getPointAtLength(0),n={id:t.id+"-"+t.markers,point:r,r:t.width/2,link:t,offset:0,finished:0};e._markers.push(n)}}),this._renderMarkers(),window.requestAnimationFrame(this._animateMarkers.bind(this))}}},{key:"_renderMarkers",value:function(){var e=this,t=this.d3.select(".markers"),r=t.selectAll(this.selectors.marker).data(this._markers);r.enter().append("circle").attr("class",this.selectorClass("marker")).merge(r).attr("cx",function(e){return e.point.x}).attr("cy",function(e){return e.point.y}).attr("r",function(t){return t.r*e._markerFinishedRadiusScale(t.finished)}).style("opacity",function(t){return e._markerFinishedOpacityScale(t.finished)}).style("fill",function(t){return e.config.getColor(t.link.trafficType)}).attr("id",function(e){return e.id}),r.exit().remove()}},{key:"remove",value:function(){o(TrafficMapView.prototype.__proto__||Object.getPrototypeOf(TrafficMapView.prototype),"remove",this).call(this),this._animationStarted=!1}},{key:"_onMousemoveLink",value:function(e,t){var r=f.mouse(this._container),i=n(r,2),o=i[0],a=i[1];P.default.fire("ToggleVisibility",this.config.get("tooltip"),!0,e,{left:o,top:a})}},{key:"_onMouseoutLink",value:function(e,t){P.default.fire("ToggleVisibility",this.config.get("tooltip"),!1)}},{key:"_onClickNode",value:function(e,t,r){}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return u.default.extend(o(TrafficMapView.prototype.__proto__||Object.getPrototypeOf(TrafficMapView.prototype),"selectors",this),{node:".node",link:".link",marker:".marker",active:".active",graticule:".graticule",feature:".feature",boundary:".boundary"})}},{key:"events",get:function(){return u.default.extend(o(TrafficMapView.prototype.__proto__||Object.getPrototypeOf(TrafficMapView.prototype),"events",this),{"click node":"_onClickNode","mousemove link":"_onMousemoveLink","mouseout link":"_onMouseoutLink"})}}],[{key:"Config",get:function(){return p.default}},{key:"Model",get:function(){return g.default}},{key:"Actions",get:function(){return{SelectColor:_.default,SelectKey:b.default,Zoom:w.default}}}]),TrafficMapView}(C.default);t.default=R},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=_interopRequireDefault(i),a=r(2),u=_interopRequireDefault(a),l=r(22),s=_interopRequireDefault(l),c=r(44),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(c),d=r(38),p=_interopRequireDefault(d),h=function(e){function CompositeView(){return _classCallCheck(this,CompositeView),_possibleConstructorReturn(this,(CompositeView.__proto__||Object.getPrototypeOf(CompositeView)).apply(this,arguments))}return _inherits(CompositeView,e),n(CompositeView,[{key:"setData",value:function(e){this.composite.setData(e)}},{key:"setConfig",value:function(e){var t=this;if(this.composite||(this.composite=new s.default),e.model&&e.model.type){var r=f[e.model.type];r&&(this._model=new r(e.model.config))}if(this._container=e.container||document.querySelector("#"+e.id),e.template){var n=document.createElement("template");n.innerHTML=e.template(),o.default.each(n.content.querySelectorAll("[component]"),function(e){e.setAttribute("id","cc-"+e.getAttribute("component"))}),this._container.append(document.importNode(n.content,!0))}e.title&&(0,p.default)(this._container,e.title),o.default.each(e.components,function(e,r){e.config.id=e.id,e.model=e.model||t._model,e.container=t._container.querySelector('[component="'+e.id+'"]')||t._container,e.config.order=r}),o.default.each(e.components,function(e){t.composite.add(e)})}},{key:"render",value:function(){o.default.each(this.composite.components,function(e){return e.render()})}},{key:"remove",value:function(){this.composite.remove()}},{key:"_onResize",value:function(){}}]),CompositeView}(u.default);t.default=h},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(2),l=_interopRequireDefault(u),s=r(86),c=_interopRequireDefault(s),f=r(5),d=_interopRequireDefault(f),p=r(4),h=_interopRequireDefault(p),g=r(14),y=_interopRequireDefault(g),_=r(61),v=_interopRequireDefault(_),b=r(34),m=_interopRequireDefault(b),w=r(89),k=_interopRequireDefault(w),C=r(36),O=_interopRequireDefault(C),P=function(e){function NavigationView(){var e;_classCallCheck(this,NavigationView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=NavigationView.__proto__||Object.getPrototypeOf(NavigationView)).call.apply(e,[this].concat(r)));return i._debouncedEnable=a.default.debounce(function(){i._disabled=!1},2*i.config.get("duration")),i}return _inherits(NavigationView,e),i(NavigationView,null,[{key:"Config",get:function(){return c.default}},{key:"Model",get:function(){return d.default}},{key:"Actions",get:function(){return{Zoom:y.default,Browse:v.default,ToggleHalt:m.default}}}]),i(NavigationView,[{key:"render",value:function(){n(NavigationView.prototype.__proto__||Object.getPrototypeOf(NavigationView.prototype),"render",this).call(this),this._yChart||(this._yChart=new k.default({config:{frozen:!0,height:this.config.get("height"),margin:this.config.get("margin"),duration:this.config.get("duration"),axes:this.config.get("axes"),plot:this.config.get("plot")},container:this.el,model:this.model}),this._yChart.render()),this._brush||(this._brush=new O.default({container:this.el,config:{isSharedContainer:!0,margin:this._yChart.config.margin,height:this.height}}),this.listenTo(this._brush,"selection",a.default.throttle(this._onSelection))),this._update()}},{key:"remove",value:function(){n(NavigationView.prototype.__proto__||Object.getPrototypeOf(NavigationView.prototype),"remove",this).call(this),this._components=[],this.stopListening(this._brush,"selection")}},{key:"zoom",value:function(e){var t=void 0;if(e){var r=e[this.config.get("plot.x.accessor")];if(!r||r[0]===r[1])return;var n=this.config.get("selectionScale"),i=this._yChart.config.xScale(r[0]),o=this._yChart.config.xScale(r[1]);t=[a.default.floor(n.invert(i)),a.default.ceil(n.invert(o))]}a.default.isEqual(this.config.get("selection"),t)||(this.config.set("selection",t,{silent:!0}),this._disabled=!0,this._update(),this._debouncedEnable())}},{key:"browse",value:function(e){var t=this._brush.config.get("selection").slice(),r=this._yChart.config.get("axes.x.scale");t[0]=r.invert(t[0]),t[1]=r.invert(t[1]);var n=this.config.get("browseMoveBy");"back"===e&&(n=-n),t[0]+=n,t[1]+=n,t[0]=r(t[0]),t[1]=r(t[1]),t[0]<r.range()[0]||t[1]>r.range()[1]||this._brush.move(t)}},{key:"setHalt",value:function(e){if(e)window.clearTimeout(this._timer);else{var t=this._brush.config.get("selection").slice(),r=this._yChart.config.get("axes.x.scale"),n=t[1]-t[0];t[0]=r.range()[0],t[1]=t[0]+n,this._brush.move(t),this._timer=window.setTimeout(this._animateBrush.bind(this),1e3)}}},{key:"_animateBrush",value:function(){this.browse("forward"),this._timer=window.setTimeout(this._animateBrush.bind(this),1e3)}},{key:"_onSelection",value:function(e){if(!this._disabled){var t=this.config.get("plot.x.accessor"),r=this._yChart.config.get("axes.x.scale"),n=r.invert(e[0]),i=r.invert(e[1]),o=this.config.get("selectionScale"),u=[a.default.floor(o.invert(e[0])),a.default.ceil(o.invert(e[1]))];this.config.set("selection",u,{silent:!0});var l=_defineProperty({},t,[n,i]);h.default.fire("Zoom",this.config.get("update"),l)}}},{key:"_onResize",value:function(){this._disabled=!0,this._debouncedEnable(),this._ticking||(window.requestAnimationFrame(this._update.bind(this)),this._ticking=!0)}},{key:"_update",value:function(){this._yChart.render();var e=this._yChart.config.get("axes.x.scale").range(),t=this._yChart.config.get("axes.y.scale").range();this._brush.config.set({selection:this.config.getSelectionRange(e),xRange:e,yRange:t},{silent:!0}),this._brush.render(),this._ticking=!1}}]),NavigationView}(l.default);t.default=P},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(2),c=_interopRequireDefault(s),f=r(87),d=_interopRequireDefault(f),p=r(5),h=_interopRequireDefault(p),g=r(22),y=_interopRequireDefault(g),_=r(4),v=_interopRequireDefault(_),b=r(12),m=_interopRequireDefault(b),w=r(13),k=_interopRequireDefault(w);r(192);var C=function(e){function CompositeRadialView(){var e;_classCallCheck(this,CompositeRadialView);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=CompositeRadialView.__proto__||Object.getPrototypeOf(CompositeRadialView)).call.apply(e,[this].concat(r)));return i._composite=new y.default,i}return _inherits(CompositeRadialView,e),i(CompositeRadialView,null,[{key:"Config",get:function(){return d.default}},{key:"Model",get:function(){return h.default}},{key:"Actions",get:function(){return{SelectColor:m.default,SelectKey:k.default}}}]),i(CompositeRadialView,[{key:"render",value:function(){var e=this;n(CompositeRadialView.prototype.__proto__||Object.getPrototypeOf(CompositeRadialView.prototype),"render",this).call(this),this._updateComponents(),this.config.calculateScales(this.model,this.innerWidth,this.innerHeight),this._renderAxes();var t=this._composite.getByType((0,a.default)(this.config.activeAccessors).map("chart").uniq().value());a.default.each(t,function(t){var r=e.config.getAngularAxisName(t.config.get("angular"));t.config.set("angular.scale",e.config.get("axes."+r+".scale"),{silent:!0}),t.config.set("angular.providedScale",!0,{silent:!0});var n=e.config.getRadialAxisName(t.config.get("radial"));t.config.set("radial.scale",e.config.get("axes."+n+".scale"),{silent:!0}),t.config.set("radial.providedScale",!0,{silent:!0}),t.render()}),this._showLegend(),this._ticking=!1}},{key:"remove",value:function(){this._composite.remove(),n(CompositeRadialView.prototype.__proto__||Object.getPrototypeOf(CompositeRadialView.prototype),"remove",this).call(this)}},{key:"_renderAxes",value:function(){var e=this,t=a.default.concat(this.config.activeAngularAxes,this.config.activeRadialAxes),r=this.svg.selectAll(this.selectors.axis).data(t,function(e){return e.name});r.enter().each(function(t){e._composite.add({type:"RadialAxis",config:e.config.getAxisConfig(t.name),container:e._container}).el.__data__=t}),r.each(function(t){var r=e._composite.get(t.id);r.config.set(e.config.getAxisConfig(t.name),{silent:!0}),r.render()}),r.exit().each(function(t){e._composite.remove(t.id)})}},{key:"_updateComponents",value:function(e){var t=this,r={frozen:!0,margin:this.config.margin,width:this.width,height:this.height};a.default.each(this.config.accessors,function(e){var r=t.config.getAngularAxisName(e);t.config.set("axes."+r+".calculatedDomain",void 0,{silent:!0});var n=t.config.getRadialAxisName(e);t.config.set("axes."+n+".calculatedDomain",void 0,{silent:!0})});var n=this.svg.selectAll(this.selectors.node).data(this.config.children,function(e){return e.key});n.enter().merge(n).each(function(e){var n=t.config.getComponentType(e.accessor);r.id=t.id+"-"+e.key,r.angular=a.default.merge({},e.accessor),r.radial=a.default.merge({},e.accessor),r.angular.accessor=e.accessor.angular,r.angular.axis=e.accessor.angularAxis,r.radial.accessor=e.accessor.radial,r.radial.axis=e.accessor.radialAxis,r.tooltip=e.accessor.tooltip,r.barPadding=e.accessor.barPadding;var i=t._composite.get(t.id+"-"+e.key);i?i.config.set(r,{silent:!0}):(i=t._composite.add({type:n,config:r,model:t.model,container:t._container}),i.d3.classed(t.selectorClass("node"),!0),i.el.__data__={key:e.key}),i.config.calculateScales(t.model,t.innerWidth,t.innerHeight);var o=t.config.getAngularAxisName(e.accessor),u=t.config.get("axes."+o+".calculatedDomain")||[];u=l.extent(u.concat(i.config.get("angular.calculatedDomain"))),t.config.set("axes."+o+".calculatedDomain",u,{silent:!0});var s=t.config.getRadialAxisName(e.accessor);u=t.config.get("axes."+s+".calculatedDomain")||[],u=l.extent(u.concat(i.config.get("radial.calculatedDomain"))),t.config.set("axes."+s+".calculatedDomain",u,{silent:!0})}),n.exit().each(function(e){t._composite.remove(t.id+"-"+e.key)})}},{key:"_showLegend",value:function(){var e=this,t=this.config.get("legend");if(t){var r={colorScheme:this.config.get("colorScheme")},n=a.default.map(this.config.accessors,function(t){return{key:t.angular+"-"+t.radial,disabled:t.disabled,label:e.config.getLabel(void 0,t),color:e.config.getColor(t),chartType:r.chartTypes?t.chart:void 0,axis:t.axis,shape:t.shape}});v.default.fire("ToggleVisibility",t,!0,n,r)}}},{key:"tagName",get:function(){return"g"}},{key:"selectors",get:function(){return a.default.extend(n(CompositeRadialView.prototype.__proto__||Object.getPrototypeOf(CompositeRadialView.prototype),"selectors",this),{node:".child",axis:".radial-axis",clip:"clipPath"})}},{key:"height",get:function(){return this.config.get("height")||this.width}}]),CompositeRadialView}(c.default);t.default=C},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function SelectChartType(e){_classCallCheck(this,SelectChartType);var t=_possibleConstructorReturn(this,(SelectChartType.__proto__||Object.getPrototypeOf(SelectChartType)).call(this,e));return t._deny=!1,t}return _inherits(SelectChartType,e),n(SelectChartType,[{key:"_execute",value:function(){var e;(e=this._registrar.config).setChartType.apply(e,arguments)}}]),SelectChartType}(o.default);t.default=a},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.actions=t.models=t.helpers=t.components=t.composites=void 0;var n=r(94),i=_interopRequireWildcard(n),o=r(44),a=_interopRequireWildcard(o),u=r(42),l=_interopRequireWildcard(u),s=r(43),c=_interopRequireWildcard(s),f=r(93),d=_interopRequireWildcard(f),p=r(24),h=_interopRequireWildcard(p);r(95),t.composites=c,t.components=l,t.helpers=i,t.models=a,t.actions=d,t.Util=h},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(1),a=_interopRequireDefault(o),u=r(41),l=_interopRequireDefault(u),s=function(e){function ContrailModel(){var e;_classCallCheck(this,ContrailModel);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=ContrailModel.__proto__||Object.getPrototypeOf(ContrailModel)).call.apply(e,[this].concat(r)));return i.attributes=a.default.defaultsDeep(i.attributes,i.defaults),i}return _inherits(ContrailModel,e),i(ContrailModel,[{key:"get",value:function(e){return a.default.get(this.attributes,e)}},{key:"set",value:function(e,t,r){if(null==e)return this;var i=void 0;if("object"===(void 0===e?"undefined":n(e))?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,u=r.silent,l=[],s=this._isChanging;this._isChanging=!0,s||(this._previousAttributes=a.default.clone(this.attributes),this.changed={});var c=this.attributes,f=this.changed,d=this._previousAttributes;for(var p in i){t=a.default.get(i,p);var h=a.default.get(c,p);if(a.default.isEqual(h,t)||l.push(p),a.default.isEqual(a.default.get(d,p),t)?this.changed=a.default.omit(f,p):a.default.set(f,p,t),o)this.attributes=a.default.omit(c,p);else{var g=a.default.isPlainObject(h)?a.default.extend(h,t):t;a.default.set(c,p,g)}}if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!u){l.length&&(this._pending=r);for(var y=0;y<l.length;y++)this.trigger("change:"+l[y],this,c[l[y]],r)}if(s)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._isChanging=!1,this}}]),ContrailModel}(l.default.Model);t.default=s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(1),a=_interopRequireDefault(o),u=r(41),l=_interopRequireDefault(u),s=r(92),c=_interopRequireDefault(s),f=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(f),p=r(4),h=_interopRequireDefault(p);d.selection.prototype.delegate=function(e,t,r){function delegated(){var e=(0,c.default)(d.event.target).closest(t)[0];e&&r.call(e,e.__data__,e,d.event)}return this.on(e,delegated)};var g=function(e){function ContrailView(e){_classCallCheck(this,ContrailView);var t=_possibleConstructorReturn(this,(ContrailView.__proto__||Object.getPrototypeOf(ContrailView)).call(this,e));return t.actionman=h.default,t}return _inherits(ContrailView,e),n(ContrailView,[{key:"selectorClass",value:function(e){return this.selectors[e].substr(1)}},{key:"isTagNameSvg",value:function(e){return a.default.includes(["g"],e)}},{key:"delegateEvents",value:function(e){if(e||(e=a.default.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(a.default.isFunction(r)||(r=this[r]),r){var n=t.match(this.delegateEventSplitter);this.delegate(n[1],n[2],r.bind(this),e[t])}}return this}},{key:"delegate",value:function(e,t,r,n){var i=e+"."+t+"."+n+".delegateEvents"+this.cid;return this.d3.delegate(i,this.selectors[t],r),this}},{key:"undelegateEvents",value:function(){return this}},{key:"undelegate",value:function(e,t,r){var n=r.name.split(" ")[1];return this.d3.on(e+"."+t+"."+n+".delegateEvents"+this.cid,null),this}},{key:"_createElement",value:function(e){return this.isTagNameSvg(e)?document.createElementNS("http://www.w3.org/2000/svg",e):i(ContrailView.prototype.__proto__||Object.getPrototypeOf(ContrailView.prototype),"_createElement",this).call(this,e)}},{key:"_setElement",value:function(e){i(ContrailView.prototype.__proto__||Object.getPrototypeOf(ContrailView.prototype),"_setElement",this).call(this,e),this.d3=d.select(e)}},{key:"type",get:function(){return this.constructor.name.slice(0,-4)}},{key:"className",get:function(){return this.constructor.name.slice(0,-4).replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"delegateEventSplitter",get:function(){return/^(\S+)\s*(.*)$/}}]),ContrailView}(l.default.View);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),i=r.n(n);r.d(t,"interpolate",function(){return i.a});var o=r(46),a=r.n(o);r.d(t,"interpolateArray",function(){return a.a});var u=r(27),l=r.n(u);r.d(t,"interpolateBasis",function(){return l.a});var s=r(47),c=r.n(s);r.d(t,"interpolateBasisClosed",function(){return c.a});var f=r(49),d=r.n(f);r.d(t,"interpolateDate",function(){return d.a});var p=r(20),h=r.n(p);r.d(t,"interpolateNumber",function(){return h.a});var g=r(50),y=r.n(g);r.d(t,"interpolateObject",function(){return y.a});var _=r(103),v=r.n(_);r.d(t,"interpolateRound",function(){return v.a});var b=r(52),m=r.n(b);r.d(t,"interpolateString",function(){return m.a});var w=r(105);r.n(w);r.o(w,"interpolateTransformCss")&&r.d(t,"interpolateTransformCss",function(){return w.interpolateTransformCss}),r.o(w,"interpolateTransformSvg")&&r.d(t,"interpolateTransformSvg",function(){return w.interpolateTransformSvg});var k=r(107),C=r.n(k);r.d(t,"interpolateZoom",function(){return C.a});var O=r(51),P=r.n(O);r.d(t,"interpolateRgb",function(){return P.a}),r.o(O,"rgbBasis")&&r.d(t,"interpolateRgbBasis",function(){return O.rgbBasis}),r.o(O,"rgbBasisClosed")&&r.d(t,"interpolateRgbBasisClosed",function(){return O.rgbBasisClosed});var R=r(100),M=r.n(R);r.d(t,"interpolateHsl",function(){return M.a}),r.o(R,"hslLong")&&r.d(t,"interpolateHslLong",function(){return R.hslLong});var x=r(101),j=r.n(x);r.d(t,"interpolateLab",function(){return j.a});var D=r(99),S=r.n(D);r.d(t,"interpolateHcl",function(){return S.a}),r.o(D,"hclLong")&&r.d(t,"interpolateHclLong",function(){return D.hclLong});var q=r(98),A=r.n(q);r.d(t,"interpolateCubehelix",function(){return A.a}),r.o(q,"cubehelixLong")&&r.d(t,"interpolateCubehelixLong",function(){return q.cubehelixLong});var E=r(102),V=r.n(E);r.d(t,"quantize",function(){return V.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(125),i=r.n(n);r.d(t,"sankey",function(){return i.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110),i=r.n(n);r.d(t,"nest",function(){return i.a});var o=r(111),a=r.n(o);r.d(t,"set",function(){return a.a});var u=r(29),l=r.n(u);r.d(t,"map",function(){return l.a});var s=r(109),c=r.n(s);r.d(t,"keys",function(){return c.a});var f=r(112),d=r.n(f);r.d(t,"values",function(){return d.a});var p=r(108),h=r.n(p);r.d(t,"entries",function(){return h.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),i=r.n(n);r.d(t,"interpolate",function(){return i.a});var o=r(54),a=r.n(o);r.d(t,"interpolateArray",function(){return a.a});var u=r(32),l=r.n(u);r.d(t,"interpolateBasis",function(){return l.a});var s=r(55),c=r.n(s);r.d(t,"interpolateBasisClosed",function(){return c.a});var f=r(57),d=r.n(f);r.d(t,"interpolateDate",function(){return d.a});var p=r(21),h=r.n(p);r.d(t,"interpolateNumber",function(){return h.a});var g=r(58),y=r.n(g);r.d(t,"interpolateObject",function(){return y.a});var _=r(120),v=r.n(_);r.d(t,"interpolateRound",function(){return v.a});var b=r(60),m=r.n(b);r.d(t,"interpolateString",function(){return m.a});var w=r(122);r.n(w);r.o(w,"interpolateTransformCss")&&r.d(t,"interpolateTransformCss",function(){return w.interpolateTransformCss}),r.o(w,"interpolateTransformSvg")&&r.d(t,"interpolateTransformSvg",function(){return w.interpolateTransformSvg});var k=r(124),C=r.n(k);r.d(t,"interpolateZoom",function(){return C.a});var O=r(59),P=r.n(O);r.d(t,"interpolateRgb",function(){return P.a}),r.o(O,"rgbBasis")&&r.d(t,"interpolateRgbBasis",function(){return O.rgbBasis}),r.o(O,"rgbBasisClosed")&&r.d(t,"interpolateRgbBasisClosed",function(){return O.rgbBasisClosed});var R=r(117),M=r.n(R);r.d(t,"interpolateHsl",function(){return M.a}),r.o(R,"hslLong")&&r.d(t,"interpolateHslLong",function(){return R.hslLong});var x=r(118),j=r.n(x);r.d(t,"interpolateLab",function(){return j.a});var D=r(116),S=r.n(D);r.d(t,"interpolateHcl",function(){return S.a}),r.o(D,"hclLong")&&r.d(t,"interpolateHclLong",function(){return D.hclLong});var q=r(115),A=r.n(q);r.d(t,"interpolateCubehelix",function(){return A.a}),r.o(q,"cubehelixLong")&&r.d(t,"interpolateCubehelixLong",function(){return q.cubehelixLong});var E=r(119),V=r.n(E);r.d(t,"quantize",function(){return V.a})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){var o,a=null!=t?t:{},u=r.helperMissing,l=e.escapeExpression;return'<div class="color-select" data-accessor="'+l((o=null!=(o=r.accessor||(null!=t?t.accessor:t))?o:u,"function"==typeof o?o.call(a,{name:"accessor",hash:{},data:i}):o))+'">\n  <span class="color-badge" style="background-color: '+l((o=null!=(o=r.color||(null!=t?t.color:t))?o:u,"function"==typeof o?o.call(a,{name:"color",hash:{},data:i}):o))+'"></span>\n  <span class="label">'+l((o=null!=(o=r.label||(null!=t?t.label:t))?o:u,"function"==typeof o?o.call(a,{name:"label",hash:{},data:i}):o))+"</span>\n</div>\n"},3:function(e,t,r,n,i){return'    <span class="color-picker-palette-color" style="background-color: '+e.escapeExpression(e.lambda(t,t))+'">&nbsp;</span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o,a=null!=t?t:{};return(null!=(o=r.each.call(a,null!=t?t.series:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'<div class="color-picker-palette hide">\n  <div class="color-picker-palette-header">\n    <span class="color-picker-palette-title"></span>\n  </div>\n  <div class="color-picker-palette-body">\n'+(null!=(o=r.each.call(a,null!=t?t.colors:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+"  </div>\n</div>\n"},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){return'<div class="opener"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o,a,u=null!=t?t:{},l=r.helperMissing,s=e.escapeExpression;return'<button title="'+s((a=null!=(a=r.title||(null!=t?t.title:t))?a:l,"function"==typeof a?a.call(u,{name:"title",hash:{},data:i}):a))+'">\n  <i class="'+s((a=null!=(a=r.icon||(null!=t?t.icon:t))?a:l,"function"==typeof a?a.call(u,{name:"icon",hash:{},data:i}):a))+'"></i>\n</button>\n'+(null!=(o=r.if.call(u,null!=t?t.component:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){return'<div class="control-panel-items"></div> \n<div class="panel hide"></div>\n'},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o,a=null!=t?t:{},u=r.helperMissing,l=e.escapeExpression;return'<div class="head">\n  <span class="head-icon"><i class="'+l((o=null!=(o=r.icon||(null!=t?t.icon:t))?o:u,"function"==typeof o?o.call(a,{name:"icon",hash:{},data:i}):o))+'"></i></span>\n  <span class="title">'+l((o=null!=(o=r.title||(null!=t?t.title:t))?o:u,"function"==typeof o?o.call(a,{name:"title",hash:{},data:i}):o))+'</span>\n  <span class="close"></span>\n</div>\n<div class="body">\n  <div class="control-panel-expanded-container"></div> \n</div>\n'},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){var o,a,u=null!=t?t:{},l=r.helperMissing,s=e.escapeExpression;return'  <div class="filter-item"> \n    <input id="filter-item-input-'+s((a=null!=(a=r.key||(null!=t?t.key:t))?a:l,"function"==typeof a?a.call(u,{name:"key",hash:{},data:i}):a))+'" class="filter-item-input" type="checkbox" name="filter" class="accessor-data-checkbox" value="'+s((a=null!=(a=r.key||(null!=t?t.key:t))?a:l,"function"==typeof a?a.call(u,{name:"key",hash:{},data:i}):a))+'" '+(null!=(o=r.if.call(u,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?o:"")+'> \n    <label for="filter-item-input-'+s((a=null!=(a=r.key||(null!=t?t.key:t))?a:l,"function"==typeof a?a.call(u,{name:"key",hash:{},data:i}):a))+'" class="accessor-data-checkbox-label">'+s((a=null!=(a=r.label||(null!=t?t.label:t))?a:l,"function"==typeof a?a.call(u,{name:"label",hash:{},data:i}):a))+"</label> \n  </div> \n"},2:function(e,t,r,n,i){return"checked"},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o;return'<div class="filter-items"> \n'+(null!=(o=r.each.call(null!=t?t:{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+"</div> \n"},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){return'<div class="edit-legend"><i class="icon-edit" aria-hidden="true"></i></div>'},3:function(e,t,r,n,i,o,a){var u,l,s=null!=t?t:{},c=r.helperMissing,f="function",d=e.escapeExpression;return'    <div class="key '+(null!=(u=r.if.call(s,null!=t?t.checked:t,{name:"if",hash:{},fn:e.program(4,i,0,o,a),inverse:e.noop,data:i}))?u:"")+'" data-key="'+d((l=null!=(l=r.key||(null!=t?t.key:t))?l:c,typeof l===f?l.call(s,{name:"key",hash:{},data:i}):l))+'">\n  \t\t<div class="edit-key">\n  \t\t\t<div class="select select--color" style="background-color: '+d((l=null!=(l=r.color||(null!=t?t.color:t))?l:c,typeof l===f?l.call(s,{name:"color",hash:{},data:i}):l))+"; border-color: "+d((l=null!=(l=r.color||(null!=t?t.color:t))?l:c,typeof l===f?l.call(s,{name:"color",hash:{},data:i}):l))+'" data-color="'+d((l=null!=(l=r.color||(null!=t?t.color:t))?l:c,typeof l===f?l.call(s,{name:"color",hash:{},data:i}):l))+'"><div class="triangle"></div></div>\n'+(null!=(u=r.if.call(s,null!=a[1]?a[1].chartTypes:a[1],{name:"if",hash:{},fn:e.program(6,i,0,o,a),inverse:e.noop,data:i}))?u:"")+'  \t\t</div>\n  \t\t<label class="legend-key checkbox">\n  \t\t\t<input type="checkbox" '+(null!=(u=r.if.call(s,null!=t?t.checked:t,{name:"if",hash:{},fn:e.program(8,i,0,o,a),inverse:e.noop,data:i}))?u:"")+" />\n"+(null!=(u=r.if.call(s,null!=t?t.shape:t,{name:"if",hash:{},fn:e.program(10,i,0,o,a),inverse:e.program(13,i,0,o,a),data:i}))?u:"")+(null!=(u=r.if.call(s,null!=t?t.axis:t,{name:"if",hash:{},fn:e.program(16,i,0,o,a),inverse:e.noop,data:i}))?u:"")+"        "+d((l=null!=(l=r.label||(null!=t?t.label:t))?l:c,typeof l===f?l.call(s,{name:"label",hash:{},data:i}):l))+"\n  \t\t</label>\n  \t</div>\n"},4:function(e,t,r,n,i){return"selected"},6:function(e,t,r,n,i){var o,a=null!=t?t:{},u=r.helperMissing,l=e.escapeExpression;return'  \t\t\t<div class="select select--chart fa '+l((o=null!=(o=r.icon||(null!=t?t.icon:t))?o:u,"function"==typeof o?o.call(a,{name:"icon",hash:{},data:i}):o))+'" data-chart-type="'+l((o=null!=(o=r.chartType||(null!=t?t.chartType:t))?o:u,"function"==typeof o?o.call(a,{name:"chartType",hash:{},data:i}):o))+'"><div class="triangle"></div></div>\n'},8:function(e,t,r,n,i){return" checked "},10:function(e,t,r,n,i){var o,a,u=null!=t?t:{};return'        <div class="indicator fa" style="'+(null!=(o=r.if.call(u,null!=t?t.checked:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?o:"")+'">'+(null!=(a=null!=(a=r.shape||(null!=t?t.shape:t))?a:r.helperMissing,o="function"==typeof a?a.call(u,{name:"shape",hash:{},data:i}):a)?o:"")+"</div>\n"},11:function(e,t,r,n,i){var o;return" color: "+e.escapeExpression((o=null!=(o=r.color||(null!=t?t.color:t))?o:r.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"color",hash:{},data:i}):o))+" "},13:function(e,t,r,n,i){var o,a,u=null!=t?t:{};return'        <div class="color-indicator" style="border-color: '+e.escapeExpression((a=null!=(a=r.color||(null!=t?t.color:t))?a:r.helperMissing,"function"==typeof a?a.call(u,{name:"color",hash:{},data:i}):a))+"; "+(null!=(o=r.if.call(u,null!=t?t.checked:t,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?o:"")+'"></div>\n'},14:function(e,t,r,n,i){var o;return" background-color: "+e.escapeExpression((o=null!=(o=r.color||(null!=t?t.color:t))?o:r.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"color",hash:{},data:i}):o))+" "},16:function(e,t,r,n,i){var o;return'        <span class="associate-axis">'+e.escapeExpression((o=null!=(o=r.axis||(null!=t?t.axis:t))?o:r.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"axis",hash:{},data:i}):o))+"</span>\n"},18:function(e,t,r,n,i){var o=e.lambda,a=e.escapeExpression;return'      <div class="switch switch--color" style="background-color: '+a(o(t,t))+"; border-color: "+a(o(t,t))+'" data-color="'+a(o(t,t))+'"></div>\n'},20:function(e,t,r,n,i){var o,a=null!=t?t:{},u=r.helperMissing,l=e.escapeExpression;return'      <div class="switch switch--chart fa '+l((o=null!=(o=r.icon||(null!=t?t.icon:t))?o:u,"function"==typeof o?o.call(a,{name:"icon",hash:{},data:i}):o))+'" data-chart-type="'+l((o=null!=(o=r.chartType||(null!=t?t.chartType:t))?o:u,"function"==typeof o?o.call(a,{name:"chartType",hash:{},data:i}):o))+'" data-axis="'+l((o=null!=(o=r.axisLabel||(null!=t?t.axisLabel:t))?o:u,"function"==typeof o?o.call(a,{name:"axisLabel",hash:{},data:i}):o))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i,o,a){var u,l=null!=t?t:{};return'<div class="legend-inner-container">\n  '+(null!=(u=r.if.call(l,null!=t?t.editable:t,{name:"if",hash:{},fn:e.program(1,i,0,o,a),inverse:e.noop,data:i}))?u:"")+'\n  <div class="keys">\n'+(null!=(u=r.each.call(l,null!=t?t.keys:t,{name:"each",hash:{},fn:e.program(3,i,0,o,a),inverse:e.noop,data:i}))?u:"")+'  </div>\n\n  <div class="selector">\n    <div class="switches switches--colors">\n'+(null!=(u=r.each.call(l,null!=t?t.colors:t,{name:"each",hash:{},fn:e.program(18,i,0,o,a),inverse:e.noop,data:i}))?u:"")+'    </div>\n\n    <div class="switches switches--charts">\n'+(null!=(u=r.each.call(l,null!=t?t.chartTypes:t,{name:"each",hash:{},fn:e.program(20,i,0,o,a),inverse:e.noop,data:i}))?u:"")+"    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){var o,a=null!=t?t:{},u=r.helperMissing,l=e.escapeExpression;return'<div class="legend-group">\n  <span class="color-indicator" style="background-color: '+l((o=null!=(o=r.color||(null!=t?t.color:t))?o:u,"function"==typeof o?o.call(a,{name:"color",hash:{},data:i}):o))+'">&nbsp;</span>\n  <span class="legend-label">'+l((o=null!=(o=r.label||(null!=t?t.label:t))?o:u,"function"==typeof o?o.call(a,{name:"label",hash:{},data:i}):o))+"</span>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o;return null!=(o=r.each.call(null!=t?t:{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:""},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){var o,a=e.escapeExpression;return'<div class="message-heading">\n  <i class="fa '+a((o=null!=(o=r.iconLevel||(null!=t?t.iconLevel:t))?o:r.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"iconLevel",hash:{},data:i}):o))+'" aria-hidden="true"></i>\n  <span class="message-title">\n      '+a(e.lambda(null!=t?t.title:t,t))+"\n  </span>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o;return(null!=(o=r.if.call(null!=t?t:{},null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'<div class="message-body">'+e.escapeExpression(e.lambda(null!=t?t.text:t,t))+"</div>\n"},useData:!0})},function(e,t,r){var n=r(10);e.exports=(n.default||n).template({1:function(e,t,r,n,i){var o,a,u=null!=t?t:{},l=r.helperMissing,s=e.escapeExpression;return'    <div class="tooltip-item">\n      '+(null!=(o=r.if.call(u,null!=t?t.color:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?o:"")+'\n      <span class="tooltip-item-label">'+s((a=null!=(a=r.label||(null!=t?t.label:t))?a:l,"function"==typeof a?a.call(u,{name:"label",hash:{},data:i}):a))+'</span>\n      <span class="tooltip-item-value">'+s((a=null!=(a=r.value||(null!=t?t.value:t))?a:l,"function"==typeof a?a.call(u,{name:"value",hash:{},data:i}):a))+"</span>\n    </div>\n"},2:function(e,t,r,n,i){var o;return'<span class="tooltip-item-color" style="background-color: '+e.escapeExpression((o=null!=(o=r.color||(null!=t?t.color:t))?o:r.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"color",hash:{},data:i}):o))+'" ></span>'},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,i){var o,a,u=null!=t?t:{},l=r.helperMissing,s=e.escapeExpression;return'<div class="tooltip-content" style="color: '+s((a=null!=(a=r.color||(null!=t?t.color:t))?a:l,"function"==typeof a?a.call(u,{name:"color",hash:{},data:i}):a))+"; background-color: "+s((a=null!=(a=r.backgroundColor||(null!=t?t.backgroundColor:t))?a:l,"function"==typeof a?a.call(u,{name:"backgroundColor",hash:{},data:i}):a))+'">\n  <div class="tooltip-items">\n'+(null!=(o=r.each.call(u,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+"  </div>\n</div>\n"},useData:!0})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function create(){var e=new i.HandlebarsEnvironment;return c.extend(e,i),e.SafeString=a.default,e.Exception=l.default,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=d,e.template=function(t){return d.template(t,e)},e}t.__esModule=!0;var n=r(91),i=_interopRequireWildcard(n),o=r(218),a=_interopRequireDefault(o),u=r(19),l=_interopRequireDefault(u),s=r(9),c=_interopRequireWildcard(s),f=r(217),d=_interopRequireWildcard(f),p=r(216),h=_interopRequireDefault(p),g=create();g.create=create,h.default(g),g.default=g,t.default=g,e.exports=t.default},function(e,t,r){"use strict";function registerDefaultDecorators(e){i.default(e)}t.__esModule=!0,t.registerDefaultDecorators=registerDefaultDecorators;var n=r(206),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9);t.default=function(e){e.registerDecorator("inline",function(e,t,r,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=r.partials;r.partials=n.extend({},a,t.partials);var u=e(i,o);return r.partials=a,u}),t.partials[i.args[0]]=i.fn,o})},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function registerDefaultHelpers(e){i.default(e),a.default(e),l.default(e),c.default(e),d.default(e),h.default(e),y.default(e)}t.__esModule=!0,t.registerDefaultHelpers=registerDefaultHelpers;var n=r(208),i=_interopRequireDefault(n),o=r(209),a=_interopRequireDefault(o),u=r(210),l=_interopRequireDefault(u),s=r(211),c=_interopRequireDefault(s),f=r(212),d=_interopRequireDefault(f),p=r(213),h=_interopRequireDefault(p),g=r(214),y=_interopRequireDefault(g)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,r){var i=r.inverse,o=r.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(n.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):i(this);if(r.data&&r.ids){var a=n.createFrame(r.data);a.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:a}}return o(t,r)})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9),i=r(19),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){e.registerHelper("each",function(e,t){function execIteration(t,i,o){l&&(l.key=t,l.index=i,l.first=0===i,l.last=!!o,s&&(l.contextPath=s+t)),u+=r(e[t],{data:l,blockParams:n.blockParams([e[t],t],[s+t,null])})}if(!t)throw new o.default("Must pass iterator to #each");var r=t.fn,i=t.inverse,a=0,u="",l=void 0,s=void 0;if(t.data&&t.ids&&(s=n.appendContextPath(t.data.contextPath,t.ids[0])+"."),n.isFunction(e)&&(e=e.call(this)),t.data&&(l=n.createFrame(t.data)),e&&"object"==typeof e)if(n.isArray(e))for(var c=e.length;a<c;a++)a in e&&execIteration(a,a,a===e.length-1);else{var f=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==f&&execIteration(f,a-1),f=d,a++);void 0!==f&&execIteration(f,a-1,!0)}return 0===a&&(u=i(this)),u})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(19),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9);t.default=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var i=1;null!=r.hash.level?i=r.hash.level:r.data&&null!=r.data.level&&(i=r.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9);t.default=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var r=t.fn;if(n.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=n.createFrame(t.data),i.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:i,blockParams:n.blockParams([e],[i&&i.contextPath])})})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(9),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console[t].apply(console,n)}}};t.default=i,e.exports=t.default},function(e,t,r){"use strict";(function(r){t.__esModule=!0,t.default=function(e){var t=void 0!==r?r:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}).call(t,r(220))},function(e,t,r){"use strict";function checkRevision(e){var t=e&&e[0]||1,r=u.COMPILER_REVISION;if(t!==r){if(t<r){var n=u.REVISION_CHANGES[r],i=u.REVISION_CHANGES[t];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function template(e,t){function invokePartialWrapper(r,n,o){o.hash&&(n=i.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),r=t.VM.resolvePartial.call(this,r,n,o);var u=t.VM.invokePartial.call(this,r,n,o);if(null==u&&t.compile&&(o.partials[o.name]=t.compile(r,e.compilerOptions,t),u=o.partials[o.name](n,o)),null!=u){if(o.indent){for(var l=u.split("\n"),s=0,c=l.length;s<c&&(l[s]||s+1!==c);s++)l[s]=o.indent+l[s];u=l.join("\n")}return u}throw new a.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function ret(t){function main(t){return""+e.main(r,t,r.helpers,r.partials,i,a,o)}var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;ret._setup(n),!n.partial&&e.useData&&(i=initData(t,i));var o=void 0,a=e.useBlockParams?[]:void 0;return e.useDepths&&(o=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(main=executeDecorators(e.main,main,r,n.depths||[],i,a))(t,n)}if(!t)throw new a.default("No environment passed to template");if(!e||!e.main)throw new a.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new a.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:invokePartialWrapper,fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,n,i){var o=this.programs[e],a=this.fn(e);return t||i||n||r?o=wrapProgram(this,e,a,t,r,n,i):o||(o=this.programs[e]=wrapProgram(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=i.extend({},t,e)),r},noop:t.VM.noop,compilerInfo:e.compiler};return ret.isTop=!0,ret._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators)))},ret._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new a.default("must pass block params");if(e.useDepths&&!o)throw new a.default("must pass parent depths");return wrapProgram(r,t,e[t],n,0,i,o)},ret}function wrapProgram(e,t,r,n,i,o,a){function prog(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=a;return a&&t!=a[0]&&(u=[t].concat(a)),r(e,t,e.helpers,e.partials,i.data||n,o&&[i.blockParams].concat(o),u)}return prog=executeDecorators(r,prog,e,a,n,o),prog.program=t,prog.depth=a?a.length:0,prog.blockParams=i||0,prog}function resolvePartial(e,t,r){if(e)e.call||r.name||(r.name=e,e=r.partials[e]);else if("@partial-block"===r.name){for(var n=r.data;n["partial-block"]===noop;)n=n._parent;e=n["partial-block"],n["partial-block"]=noop}else e=r.partials[r.name];return e}function invokePartial(e,t,r){r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var n=void 0;if(r.fn&&r.fn!==noop&&(r.data=u.createFrame(r.data),n=r.data["partial-block"]=r.fn,n.partials&&(r.partials=i.extend({},r.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new a.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}function noop(){return""}function initData(e,t){return t&&"root"in t||(t=t?u.createFrame(t):{},t.root=e),t}function executeDecorators(e,t,r,n,o,a){if(e.decorator){var u={};t=e.decorator(t,u,r,n&&n[0],o,a,n),i.extend(t,u)}return t}t.__esModule=!0,t.checkRevision=checkRevision,t.template=template,t.wrapProgram=wrapProgram,t.resolvePartial=resolvePartial,t.invokePartial=invokePartial,t.noop=noop;var n=r(9),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),o=r(19),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=r(91)},function(e,t,r){"use strict";function SafeString(e){this.string=e}t.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},t.default=SafeString,e.exports=t.default},function(e,t,r){!function(e,r){r(t)}(0,function(e){"use strict";function rotateArray(e,t,r,n){reverse(e,t,r),reverse(e,t,t+n),reverse(e,t+n,r)}function reverse(e,t,r){for(var n,i=t+(r---t>>1);t<i;++t,--r)n=e[t],e[t]=e[r],e[r]=n}function geomifyObject(e){return(e&&g.hasOwnProperty(e.type)?g[e.type]:geomifyGeometry)(e)}function geomifyFeature(e){var t=e.geometry;return null==t?e.type=null:(geomifyGeometry(t),e.type=t.type,t.geometries?e.geometries=t.geometries:t.coordinates&&(e.coordinates=t.coordinates),t.bbox&&(e.bbox=t.bbox)),delete e.geometry,e}function geomifyGeometry(e){return e?(y.hasOwnProperty(e.type)&&y[e.type](e),e):{type:null}}function hashArc(e){var t,r=e[0],n=e[1];return n<r&&(t=r,r=n,n=t),r+31*n}function equalArc(e,t){var r,n=e[0],i=e[1],o=t[0],a=t[1];return i<n&&(r=n,n=i,i=r),a<o&&(r=o,o=a,a=r),n===o&&i===a}function filterTrue(){return!0}function filterIdentity(e){return e}function filterNotNull(e){return null!=e.type}function feature$1(e,t){var r=t.id,n=t.bbox,i=null==t.properties?{}:t.properties,o=object(e,t);return null==r&&null==n?{type:"Feature",properties:i,geometry:o}:null==n?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:n,properties:i,geometry:o}}function object(e,t){function arc(e,t){t.length&&t.pop();for(var i=n[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(r(i[o].slice(),o));e<0&&P(t,a)}function point(e){return r(e.slice())}function line(e){for(var t=[],r=0,n=e.length;r<n;++r)arc(e[r],t);return t.length<2&&t.push(t[0].slice()),t}function ring(e){for(var t=line(e);t.length<4;)t.push(t[0].slice());return t}function polygon(e){return e.map(ring)}function geometry(e){var t,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(geometry)};case"Point":t=point(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(point);break;case"LineString":t=line(e.arcs);break;case"MultiLineString":t=e.arcs.map(line);break;case"Polygon":t=polygon(e.arcs);break;case"MultiPolygon":t=e.arcs.map(polygon);break;default:return null}return{type:r,coordinates:t}}var r=C(e),n=e.arcs;return geometry(t)}function meshArcs(e,t,r){var n,i,o;if(arguments.length>1)n=extractArcs(e,t,r);else for(i=0,n=new Array(o=e.arcs.length);i<o;++i)n[i]=i;return{type:"MultiLineString",arcs:M(e,n)}}function extractArcs(e,t,r){function extract0(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:n})}function extract1(e){e.forEach(extract0)}function extract2(e){e.forEach(extract1)}function extract3(e){e.forEach(extract2)}function geometry(e){switch(n=e,e.type){case"GeometryCollection":e.geometries.forEach(geometry);break;case"LineString":extract1(e.arcs);break;case"MultiLineString":case"Polygon":extract2(e.arcs);break;case"MultiPolygon":extract3(e.arcs)}}var n,i=[],o=[];return geometry(t),o.forEach(null==r?function(e){i.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}function planarRingArea(e){for(var t,r=-1,n=e.length,i=e[n-1],o=0;++r<n;)t=i,i=e[r],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)}function mergeArcs(e,t){function geometry(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(geometry);break;case"Polygon":extract(e.arcs);break;case"MultiPolygon":e.arcs.forEach(extract)}}function extract(e){e.forEach(function(t){t.forEach(function(t){(r[t=t<0?~t:t]||(r[t]=[])).push(e)})}),n.push(e)}function area(t){return planarRingArea(object(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var r={},n=[],i=[];return t.forEach(geometry),n.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,i.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){r[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),n.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:i.map(function(t){var n,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){r[e<0?~e:e].length<2&&i.push(e)})})}),i=M(e,i),(n=i.length)>1)for(var o,a,u=1,l=area(i[0]);u<n;++u)(o=area(i[u]))>l&&(a=i[0],i[0]=i[u],i[u]=a,l=o);return i})}}function planarTriangleArea(e){var t=e[0],r=e[1],n=e[2];return Math.abs((t[0]-n[0])*(r[1]-t[1])-(t[0]-r[0])*(n[1]-t[1]))}function planarRingArea$1(e){for(var t,r=-1,n=e.length,i=e[n-1],o=0;++r<n;)t=i,i=e[r],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)/2}function compare(e,t){return e[1][2]-t[1][2]}function quantile$1(e,t){if(r=e.length){if((t=+t)<=0||r<2)return e[0];if(t>=1)return e[r-1];var r,n=(r-1)*t,i=Math.floor(n),o=e[i];return o+(e[i+1]-o)*(n-i)}}function descending(e,t){return t-e}function sphericalRingArea(e,t){if(!e.length)return 0;var r,n,i,o,a,u,l,s=0,c=e[0],f=c[0]*z,d=(c[1]*z+F)/2,p=Y(d),h=Z(d);for(a=1,u=e.length;a<u;++a)c=e[a],r=f,f=c[0]*z,n=f-r,d=(c[1]*z+F)/2,i=p,p=Y(d),o=h,h=Z(d),l=o*h,s+=G(l*Z(n),i*p+l*Y(n));return s=2*(s>B?s-F:s<-B?s+F:s),t&&(s*=-1),s<0?s+W:s}function sphericalTriangleArea(e){var t=e[0][0]*z,r=e[0][1]*z,n=Y(r),i=Z(r),o=e[1][0]*z,a=e[1][1]*z,u=Y(a),l=Z(a),s=e[2][0]*z,c=e[2][1]*z,f=Y(c),d=Z(c),p=distance(t,n,i,o,u,l),h=distance(o,u,l,s,f,d),g=distance(s,f,d,t,n,i),y=(p+h+g)/2;return 4*I($(X(0,K(y/2)*K((y-p)/2)*K((y-h)/2)*K((y-g)/2))))}function distance(e,t,r,n,i,o){var a=H(n-e),u=Y(a),l=Z(a),s=o*l,c=r*i-t*o*u,f=t*i+r*o*u;return G($(s*s+c*c),f)}var t=function(e){function boundGeometry(e){e&&o.hasOwnProperty(e.type)&&o[e.type](e)}function boundPoint(e){var o=e[0],a=e[1];o<t&&(t=o),o>n&&(n=o),a<r&&(r=a),a>i&&(i=a)}function boundLine(e){e.forEach(boundPoint)}function boundMultiLine(e){e.forEach(boundLine)}var t=1/0,r=1/0,n=-1/0,i=-1/0,o={GeometryCollection:function(e){e.geometries.forEach(boundGeometry)},Point:function(e){boundPoint(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(boundPoint)},LineString:function(e){boundLine(e.coordinates)},MultiLineString:function(e){e.coordinates.forEach(boundLine)},Polygon:function(e){e.coordinates.forEach(boundLine)},MultiPolygon:function(e){e.coordinates.forEach(boundMultiLine)}};for(var a in e)boundGeometry(e[a]);return n>=t&&i>=r?[t,r,n,i]:void 0},r=function(e,t,r,n,i){function add(n){for(var u=t(n)&a,l=o[u],s=0;l!=i;){if(r(l,n))return!0;if(++s>=e)throw new Error("full hashset");l=o[u=u+1&a]}return o[u]=n,!0}function has(n){for(var u=t(n)&a,l=o[u],s=0;l!=i;){if(r(l,n))return!0;if(++s>=e)break;l=o[u=u+1&a]}return!1}function values(){for(var e=[],t=0,r=o.length;t<r;++t){var n=o[t];n!=i&&e.push(n)}return e}3===arguments.length&&(n=Array,i=null);for(var o=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,u=0;u<e;++u)o[u]=i;return{add:add,has:has,values:values}},n=function(e,t,r,n,i,o){function set(n,o){for(var s=t(n)&l,c=a[s],f=0;c!=i;){if(r(c,n))return u[s]=o;if(++f>=e)throw new Error("full hashmap");c=a[s=s+1&l]}return a[s]=n,u[s]=o,o}function maybeSet(n,o){for(var s=t(n)&l,c=a[s],f=0;c!=i;){if(r(c,n))return u[s];if(++f>=e)throw new Error("full hashmap");c=a[s=s+1&l]}return a[s]=n,u[s]=o,o}function get(n,o){for(var s=t(n)&l,c=a[s],f=0;c!=i;){if(r(c,n))return u[s];if(++f>=e)break;c=a[s=s+1&l]}return o}function keys(){for(var e=[],t=0,r=a.length;t<r;++t){var n=a[t];n!=i&&e.push(n)}return e}3===arguments.length&&(n=o=Array,i=null);for(var a=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),u=new o(e),l=e-1,s=0;s<e;++s)a[s]=i;return{set:set,maybeSet:maybeSet,get:get,keys:keys}},i=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o=new ArrayBuffer(16),a=new Float64Array(o),u=new Uint32Array(o),l=function(e){a[0]=e[0],a[1]=e[1];var t=u[0]^u[1];return 2147483647&(t=t<<5^t>>7^u[2]^u[3])},s=function(e){function sequence(e,t,r,n){if(h[r]!==e){h[r]=e;var i=g[r];if(i>=0){var o=y[r];i===t&&o===n||i===n&&o===t||(++v,_[r]=1)}else g[r]=t,y[r]=n}}function hashIndex(e){return l(c[e])}function equalIndex(e,t){return i(c[e],c[t])}var t,o,a,u,s,c=e.coordinates,f=e.lines,d=e.rings,p=function(){for(var e=n(1.4*c.length,hashIndex,equalIndex,Int32Array,-1,Int32Array),t=new Int32Array(c.length),r=0,i=c.length;r<i;++r)t[r]=e.maybeSet(r,r);return t}(),h=new Int32Array(c.length),g=new Int32Array(c.length),y=new Int32Array(c.length),_=new Int8Array(c.length),v=0;for(t=0,o=c.length;t<o;++t)h[t]=g[t]=y[t]=-1;for(t=0,o=f.length;t<o;++t){var b=f[t],m=b[0],w=b[1];for(u=p[m],s=p[++m],++v,_[u]=1;++m<=w;)sequence(t,a=u,u=s,s=p[m]);++v,_[s]=1}for(t=0,o=c.length;t<o;++t)h[t]=-1;for(t=0,o=d.length;t<o;++t){var k=d[t],C=k[0]+1,O=k[1];for(a=p[O-1],u=p[C-1],s=p[C],sequence(t,a,u,s);++C<=O;)sequence(t,a=u,u=s,s=p[C])}h=g=y=null;var P,R=r(1.4*v,l,i);for(t=0,o=c.length;t<o;++t)_[P=p[t]]&&R.add(c[P]);return R},c=function(e){var t,r,n,i=s(e),o=e.coordinates,a=e.lines,u=e.rings;for(r=0,n=a.length;r<n;++r)for(var l=a[r],c=l[0],f=l[1];++c<f;)i.has(o[c])&&(t={0:c,1:l[1]},l[1]=c,l=l.next=t);for(r=0,n=u.length;r<n;++r)for(var d=u[r],p=d[0],h=p,g=d[1],y=i.has(o[p]);++h<g;)i.has(o[h])&&(y?(t={0:h,1:d[1]},d[1]=h,d=d.next=t):(rotateArray(o,p,g,g-h),o[g]=o[p],y=!0,h=p));return e},f=function(e){function dedupLine(e){var t,r,n,i,o,a,l,s;if(n=d.get(t=u[e[0]]))for(l=0,s=n.length;l<s;++l)if(i=n[l],equalLine(i,e))return e[0]=i[0],void(e[1]=i[1]);if(o=d.get(r=u[e[1]]))for(l=0,s=o.length;l<s;++l)if(a=o[l],reverseEqualLine(a,e))return e[1]=a[0],void(e[0]=a[1]);n?n.push(e):d.set(t,[e]),o?o.push(e):d.set(r,[e]),p.push(e)}function equalLine(e,t){var r=e[0],n=t[0],o=e[1];if(r-o!=n-t[1])return!1;for(;r<=o;++r,++n)if(!i(u[r],u[n]))return!1;return!0}function reverseEqualLine(e,t){var r=e[0],n=t[0],o=e[1],a=t[1];if(r-o!=n-a)return!1;for(;r<=o;++r,--a)if(!i(u[r],u[a]))return!1;return!0}function equalRing(e,t){var r=e[0],n=t[0],o=e[1],a=t[1],l=o-r;if(l!==a-n)return!1;for(var s=findMinimumOffset(e),c=findMinimumOffset(t),f=0;f<l;++f)if(!i(u[r+(f+s)%l],u[n+(f+c)%l]))return!1;return!0}function reverseEqualRing(e,t){var r=e[0],n=t[0],o=e[1],a=t[1],l=o-r;if(l!==a-n)return!1;for(var s=findMinimumOffset(e),c=l-findMinimumOffset(t),f=0;f<l;++f)if(!i(u[r+(f+s)%l],u[a-(f+c)%l]))return!1;return!0}function findMinimumOffset(e){for(var t=e[0],r=e[1],n=t,i=n,o=u[n];++n<r;){var a=u[n];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=n,o=a)}return i-t}var t,r,o,a,u=e.coordinates,s=e.lines,c=e.rings,f=s.length+c.length;for(delete e.lines,delete e.rings,o=0,a=s.length;o<a;++o)for(t=s[o];t=t.next;)++f;for(o=0,a=c.length;o<a;++o)for(r=c[o];r=r.next;)++f;var d=n(2*f*1.4,l,i),p=e.arcs=[];for(o=0,a=s.length;o<a;++o){t=s[o];do{dedupLine(t)}while(t=t.next)}for(o=0,a=c.length;o<a;++o)if(r=c[o],r.next)do{dedupLine(r)}while(r=r.next);else!function(e){var t,r,n,i,o;if(r=d.get(t=u[e[0]]))for(i=0,o=r.length;i<o;++i){if(n=r[i],equalRing(n,e))return e[0]=n[0],void(e[1]=n[1]);if(reverseEqualRing(n,e))return e[0]=n[1],void(e[1]=n[0])}if(r=d.get(t=u[e[0]+findMinimumOffset(e)]))for(i=0,o=r.length;i<o;++i){if(n=r[i],equalRing(n,e))return e[0]=n[0],void(e[1]=n[1]);if(reverseEqualRing(n,e))return e[0]=n[1],void(e[1]=n[0])}r?r.push(e):d.set(t,[e]),p.push(e)}(r);return e},d=function(e){for(var t=e.arcs,r=-1,n=t.length;++r<n;)for(var i,o,a=t[r],u=0,l=a.length,s=a[0],c=s[0],f=s[1];++u<l;)s=a[u],i=s[0],o=s[1],a[u]=[i-c,o-f],c=i,f=o;return e},p=function(e){function extractGeometry(e){e&&o.hasOwnProperty(e.type)&&o[e.type](e)}function extractLine(e){for(var n=0,o=e.length;n<o;++n)i[++t]=e[n];var a={0:t-o+1,1:t};return r.push(a),a}function extractRing(e){for(var r=0,o=e.length;r<o;++r)i[++t]=e[r];var a={0:t-o+1,1:t};return n.push(a),a}function extractMultiRing(e){return e.map(extractRing)}var t=-1,r=[],n=[],i=[],o={GeometryCollection:function(e){e.geometries.forEach(extractGeometry)},LineString:function(e){e.arcs=extractLine(e.coordinates),delete e.coordinates},MultiLineString:function(e){e.arcs=e.coordinates.map(extractLine),delete e.coordinates},Polygon:function(e){e.arcs=e.coordinates.map(extractRing),delete e.coordinates},MultiPolygon:function(e){e.arcs=e.coordinates.map(extractMultiRing),delete e.coordinates}};for(var a in e)extractGeometry(e[a]);return{type:"Topology",coordinates:i,lines:r,rings:n,objects:e}},h=function(e){var t;for(t in e)e[t]=geomifyObject(e[t]);return e},g={Feature:geomifyFeature,FeatureCollection:function(e){return e.type="GeometryCollection",e.geometries=e.features,e.features.forEach(geomifyFeature),delete e.features,e}},y={GeometryCollection:function(e){for(var t=e.geometries,r=-1,n=t.length;++r<n;)t[r]=geomifyGeometry(t[r])},MultiPoint:function(e){e.coordinates.length?e.coordinates.length<2&&(e.type="Point",e.coordinates=e.coordinates[0]):(e.type=null,delete e.coordinates)},LineString:function(e){e.coordinates.length||(e.type=null,delete e.coordinates)},MultiLineString:function(e){for(var t=e.coordinates,r=0,n=0,i=t.length;r<i;++r){var o=t[r];o.length&&(t[n++]=o)}n?n<2?(e.type="LineString",e.coordinates=t[0]):e.coordinates.length=n:(e.type=null,delete e.coordinates)},Polygon:function(e){for(var t=e.coordinates,r=0,n=0,i=t.length;r<i;++r){var o=t[r];o.length&&(t[n++]=o)}n?e.coordinates.length=n:(e.type=null,delete e.coordinates)},MultiPolygon:function(e){for(var t=e.coordinates,r=0,n=0,i=t.length;r<i;++r){for(var o=t[r],a=0,u=0,l=o.length;a<l;++a){var s=o[a];s.length&&(o[u++]=s)}u&&(o.length=u,t[n++]=o)}n?n<2?(e.type="Polygon",e.coordinates=t[0]):t.length=n:(e.type=null,delete e.coordinates)}},_=function(e,t,r){function quantizePoint(e){return e[0]=Math.round((e[0]-n)*u),e[1]=Math.round((e[1]-i)*l),e}function quantizeLine(e){for(var t,r,n,i=0,o=1,a=e.length,u=quantizePoint(e[0]),l=u[0],s=u[1];++i<a;)u=quantizePoint(e[i]),r=u[0],n=u[1],r===l&&n===s||(t=e[o++],t[0]=l=r,t[1]=s=n);e.length=o}function quantizeGeometry(e){e&&s.hasOwnProperty(e.type)&&s[e.type](e)}var n=t[0],i=t[1],o=t[2],a=t[3],u=o-n?(r-1)/(o-n):1,l=a-i?(r-1)/(a-i):1,s={GeometryCollection:function(e){e.geometries.forEach(quantizeGeometry)},Point:function(e){quantizePoint(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(quantizePoint)},LineString:function(e){var t=e.coordinates;quantizeLine(t),t.length<2&&(t[1]=t[0])},MultiLineString:function(e){for(var t=e.coordinates,r=0,n=t.length;r<n;++r){var i=t[r];quantizeLine(i),i.length<2&&(i[1]=i[0])}},Polygon:function(e){for(var t=e.coordinates,r=0,n=t.length;r<n;++r){var i=t[r];for(quantizeLine(i);i.length<4;)i.push(i[0])}},MultiPolygon:function(e){for(var t=e.coordinates,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;++o){var u=i[o];for(quantizeLine(u);u.length<4;)u.push(u[0])}}};for(var c in e)quantizeGeometry(e[c]);return{scale:[1/u,1/l],translate:[n,i]}},v=function(e,r){function indexGeometry(e){e&&s.hasOwnProperty(e.type)&&s[e.type](e)}function indexArcs(e){var t=[];do{var r=l.get(e);t.push(e[0]<e[1]?r:~r)}while(e=e.next);return t}function indexMultiArcs(e){return e.map(indexArcs)}var i=t(h(e)),o=r>0&&i&&_(e,i,r),a=f(c(p(e))),u=a.coordinates,l=n(1.4*a.arcs.length,hashArc,equalArc);e=a.objects,a.bbox=i,a.arcs=a.arcs.map(function(e,t){return l.set(e,t),u.slice(e[0],e[1]+1)}),delete a.coordinates,u=null;var s={GeometryCollection:function(e){e.geometries.forEach(indexGeometry)},LineString:function(e){e.arcs=indexArcs(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(indexArcs)},Polygon:function(e){e.arcs=e.arcs.map(indexArcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(indexMultiArcs)}};for(var g in e)indexGeometry(e[g]);return o&&(a.transform=o,d(a)),a},b=function(e){function pruneGeometry(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(pruneGeometry);break;case"LineString":pruneArcs(e.arcs);break;case"MultiLineString":case"Polygon":e.arcs.forEach(pruneArcs);break;case"MultiPolygon":e.arcs.forEach(pruneMultiArcs)}}function pruneArcs(e){for(var t=0,a=e.length;t<a;++t){var u,l=e[t],s=l<0&&(l=~l,!0);null==(u=o[l])&&(o[l]=u=++i,n[u]=r[l]),e[t]=s?~u:u}}function pruneMultiArcs(e){e.forEach(pruneArcs)}var t,r=e.arcs,n=e.arcs=[],i=-1,o=new Array(r.length);for(t in e.objects)pruneGeometry(e.objects[t]);return e},m=function(e,t){function filterGeometry(e){switch(e.type){case"Polygon":e.arcs=filterRings(e.arcs),e.arcs||(e.type=null,delete e.arcs);break;case"MultiPolygon":e.arcs=e.arcs.map(filterRings).filter(filterIdentity),e.arcs.length||(e.type=null,delete e.arcs);break;case"GeometryCollection":e.geometries.forEach(filterGeometry),e.geometries=e.geometries.filter(filterNotNull),e.geometries.length||(e.type=null,delete e.geometries)}}function filterRings(e){return e.length&&filterExteriorRing(e[0])?[e.shift()].concat(e.filter(filterInteriorRing)):null}function filterExteriorRing(e){return t(e,!1)}function filterInteriorRing(e){return t(e,!0)}var r;null==t&&(t=filterTrue);for(r in e.objects)filterGeometry(e.objects[r]);return b(e)},w=function(e){function testGeometry(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(testGeometry);break;case"Polygon":testArcs(e.arcs);break;case"MultiPolygon":e.arcs.forEach(testArcs)}}function testArcs(e){for(var t=0,i=e.length;t<i;++t,++n)for(var o=e[t],a=0,u=o.length;a<u;++a){var l=o[a];l<0&&(l=~l);var s=r[l];r[l]=s>=0&&s!==n?-1:n}}var t,r={},n=0;for(t in e.objects)testGeometry(e.objects[t]);return function(e){for(var t,n=0,i=e.length;n<i;++n)if(t=e[n],r[t<0?~t:t]<0)return!0;return!1}},k=function(e){return e},C=function(e){if(null==(t=e.transform))return k;var t,r,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(e,t){return t||(r=n=0),e[0]=(r+=e[0])*i+a,e[1]=(n+=e[1])*o+u,e}},O=function(e){function bboxPoint(e){o[0]=e[0],o[1]=e[1],i(o),o[0]<a&&(a=o[0]),o[0]>l&&(l=o[0]),o[1]<u&&(u=o[1]),o[1]>s&&(s=o[1])}function bboxGeometry(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(bboxGeometry);break;case"Point":bboxPoint(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(bboxPoint)}}var t=e.bbox;if(!t){var r,n,i=C(e),o=new Array(2),a=1/0,u=a,l=-a,s=-a;e.arcs.forEach(function(e){for(var t=-1,n=e.length;++t<n;)r=e[t],o[0]=r[0],o[1]=r[1],i(o,t),o[0]<a&&(a=o[0]),o[0]>l&&(l=o[0]),o[1]<u&&(u=o[1]),o[1]>s&&(s=o[1])});for(n in e.objects)bboxGeometry(e.objects[n]);t=e.bbox=[a,u,l,s]}return t},P=function(e,t){for(var r,n=e.length,i=n-t;i<--n;)r=e[i],e[i++]=e[n],e[n]=r},R=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return feature$1(e,t)})}:feature$1(e,t)},M=function(e,t){function ends(t){var r,n=e.arcs[t<0?~t:t],i=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],t<0?[r,i]:[i,r]}function flush(e,t){for(var n in e){var i=e[n];delete t[i.start],delete i.start,delete i.end,i.forEach(function(e){r[e<0?~e:e]=1}),o.push(i)}}var r={},n={},i={},o=[],a=-1;return t.forEach(function(r,n){var i,o=e.arcs[r<0?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=r,t[n]=i)}),t.forEach(function(e){var t,r,o=ends(e),a=o[0],u=o[1];if(t=i[a])if(delete i[t.end],t.push(e),t.end=u,r=n[u]){delete n[r.start];var l=r===t?t:t.concat(r);n[l.start=t.start]=i[l.end=r.end]=l}else n[t.start]=i[t.end]=t;else if(t=n[u])if(delete n[t.start],t.unshift(e),t.start=a,r=i[a]){delete i[r.end];var s=r===t?t:r.concat(t);n[s.start=r.start]=i[s.end=t.end]=s}else n[t.start]=i[t.end]=t;else t=[e],n[t.start=a]=i[t.end=u]=t}),flush(i,n),flush(n,i),t.forEach(function(e){r[e<0?~e:e]||o.push([e])}),o},x=function(e){return object(e,meshArcs.apply(this,arguments))},j=function(e){return object(e,mergeArcs.apply(this,arguments))},D=function(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;e[i]<t?r=i+1:n=i}return r},S=function(e){function line(e,r){e.forEach(function(e){e<0&&(e=~e);var n=t[e];n?n.push(r):t[e]=[r]})}function polygon(e,t){e.forEach(function(e){line(e,t)})}function geometry(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){geometry(e,t)}):e.type in n&&n[e.type](e.arcs,t)}var t={},r=e.map(function(){return[]}),n={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(e,t){e.forEach(function(e){polygon(e,t)})}};e.forEach(geometry);for(var i in t)for(var o=t[i],a=o.length,u=0;u<a;++u)for(var l=u+1;l<a;++l){var s,c=o[u],f=o[l];(s=r[c])[i=D(s,f)]!==f&&s.splice(i,0,f),(s=r[f])[i=D(s,c)]!==c&&s.splice(i,0,c)}return r},q=function(e,t){function quantizePoint(e){e[0]=Math.round((e[0]-i)/o),e[1]=Math.round((e[1]-a)/u)}function quantizeGeometry(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(quantizeGeometry);break;case"Point":quantizePoint(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(quantizePoint)}}if(!((t=Math.floor(t))>=2))throw new Error("n must be 2");if(e.transform)throw new Error("already quantized");var r,n=O(e),i=n[0],o=(n[2]-i)/(t-1)||1,a=n[1],u=(n[3]-a)/(t-1)||1;e.arcs.forEach(function(e){for(var t,r,n,l=1,s=1,c=e.length,f=e[0],d=f[0]=Math.round((f[0]-i)/o),p=f[1]=Math.round((f[1]-a)/u);l<c;++l)f=e[l],r=Math.round((f[0]-i)/o),n=Math.round((f[1]-a)/u),r===d&&n===p||(t=e[s++],t[0]=r-d,d=r,t[1]=n-p,p=n);s<2&&(t=e[s++],t[0]=0,t[1]=0),e.length=s});for(r in e.objects)quantizeGeometry(e.objects[r]);return e.transform={scale:[o,u],translate:[i,a]},e},A=function(e){if(null==(t=e.transform))return k;var t,r,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(e,t){t||(r=n=0);var l=Math.round((e[0]-a)/i),s=Math.round((e[1]-u)/o);return e[0]=l-r,r=l,e[1]=s-n,n=s,e}},E=function(e,t,r){return t=null==t?Number.MIN_VALUE:+t,null==r&&(r=planarRingArea$1),function(n,i){return r(R(e,{type:"Polygon",arcs:[n]}).geometry.coordinates[0],i)>=t}},V=function(){function up(e,r){for(;r>0;){var n=(r+1>>1)-1,i=t[n];if(compare(e,i)>=0)break;t[i._=r]=i,t[e._=r=n]=e}}function down(e,n){for(;;){var i=n+1<<1,o=i-1,a=n,u=t[a];if(o<r&&compare(t[o],u)<0&&(u=t[a=o]),i<r&&compare(t[i],u)<0&&(u=t[a=i]),a===n)break;t[u._=n]=u,t[e._=n=a]=e}}var e={},t=[],r=0;return e.push=function(e){return up(t[e._=r]=e,r++),r},e.pop=function(){if(!(r<=0)){var e,n=t[0];return--r>0&&(e=t[r],down(t[e._=0]=e,0)),n}},e.remove=function(e){var n,i=e._;if(t[i]===e)return i!==--r&&(n=t[r],(compare(n,e)<0?up:down)(t[n._=i]=n,i)),i},e},T=function(e,t){function update(e){i.remove(e),e[1][2]=t(e),i.push(e)}var r=C(e),n=A(e),i=V();return null==t&&(t=planarTriangleArea),e.arcs.forEach(function(e){var o,a,u,l=[],s=0;for(e.forEach(r),a=1,u=e.length-1;a<u;++a)o=e.slice(a-1,a+2),o[1][2]=t(o),l.push(o),i.push(o);for(e[0][2]=e[u][2]=1/0,a=0,u=l.length;a<u;++a)o=l[a],o.previous=l[a-1],o.next=l[a+1];for(;o=i.pop();){var c=o.previous,f=o.next;o[1][2]<s?o[1][2]=s:s=o[1][2],c&&(c.next=f,c[2]=o[2],update(c)),f&&(f.previous=c,f[0]=o[0],update(f))}e.forEach(n)}),e},L=function(e,t){var r=[];return e.arcs.forEach(function(e){e.forEach(function(e){isFinite(e[2])&&r.push(e[2])})}),r.length&&quantile$1(r.sort(descending),t)},N=function(e,t){return t=null==t?Number.MIN_VALUE:+t,e.arcs.forEach(e.transform?function(e){for(var r,n,i=0,o=0,a=-1,u=-1,l=e.length;++a<l;)r=e[a],r[2]>=t?(n=e[++u],n[0]=r[0]+i,n[1]=r[1]+o,i=o=0):(i+=r[0],o+=r[1]);e.length=++u}:function(e){for(var r,n=-1,i=-1,o=e.length;++n<o;)r=e[n],r[2]>=t&&(e[++i]=r);e.length=++i}),e.arcs.forEach(e.transform?function(e){var t=0,r=0,n=e.length,i=e[0];for(i.length=2;++t<n;)i=e[t],i.length=2,(i[0]||i[1])&&(e[++r]=i);e.length=(r||1)+1}:function(e){var t,r,n=0,i=0,o=e.length,a=e[0],u=a[0],l=a[1];for(a.length=2;++n<o;)a=e[n],t=a[0],r=a[1],a.length=2,u===t&&l===r||(e[++i]=a,u=t,l=r);e.length=(i||1)+1}),e},B=Math.PI,F=2*B,W=4*B,z=B/180,H=Math.abs,I=Math.atan,G=Math.atan2,Y=Math.cos,X=Math.max,Z=Math.sin,$=Math.sqrt,K=Math.tan;e.topology=v,e.filter=m,e.filterAttached=w,e.filterWeight=E,e.planarRingArea=planarRingArea$1,e.planarTriangleArea=planarTriangleArea,e.presimplify=T,e.quantile=L,e.simplify=N,e.sphericalRingArea=sphericalRingArea,e.sphericalTriangleArea=sphericalTriangleArea,e.bbox=O,e.feature=R,e.merge=j,e.mergeArcs=mergeArcs,e.mesh=x,e.meshArcs=meshArcs,e.neighbors=S,e.quantize=q,e.transform=C,e.untransform=A,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}])});
//# sourceMappingURL=contrail-charts.min.js.map